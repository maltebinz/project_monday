(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var $f={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function uA(){if(Py)return Xl;Py=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=t,Xl.jsx=i,Xl.jsxs=i,Xl}var By;function cA(){return By||(By=1,$f.exports=uA()),$f.exports}var J=cA(),Zf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function hA(){if(zy)return bt;zy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=R&&I[R]||I["@@iterator"],typeof I=="function"?I:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,X={};function G(I,et,st){this.props=I,this.context=et,this.refs=X,this.updater=st||U}G.prototype.isReactComponent={},G.prototype.setState=function(I,et){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,et,"setState")},G.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function tt(){}tt.prototype=G.prototype;function lt(I,et,st){this.props=I,this.context=et,this.refs=X,this.updater=st||U}var rt=lt.prototype=new tt;rt.constructor=lt,q(rt,G.prototype),rt.isPureReactComponent=!0;var St=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Ot=Object.prototype.hasOwnProperty;function O(I,et,st,nt,gt,wt){return st=wt.ref,{$$typeof:r,type:I,key:et,ref:st!==void 0?st:null,props:wt}}function b(I,et){return O(I.type,et,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function x(I){var et={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return et[st]})}var V=/\/+/g;function L(I,et){return typeof I=="object"&&I!==null&&I.key!=null?x(""+I.key):et.toString(36)}function D(){}function Le(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(et){I.status==="pending"&&(I.status="fulfilled",I.value=et)},function(et){I.status==="pending"&&(I.status="rejected",I.reason=et)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function se(I,et,st,nt,gt){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var Et=!1;if(I===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(I.$$typeof){case r:case t:Et=!0;break;case E:return Et=I._init,se(Et(I._payload),et,st,nt,gt)}}if(Et)return gt=gt(I),Et=nt===""?"."+L(I,0):nt,St(gt)?(st="",Et!=null&&(st=Et.replace(V,"$&/")+"/"),se(gt,et,st,"",function(Bn){return Bn})):gt!=null&&(C(gt)&&(gt=b(gt,st+(gt.key==null||I&&I.key===gt.key?"":(""+gt.key).replace(V,"$&/")+"/")+Et)),et.push(gt)),1;Et=0;var De=nt===""?".":nt+":";if(St(I))for(var Zt=0;Zt<I.length;Zt++)nt=I[Zt],wt=De+L(nt,Zt),Et+=se(nt,et,st,wt,gt);else if(Zt=S(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(nt=I.next()).done;)nt=nt.value,wt=De+L(nt,Zt++),Et+=se(nt,et,st,wt,gt);else if(wt==="object"){if(typeof I.then=="function")return se(Le(I),et,st,nt,gt);throw et=String(I),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Et}function F(I,et,st){if(I==null)return I;var nt=[],gt=0;return se(I,nt,"","",function(wt){return et.call(st,wt,gt++)}),nt}function at(I){if(I._status===-1){var et=I._result;et=et(),et.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=et)}if(I._status===1)return I._result.default;throw I._result}var dt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return bt.Children={map:F,forEach:function(I,et,st){F(I,function(){et.apply(this,arguments)},st)},count:function(I){var et=0;return F(I,function(){et++}),et},toArray:function(I){return F(I,function(et){return et})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=G,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=lt,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ft.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,et,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var nt=q({},I.props),gt=I.key,wt=void 0;if(et!=null)for(Et in et.ref!==void 0&&(wt=void 0),et.key!==void 0&&(gt=""+et.key),et)!Ot.call(et,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&et.ref===void 0||(nt[Et]=et[Et]);var Et=arguments.length-2;if(Et===1)nt.children=st;else if(1<Et){for(var De=Array(Et),Zt=0;Zt<Et;Zt++)De[Zt]=arguments[Zt+2];nt.children=De}return O(I.type,gt,void 0,void 0,wt,nt)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},bt.createElement=function(I,et,st){var nt,gt={},wt=null;if(et!=null)for(nt in et.key!==void 0&&(wt=""+et.key),et)Ot.call(et,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(gt[nt]=et[nt]);var Et=arguments.length-2;if(Et===1)gt.children=st;else if(1<Et){for(var De=Array(Et),Zt=0;Zt<Et;Zt++)De[Zt]=arguments[Zt+2];gt.children=De}if(I&&I.defaultProps)for(nt in Et=I.defaultProps,Et)gt[nt]===void 0&&(gt[nt]=Et[nt]);return O(I,wt,void 0,void 0,null,gt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:g,render:I}},bt.isValidElement=C,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:at}},bt.memo=function(I,et){return{$$typeof:p,type:I,compare:et===void 0?null:et}},bt.startTransition=function(I){var et=ft.T,st={};ft.T=st;try{var nt=I(),gt=ft.S;gt!==null&&gt(st,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(zt,dt)}catch(wt){dt(wt)}finally{ft.T=et}},bt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},bt.use=function(I){return ft.H.use(I)},bt.useActionState=function(I,et,st){return ft.H.useActionState(I,et,st)},bt.useCallback=function(I,et){return ft.H.useCallback(I,et)},bt.useContext=function(I){return ft.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,et){return ft.H.useDeferredValue(I,et)},bt.useEffect=function(I,et,st){var nt=ft.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(I,et)},bt.useId=function(){return ft.H.useId()},bt.useImperativeHandle=function(I,et,st){return ft.H.useImperativeHandle(I,et,st)},bt.useInsertionEffect=function(I,et){return ft.H.useInsertionEffect(I,et)},bt.useLayoutEffect=function(I,et){return ft.H.useLayoutEffect(I,et)},bt.useMemo=function(I,et){return ft.H.useMemo(I,et)},bt.useOptimistic=function(I,et){return ft.H.useOptimistic(I,et)},bt.useReducer=function(I,et,st){return ft.H.useReducer(I,et,st)},bt.useRef=function(I){return ft.H.useRef(I)},bt.useState=function(I){return ft.H.useState(I)},bt.useSyncExternalStore=function(I,et,st){return ft.H.useSyncExternalStore(I,et,st)},bt.useTransition=function(){return ft.H.useTransition()},bt.version="19.1.0",bt}var ky;function Bd(){return ky||(ky=1,Zf.exports=hA()),Zf.exports}var Q=Bd(),Jf={exports:{}},$l={},Wf={exports:{}},td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function fA(){return jy||(jy=1,function(r){function t(F,at){var dt=F.length;F.push(at);t:for(;0<dt;){var zt=dt-1>>>1,I=F[zt];if(0<o(I,at))F[zt]=at,F[dt]=I,dt=zt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var at=F[0],dt=F.pop();if(dt!==at){F[0]=dt;t:for(var zt=0,I=F.length,et=I>>>1;zt<et;){var st=2*(zt+1)-1,nt=F[st],gt=st+1,wt=F[gt];if(0>o(nt,dt))gt<I&&0>o(wt,nt)?(F[zt]=wt,F[gt]=dt,zt=gt):(F[zt]=nt,F[st]=dt,zt=st);else if(gt<I&&0>o(wt,dt))F[zt]=wt,F[gt]=dt,zt=gt;else break t}}return at}function o(F,at){var dt=F.sortIndex-at.sortIndex;return dt!==0?dt:F.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,R=null,S=3,U=!1,q=!1,X=!1,G=!1,tt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function St(F){for(var at=i(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=F)s(p),at.sortIndex=at.expirationTime,t(y,at);else break;at=i(p)}}function ft(F){if(X=!1,St(F),!q)if(i(y)!==null)q=!0,Ot||(Ot=!0,L());else{var at=i(p);at!==null&&se(ft,at.startTime-F)}}var Ot=!1,O=-1,b=5,C=-1;function x(){return G?!0:!(r.unstable_now()-C<b)}function V(){if(G=!1,Ot){var F=r.unstable_now();C=F;var at=!0;try{t:{q=!1,X&&(X=!1,lt(O),O=-1),U=!0;var dt=S;try{e:{for(St(F),R=i(y);R!==null&&!(R.expirationTime>F&&x());){var zt=R.callback;if(typeof zt=="function"){R.callback=null,S=R.priorityLevel;var I=zt(R.expirationTime<=F);if(F=r.unstable_now(),typeof I=="function"){R.callback=I,St(F),at=!0;break e}R===i(y)&&s(y),St(F)}else s(y);R=i(y)}if(R!==null)at=!0;else{var et=i(p);et!==null&&se(ft,et.startTime-F),at=!1}}break t}finally{R=null,S=dt,U=!1}at=void 0}}finally{at?L():Ot=!1}}}var L;if(typeof rt=="function")L=function(){rt(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Le=D.port2;D.port1.onmessage=V,L=function(){Le.postMessage(null)}}else L=function(){tt(V,0)};function se(F,at){O=tt(function(){F(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(F){switch(S){case 1:case 2:case 3:var at=3;break;default:at=S}var dt=S;S=at;try{return F()}finally{S=dt}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(F,at){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=S;S=F;try{return at()}finally{S=dt}},r.unstable_scheduleCallback=function(F,at,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,F){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=dt+I,F={id:E++,callback:at,priorityLevel:F,startTime:dt,expirationTime:I,sortIndex:-1},dt>zt?(F.sortIndex=dt,t(p,F),i(y)===null&&F===i(p)&&(X?(lt(O),O=-1):X=!0,se(ft,dt-zt))):(F.sortIndex=I,t(y,F),q||U||(q=!0,Ot||(Ot=!0,L()))),F},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(F){var at=S;return function(){var dt=S;S=at;try{return F.apply(this,arguments)}finally{S=dt}}}}(td)),td}var qy;function dA(){return qy||(qy=1,Wf.exports=fA()),Wf.exports}var ed={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function mA(){if(Hy)return Ye;Hy=1;var r=Bd();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,E)},Ye.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Ye.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Ye.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ye.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,R=g(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:S,fetchPriority:U}):E==="script"&&s.d.X(y,{crossOrigin:R,integrity:S,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Ye.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,R=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Ye.requestFormReset=function(y){s.d.r(y)},Ye.unstable_batchedUpdates=function(y,p){return y(p)},Ye.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.1.0",Ye}var Gy;function gA(){if(Gy)return ed.exports;Gy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),ed.exports=mA(),ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function pA(){if(Fy)return $l;Fy=1;var r=dA(),t=Bd(),i=gA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Le(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case G:return"Profiler";case X:return"StrictMode";case ft:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case lt:return(e._context.displayName||"Context")+".Consumer";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Le(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Le(e(n))}catch{}}return null}var se=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function et(e){return{current:e}}function st(e){0>I||(e.current=zt[I],zt[I]=null,I--)}function nt(e,n){I++,zt[I]=e.current,e.current=n}var gt=et(null),wt=et(null),Et=et(null),De=et(null);function Zt(e,n){switch(nt(Et,n),nt(wt,e),nt(gt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hy(n),e=fy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}st(gt),nt(gt,e)}function Bn(){st(gt),st(wt),st(Et)}function qi(e){e.memoizedState!==null&&nt(De,e);var n=gt.current,a=fy(n,e.type);n!==a&&(nt(wt,e),nt(gt,a))}function ui(e){wt.current===e&&(st(gt),st(wt)),De.current===e&&(st(De),Gl._currentValue=dt)}var xr=Object.prototype.hasOwnProperty,Or=r.unstable_scheduleCallback,Vr=r.unstable_cancelCallback,js=r.unstable_shouldYield,xo=r.unstable_requestPaint,gn=r.unstable_now,Xc=r.unstable_getCurrentPriorityLevel,qs=r.unstable_ImmediatePriority,Ca=r.unstable_UserBlockingPriority,Mr=r.unstable_NormalPriority,$c=r.unstable_LowPriority,Da=r.unstable_IdlePriority,Hs=r.log,Oo=r.unstable_setDisableYieldValue,le=null,Ht=null;function sn(e){if(typeof Hs=="function"&&Oo(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,e)}catch{}}var Ge=Math.clz32?Math.clz32:Lr,Vo=Math.log,Zc=Math.LN2;function Lr(e){return e>>>=0,e===0?32:31-(Vo(e)/Zc|0)|0}var Ur=256,Pr=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ia(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Nn(l):(v&=T,v!==0?h=Nn(v):a||(a=T&~e,a!==0&&(h=Nn(a))))):(T=l&~f,T!==0?h=Nn(T):v!==0?h=Nn(v):a||(a=l&~e,a!==0&&(h=Nn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Br(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fs(){var e=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),e}function Ys(){var e=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),e}function ci(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function hi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qs(e,n,a,l,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Ge(a),Z=1<<Y;T[Y]=0,w[Y]=-1;var k=z[Y];if(k!==null)for(z[Y]=null,Y=0;Y<k.length;Y++){var j=k[Y];j!==null&&(j.lane&=-536870913)}a&=~Z}l!==0&&zn(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function zn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ge(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ks(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Hi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gi(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:xy(e.type))}function Mo(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,me="__reactProps$"+ee,pn="__reactContainer$"+ee,Xs="__reactEvents$"+ee,Jc="__reactListeners$"+ee,Fi="__reactHandles$"+ee,Lo="__reactResources$"+ee,zr="__reactMarker$"+ee;function Yi(e){delete e[Te],delete e[me],delete e[Xs],delete e[Jc],delete e[Fi]}function fi(e){var n=e[Te];if(n)return n;for(var a=e.parentNode;a;){if(n=a[pn]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=py(e);e!==null;){if(a=e[Te])return a;e=py(e)}return n}e=a,a=e.parentNode}return null}function kn(e){if(e=e[Te]||e[pn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function jn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ze(e){var n=e[Lo];return n||(n=e[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[zr]=!0}var $s=new Set,xa={};function xn(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(xa[e]=n,e=0;e<n.length;e++)$s.add(n[e])}var Uo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},kr={};function Bo(e){return xr.call(kr,e)?!0:xr.call(Po,e)?!1:Uo.test(e)?kr[e]=!0:(Po[e]=!0,!1)}function Qi(e,n,a){if(Bo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function qn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var jr,zo;function mi(e){if(jr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",zo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+zo}var Oa=!1;function Va(e,n){if(!e||Oa)return"";Oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(j){var k=j}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(j){k=j}e.call(Z.prototype)}}else{try{throw Error()}catch(j){k=j}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(j){if(j&&k&&typeof j.stack=="string")return[j.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),z=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var Y=`
`+w[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Oa=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function Zs(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Va(e.type,!1);case 11:return Va(e.type.render,!1);case 1:return Va(e.type,!0);case 31:return mi("Activity");default:return""}}function Ma(e){try{var n="";do n+=Zs(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Js(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Wc(e){var n=Js(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function La(e){e._valueTracker||(e._valueTracker=Wc(e))}function Ws(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Js(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function qr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var th=/[\n"\\]/g;function ge(e){return e.replace(th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,a,l,h,f,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ki(e,v,Je(n)):a!=null?Ki(e,v,Je(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function Hr(e,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ki(e,n,a){n==="number"&&qr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gi(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Yt(e,n,a){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Je(a):""}function Gr(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Je(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function yn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Fr.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function tl(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ko(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function el(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ua(e){return nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,_i=null;function nl(e){var n=kn(e);if(n&&(e=n.stateNode)){var a=e[me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Ws(l)}break t;case"textarea":Yt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&gi(e,!!a.multiple,n,!1)}}}var Hn=!1;function jo(e,n,a){if(Hn)return e(n,a);Hn=!0;try{var l=e(n);return l}finally{if(Hn=!1,(yi!==null||_i!==null)&&(Mu(),yi&&(n=yi,e=_i,_i=yi=null,nl(n),e)))for(n=0;n<e.length;n++)nl(e[n])}}function Yr(e,n){var a=e.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(On)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){vn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{vn=!1}var Gn=null,Xi=null,vi=null;function il(){if(vi)return vi;var e,n=Xi,a=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return vi=h.slice(e,1<l?1-l:void 0)}function Fn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function rl(){return!1}function Ie(e){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yn:rl,this.isPropagationStopped=rl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=Ie(jt),Kr=E({},jt,{view:0,detail:0}),qo=Ie(Kr),Ba,za,Qn,Xr=E({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Ba=e.screenX-Qn.screenX,za=e.screenY-Qn.screenY):za=Ba=0,Qn=e),Ba)},movementY:function(e){return"movementY"in e?e.movementY:za}}),En=Ie(Xr),Ho=E({},Xr,{dataTransfer:0}),ih=Ie(Ho),$r=E({},Kr,{relatedTarget:0}),ka=Ie($r),al=E({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),ja=Ie(al),Go=E({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qa=Ie(Go),rh=E({},jt,{data:0}),sl=Ie(rh),Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Yo[e])?!!n[e]:!1}function Jr(){return ll}var Qo=E({},Kr,{key:function(e){if(e.key){var n=Zr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Fn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(e){return e.type==="keypress"?Fn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ha=Ie(Qo),Ko=E({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Ie(Ko),Ei=E({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Xo=Ie(Ei),$o=E({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zo=Ie($o),Jo=E({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Ie(Jo),We=E({},jt,{newState:0,oldState:0}),Wo=Ie(We),tu=[9,13,27,32],Kn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,_=On&&(!Kn||u&&8<u&&11>=u),A=" ",P=!1;function H(e,n){switch(e){case"keyup":return tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ae(e,n){switch(e){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return e=n.data,e===A&&P?null:e;default:return null}}function Mt(e,n){if(Vt)return e==="compositionend"||!Kn&&H(e,n)?(e=il(),vi=Xi=Gn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function Ti(e,n,a,l){yi?_i?_i.push(l):_i=[l]:yi=l,n=ku(n,"onChange"),0<n.length&&(a=new Pa("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Pe=null,Xn=null;function ul(e){sy(e,0)}function eu(e){var n=jn(e);if(Ws(n))return e}function Cm(e,n){if(e==="change")return n}var Dm=!1;if(On){var ah;if(On){var sh="oninput"in document;if(!sh){var Im=document.createElement("div");Im.setAttribute("oninput","return;"),sh=typeof Im.oninput=="function"}ah=sh}else ah=!1;Dm=ah&&(!document.documentMode||9<document.documentMode)}function Nm(){Pe&&(Pe.detachEvent("onpropertychange",xm),Xn=Pe=null)}function xm(e){if(e.propertyName==="value"&&eu(Xn)){var n=[];Ti(n,Xn,e,_n(e)),jo(ul,n)}}function z0(e,n,a){e==="focusin"?(Nm(),Pe=n,Xn=a,Pe.attachEvent("onpropertychange",xm)):e==="focusout"&&Nm()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(Xn)}function j0(e,n){if(e==="click")return eu(n)}function q0(e,n){if(e==="input"||e==="change")return eu(n)}function H0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:H0;function cl(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xr.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Om(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vm(e,n){var a=Om(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Om(a)}}function Mm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=qr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=qr(e.document)}return n}function lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G0=On&&"documentMode"in document&&11>=document.documentMode,Fa=null,oh=null,hl=null,uh=!1;function Um(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||Fa==null||Fa!==qr(l)||(l=Fa,"selectionStart"in l&&lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),hl&&cl(hl,l)||(hl=l,l=ku(oh,"onSelect"),0<l.length&&(n=new Pa("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Fa)))}function Wr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Ya={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionrun:Wr("Transition","TransitionRun"),transitionstart:Wr("Transition","TransitionStart"),transitioncancel:Wr("Transition","TransitionCancel"),transitionend:Wr("Transition","TransitionEnd")},ch={},Pm={};On&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function ta(e){if(ch[e])return ch[e];if(!Ya[e])return e;var n=Ya[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Pm)return ch[e]=n[a];return e}var Bm=ta("animationend"),zm=ta("animationiteration"),km=ta("animationstart"),F0=ta("transitionrun"),Y0=ta("transitionstart"),Q0=ta("transitioncancel"),jm=ta("transitionend"),qm=new Map,hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hh.push("scrollEnd");function Vn(e,n){qm.set(e,n),xn(n,[e])}var Hm=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var a=Hm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ma(n)},Hm.set(e,n),n)}return{value:e,source:n,stack:Ma(n)}}var An=[],Qa=0,fh=0;function nu(){for(var e=Qa,n=fh=Qa=0;n<e;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Gm(a,h,f)}}function iu(e,n,a,l){An[Qa++]=e,An[Qa++]=n,An[Qa++]=a,An[Qa++]=l,fh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function dh(e,n,a,l){return iu(e,n,a,l),ru(e)}function Ka(e,n){return iu(e,null,null,n),ru(e)}function Gm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ge(a),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function ru(e){if(50<Ul)throw Ul=0,Ef=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Xa={};function K0(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,a,l){return new K0(e,n,a,l)}function mh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,n){var a=e.alternate;return a===null?(a=un(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function au(e,n,a,l,h,f){var v=0;if(l=e,typeof e=="function")mh(e)&&(v=1);else if(typeof e=="string")v=$T(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=un(31,a,n,h),e.elementType=C,e.lanes=f,e;case q:return ea(a.children,h,f,n);case X:v=8,h|=24;break;case G:return e=un(12,a,n,h|2),e.elementType=G,e.lanes=f,e;case ft:return e=un(13,a,n,h),e.elementType=ft,e.lanes=f,e;case Ot:return e=un(19,a,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:case rt:v=10;break t;case lt:v=9;break t;case St:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=un(v,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function ea(e,n,a,l){return e=un(7,e,l,n),e.lanes=a,e}function gh(e,n,a){return e=un(6,e,null,n),e.lanes=a,e}function ph(e,n,a){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $a=[],Za=0,su=null,lu=0,Sn=[],bn=0,na=null,Si=1,bi="";function ia(e,n){$a[Za++]=lu,$a[Za++]=su,su=e,lu=n}function Ym(e,n,a){Sn[bn++]=Si,Sn[bn++]=bi,Sn[bn++]=na,na=e;var l=Si;e=bi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var f=32-Ge(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Si=1<<32-Ge(n)+h|a<<h|l,bi=f+e}else Si=1<<f|a<<h|l,bi=e}function yh(e){e.return!==null&&(ia(e,1),Ym(e,1,0))}function _h(e){for(;e===su;)su=$a[--Za],$a[Za]=null,lu=$a[--Za],$a[Za]=null;for(;e===na;)na=Sn[--bn],Sn[bn]=null,bi=Sn[--bn],Sn[bn]=null,Si=Sn[--bn],Sn[bn]=null}var tn=null,oe=null,kt=!1,ra=null,$n=!1,vh=Error(s(519));function aa(e){var n=Error(s(418,""));throw ml(Tn(n,e)),vh}function Qm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Te]=e,n[me]=l,a){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)It(Bl[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),Gr(n,l.value,l.defaultValue,l.children),La(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||cy(n.textContent,a)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=ju),n=!0):n=!1,n||aa(e)}function Km(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:tn=tn.return}}function fl(e){if(e!==tn)return!1;if(!kt)return Km(e),kt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Uf(e.type,e.memoizedProps)),a=!a),a&&oe&&aa(e),Km(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){oe=Ln(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,hr(e.type)?(e=kf,kf=null,oe=e):oe=n):oe=tn?Ln(e.stateNode.nextSibling):null;return!0}function dl(){oe=tn=null,kt=!1}function Xm(){var e=ra;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ra=null),e}function ml(e){ra===null?ra=[e]:ra.push(e)}var Eh=et(null),sa=null,Ri=null;function $i(e,n,a){nt(Eh,n._currentValue),n._currentValue=a}function wi(e){e._currentValue=Eh.current,st(Eh)}function Th(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Ah(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Th(f.return,a,e),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Th(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function gl(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Gl):e=[Gl])}h=h.return}e!==null&&Ah(n,e,a,l),n.flags|=262144}function ou(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function la(e){sa=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return $m(sa,e)}function uu(e,n){return sa===null&&la(e),$m(e,n)}function $m(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ri===null){if(e===null)throw Error(s(308));Ri=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ri=Ri.next=n;return a}var X0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},$0=r.unstable_scheduleCallback,Z0=r.unstable_NormalPriority,be={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sh(){return{controller:new X0,data:new Map,refCount:0}}function pl(e){e.refCount--,e.refCount===0&&$0(Z0,function(){e.controller.abort()})}var yl=null,bh=0,Ja=0,Wa=null;function J0(e,n){if(yl===null){var a=yl=[];bh=0,Ja=Cf(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bh++,n.then(Zm,Zm),n}function Zm(){if(--bh===0&&yl!==null){Wa!==null&&(Wa.status="fulfilled");var e=yl;yl=null,Ja=0,Wa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function W0(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Jm=F.S;F.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&J0(e,n),Jm!==null&&Jm(e,n)};var oa=et(null);function Rh(){var e=oa.current;return e!==null?e:Jt.pooledCache}function cu(e,n){n===null?nt(oa,oa.current):nt(oa,n.pool)}function Wm(){var e=Rh();return e===null?null:{parent:be._currentValue,pool:e}}var _l=Error(s(460)),tg=Error(s(474)),hu=Error(s(542)),wh={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fu(){}function ng(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(fu,fu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e;default:if(typeof n.status=="string")n.then(fu,fu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e}throw vl=n,_l}}var vl=null;function ig(){if(vl===null)throw Error(s(459));var e=vl;return vl=null,e}function rg(e){if(e===_l||e===hu)throw Error(s(483))}var Zi=!1;function Ch(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wi(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ru(e),Gm(e,null,a),n}return iu(e,l,n,a),ru(e)}function El(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Ks(e,a)}}function Ih(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Nh=!1;function Tl(){if(Nh){var e=Wa;if(e!==null)throw e}}function Al(e,n,a,l){Nh=!1;var h=e.updateQueue;Zi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,z=w.next;w.next=null,v===null?f=z:v.next=z,v=w;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=w))}if(f!==null){var Z=h.baseState;v=0,Y=z=w=null,T=f;do{var k=T.lane&-536870913,j=k!==T.lane;if(j?(Lt&k)===k:(l&k)===k){k!==0&&k===Ja&&(Nh=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,pt=T;k=n;var Xt=a;switch(pt.tag){case 1:if(vt=pt.payload,typeof vt=="function"){Z=vt.call(Xt,Z,k);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=pt.payload,k=typeof vt=="function"?vt.call(Xt,Z,k):vt,k==null)break t;Z=E({},Z,k);break t;case 2:Zi=!0}}k=T.callback,k!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[k]:j.push(k))}else j={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=j,w=Z):Y=Y.next=j,v|=k;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);Y===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),lr|=v,e.lanes=v,e.memoizedState=Z}}function ag(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function sg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ag(a[e],n)}var ts=et(null),du=et(0);function lg(e,n){e=Vi,nt(du,e),nt(ts,n),Vi=e|n.baseLanes}function xh(){nt(du,Vi),nt(ts,ts.current)}function Oh(){Vi=du.current,st(ts),st(du)}var tr=0,Rt=null,Qt=null,pe=null,mu=!1,es=!1,ua=!1,gu=0,Sl=0,ns=null,tT=0;function he(){throw Error(s(321))}function Vh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!on(e[a],n[a]))return!1;return!0}function Mh(e,n,a,l,h,f){return tr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Gg:Fg,ua=!1,f=a(l,h),ua=!1,es&&(f=ug(n,a,l,h)),og(e),f}function og(e){F.H=Tu;var n=Qt!==null&&Qt.next!==null;if(tr=0,pe=Qt=Rt=null,mu=!1,Sl=0,ns=null,n)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&ou(e)&&(xe=!0))}function ug(e,n,a,l){Rt=e;var h=0;do{if(es&&(ns=null),Sl=0,es=!1,25<=h)throw Error(s(301));if(h+=1,pe=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=lT,f=n(a,l)}while(es);return f}function eT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?bl(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Lh(){var e=gu!==0;return gu=0,e}function Uh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ph(e){if(mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}mu=!1}tr=0,pe=Qt=Rt=null,es=!1,Sl=gu=0,ns=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Qt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Qt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?Rt.memoizedState=pe=e:pe=pe.next=e}return pe}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(e){var n=Sl;return Sl+=1,ns===null&&(ns=[]),e=ng(ns,e,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Gg:Fg),e}function pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===rt)return Fe(e)}throw Error(s(438,String(e)))}function zh(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bh(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=x;return n.index++,a}function Ci(e,n){return typeof n=="function"?n(e):n}function yu(e){var n=ye();return kh(n,Qt,e)}function kh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=v=null,w=null,z=n,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Lt&Z)===Z:(tr&Z)===Z){var k=z.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ja&&(Y=!0);else if((tr&k)===k){z=z.next,k===Ja&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=Z,v=f):w=w.next=Z,Rt.lanes|=k,lr|=k;Z=z.action,ua&&a(f,Z),f=z.hasEagerState?z.eagerState:a(f,Z)}else k={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=k,v=f):w=w.next=k,Rt.lanes|=Z,lr|=Z;z=z.next}while(z!==null&&z!==n);if(w===null?v=f:w.next=T,!on(f,e.memoizedState)&&(xe=!0,Y&&(a=Wa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function jh(e){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);on(f,n.memoizedState)||(xe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function cg(e,n,a){var l=Rt,h=ye(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!on((Qt||h).memoizedState,a);v&&(h.memoizedState=a,xe=!0),h=h.queue;var T=dg.bind(null,l,h,e);if(Rl(2048,8,T,[e]),h.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,is(9,_u(),fg.bind(null,l,h,a,n),null),Jt===null)throw Error(s(349));f||(tr&124)!==0||hg(l,n,a)}return a}function hg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Bh(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function fg(e,n,a,l){n.value=a,n.getSnapshot=l,mg(n)&&gg(e)}function dg(e,n,a){return a(function(){mg(n)&&gg(e)})}function mg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!on(e,a)}catch{return!0}}function gg(e){var n=Ka(e,2);n!==null&&mn(n,e,2)}function qh(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),ua){sn(!0);try{a()}finally{sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n}function pg(e,n,a,l){return e.baseState=a,kh(e,Qt,typeof l=="function"?l:Ci)}function nT(e,n,a,l,h){if(Eu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,yg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var T=a(h,l),w=F.S;w!==null&&w(v,T),_g(e,n,T)}catch(z){Hh(e,n,z)}finally{F.T=f}}else try{f=a(h,l),_g(e,n,f)}catch(z){Hh(e,n,z)}}function _g(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vg(e,n,l)},function(l){return Hh(e,n,l)}):vg(e,n,a)}function vg(e,n,a){n.status="fulfilled",n.value=a,Eg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,yg(e,a)))}function Hh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Eg(n),n=n.next;while(n!==l)}e.action=null}function Eg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Tg(e,n){return n}function Ag(e,n){if(kt){var a=Jt.formState;if(a!==null){t:{var l=Rt;if(kt){if(oe){e:{for(var h=oe,f=$n;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Ln(h.nextSibling),l=h.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:n},a.queue=l,a=jg.bind(null,Rt,l),l.dispatch=a,l=qh(!1),f=Kh.bind(null,Rt,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=nT.bind(null,Rt,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function Sg(e){var n=ye();return bg(n,Qt,e)}function bg(e,n,a){if(n=kh(e,n,Tg)[0],e=yu(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=bl(n)}catch(v){throw v===_l?hu:v}else l=n;n=ye();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,is(9,_u(),iT.bind(null,h,a),null)),[l,f,e]}function iT(e,n){e.action=n}function Rg(e){var n=ye(),a=Qt;if(a!==null)return bg(n,a,e);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function is(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Bh(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function _u(){return{destroy:void 0,resource:void 0}}function wg(){return ye().memoizedState}function vu(e,n,a,l){var h=en();l=l===void 0?null:l,Rt.flags|=e,h.memoizedState=is(1|n,_u(),a,l)}function Rl(e,n,a,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&Vh(l,Qt.memoizedState.deps)?h.memoizedState=is(n,f,a,l):(Rt.flags|=e,h.memoizedState=is(1|n,f,a,l))}function Cg(e,n){vu(8390656,8,e,n)}function Dg(e,n){Rl(2048,8,e,n)}function Ig(e,n){return Rl(4,2,e,n)}function Ng(e,n){return Rl(4,4,e,n)}function xg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Og(e,n,a){a=a!=null?a.concat([e]):null,Rl(4,4,xg.bind(null,n,e),a)}function Gh(){}function Vg(e,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Mg(e,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vh(n,l[1]))return l[0];if(l=e(),ua){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,n],l}function Fh(e,n,a){return a===void 0||(tr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Pp(),Rt.lanes|=e,lr|=e,a)}function Lg(e,n,a,l){return on(a,n)?a:ts.current!==null?(e=Fh(e,a,l),on(e,n)||(xe=!0),e):(tr&42)===0?(xe=!0,e.memoizedState=a):(e=Pp(),Rt.lanes|=e,lr|=e,n)}function Ug(e,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var v=F.T,T={};F.T=T,Kh(e,!1,n,a);try{var w=h(),z=F.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=W0(w,l);wl(e,n,Y,dn(e))}else wl(e,n,l,dn(e))}catch(Z){wl(e,n,{then:function(){},status:"rejected",reason:Z},dn())}finally{at.p=f,F.T=v}}function rT(){}function Yh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Pg(e).queue;Ug(e,h,n,dt,a===null?rT:function(){return Bg(e),a(l)})}function Pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bg(e){var n=Pg(e).next.queue;wl(e,n,{},dn())}function Qh(){return Fe(Gl)}function zg(){return ye().memoizedState}function kg(){return ye().memoizedState}function aT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();e=Ji(a);var l=Wi(n,e,a);l!==null&&(mn(l,n,a),El(l,n,a)),n={cache:Sh()},e.payload=n;return}n=n.return}}function sT(e,n,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Eu(e)?qg(n,a):(a=dh(e,n,a,l),a!==null&&(mn(a,e,l),Hg(a,n,l)))}function jg(e,n,a){var l=dn();wl(e,n,a,l)}function wl(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Eu(e))qg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,on(T,v))return iu(e,n,h,0),Jt===null&&nu(),!1}catch{}finally{}if(a=dh(e,n,h,l),a!==null)return mn(a,e,l),Hg(a,n,l),!0}return!1}function Kh(e,n,a,l){if(l={lane:2,revertLane:Cf(),action:l,hasEagerState:!1,eagerState:null,next:null},Eu(e)){if(n)throw Error(s(479))}else n=dh(e,a,l,2),n!==null&&mn(n,e,2)}function Eu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function qg(e,n){es=mu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Hg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Ks(e,a)}}var Tu={readContext:Fe,use:pu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},Gg={readContext:Fe,use:pu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Cg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,vu(4194308,4,xg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return vu(4194308,4,e,n)},useInsertionEffect:function(e,n){vu(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var l=e();if(ua){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=en();if(a!==void 0){var h=a(n);if(ua){sn(!0);try{a(n)}finally{sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=sT.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=qh(e);var n=e.queue,a=jg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Gh,useDeferredValue:function(e,n){var a=en();return Fh(a,e,n)},useTransition:function(){var e=qh(!1);return e=Ug.bind(null,Rt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Rt,h=en();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Lt&124)!==0||hg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Cg(dg.bind(null,l,f,e),[e]),l.flags|=2048,is(9,_u(),fg.bind(null,l,f,a,n),null),a},useId:function(){var e=en(),n=Jt.identifierPrefix;if(kt){var a=bi,l=Si;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=gu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=tT++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Ag,useActionState:Ag,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Kh.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:zh,useCacheRefresh:function(){return en().memoizedState=aT.bind(null,Rt)}},Fg={readContext:Fe,use:pu,useCallback:Vg,useContext:Fe,useEffect:Dg,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Mg,useReducer:yu,useRef:wg,useState:function(){return yu(Ci)},useDebugValue:Gh,useDeferredValue:function(e,n){var a=ye();return Lg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=yu(Ci)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:bl(e),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:Qh,useFormState:Sg,useActionState:Sg,useOptimistic:function(e,n){var a=ye();return pg(a,Qt,e,n)},useMemoCache:zh,useCacheRefresh:kg},lT={readContext:Fe,use:pu,useCallback:Vg,useContext:Fe,useEffect:Dg,useImperativeHandle:Og,useInsertionEffect:Ig,useLayoutEffect:Ng,useMemo:Mg,useReducer:jh,useRef:wg,useState:function(){return jh(Ci)},useDebugValue:Gh,useDeferredValue:function(e,n){var a=ye();return Qt===null?Fh(a,e,n):Lg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=jh(Ci)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:bl(e),n]},useSyncExternalStore:cg,useId:zg,useHostTransitionStatus:Qh,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var a=ye();return Qt!==null?pg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:zh,useCacheRefresh:kg},rs=null,Cl=0;function Au(e){var n=Cl;return Cl+=1,rs===null&&(rs=[]),ng(rs,e,n)}function Dl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Su(e,n){throw n.$$typeof===R?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Yg(e){var n=e._init;return n(e._payload)}function Qg(e){function n(M,N){if(e){var B=M.deletions;B===null?(M.deletions=[N],M.flags|=16):B.push(N)}}function a(M,N){if(!e)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function h(M,N){return M=Ai(M,N),M.index=0,M.sibling=null,M}function f(M,N,B){return M.index=B,e?(B=M.alternate,B!==null?(B=B.index,B<N?(M.flags|=67108866,N):B):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function T(M,N,B,K){return N===null||N.tag!==6?(N=gh(B,M.mode,K),N.return=M,N):(N=h(N,B),N.return=M,N)}function w(M,N,B,K){var ct=B.type;return ct===q?Y(M,N,B.props.children,K,B.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Yg(ct)===N.type)?(N=h(N,B.props),Dl(N,B),N.return=M,N):(N=au(B.type,B.key,B.props,null,M.mode,K),Dl(N,B),N.return=M,N)}function z(M,N,B,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=ph(B,M.mode,K),N.return=M,N):(N=h(N,B.children||[]),N.return=M,N)}function Y(M,N,B,K,ct){return N===null||N.tag!==7?(N=ea(B,M.mode,K,ct),N.return=M,N):(N=h(N,B),N.return=M,N)}function Z(M,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=gh(""+N,M.mode,B),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return B=au(N.type,N.key,N.props,null,M.mode,B),Dl(B,N),B.return=M,B;case U:return N=ph(N,M.mode,B),N.return=M,N;case b:var K=N._init;return N=K(N._payload),Z(M,N,B)}if(se(N)||L(N))return N=ea(N,M.mode,B,null),N.return=M,N;if(typeof N.then=="function")return Z(M,Au(N),B);if(N.$$typeof===rt)return Z(M,uu(M,N),B);Su(M,N)}return null}function k(M,N,B,K){var ct=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ct!==null?null:T(M,N,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ct?w(M,N,B,K):null;case U:return B.key===ct?z(M,N,B,K):null;case b:return ct=B._init,B=ct(B._payload),k(M,N,B,K)}if(se(B)||L(B))return ct!==null?null:Y(M,N,B,K,null);if(typeof B.then=="function")return k(M,N,Au(B),K);if(B.$$typeof===rt)return k(M,N,uu(M,B),K);Su(M,B)}return null}function j(M,N,B,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return M=M.get(B)||null,T(N,M,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return M=M.get(K.key===null?B:K.key)||null,w(N,M,K,ct);case U:return M=M.get(K.key===null?B:K.key)||null,z(N,M,K,ct);case b:var Ct=K._init;return K=Ct(K._payload),j(M,N,B,K,ct)}if(se(K)||L(K))return M=M.get(B)||null,Y(N,M,K,ct,null);if(typeof K.then=="function")return j(M,N,B,Au(K),ct);if(K.$$typeof===rt)return j(M,N,B,uu(N,K),ct);Su(N,K)}return null}function vt(M,N,B,K){for(var ct=null,Ct=null,ht=N,yt=N=0,Ve=null;ht!==null&&yt<B.length;yt++){ht.index>yt?(Ve=ht,ht=null):Ve=ht.sibling;var Bt=k(M,ht,B[yt],K);if(Bt===null){ht===null&&(ht=Ve);break}e&&ht&&Bt.alternate===null&&n(M,ht),N=f(Bt,N,yt),Ct===null?ct=Bt:Ct.sibling=Bt,Ct=Bt,ht=Ve}if(yt===B.length)return a(M,ht),kt&&ia(M,yt),ct;if(ht===null){for(;yt<B.length;yt++)ht=Z(M,B[yt],K),ht!==null&&(N=f(ht,N,yt),Ct===null?ct=ht:Ct.sibling=ht,Ct=ht);return kt&&ia(M,yt),ct}for(ht=l(ht);yt<B.length;yt++)Ve=j(ht,M,yt,B[yt],K),Ve!==null&&(e&&Ve.alternate!==null&&ht.delete(Ve.key===null?yt:Ve.key),N=f(Ve,N,yt),Ct===null?ct=Ve:Ct.sibling=Ve,Ct=Ve);return e&&ht.forEach(function(pr){return n(M,pr)}),kt&&ia(M,yt),ct}function pt(M,N,B,K){if(B==null)throw Error(s(151));for(var ct=null,Ct=null,ht=N,yt=N=0,Ve=null,Bt=B.next();ht!==null&&!Bt.done;yt++,Bt=B.next()){ht.index>yt?(Ve=ht,ht=null):Ve=ht.sibling;var pr=k(M,ht,Bt.value,K);if(pr===null){ht===null&&(ht=Ve);break}e&&ht&&pr.alternate===null&&n(M,ht),N=f(pr,N,yt),Ct===null?ct=pr:Ct.sibling=pr,Ct=pr,ht=Ve}if(Bt.done)return a(M,ht),kt&&ia(M,yt),ct;if(ht===null){for(;!Bt.done;yt++,Bt=B.next())Bt=Z(M,Bt.value,K),Bt!==null&&(N=f(Bt,N,yt),Ct===null?ct=Bt:Ct.sibling=Bt,Ct=Bt);return kt&&ia(M,yt),ct}for(ht=l(ht);!Bt.done;yt++,Bt=B.next())Bt=j(ht,M,yt,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ht.delete(Bt.key===null?yt:Bt.key),N=f(Bt,N,yt),Ct===null?ct=Bt:Ct.sibling=Bt,Ct=Bt);return e&&ht.forEach(function(oA){return n(M,oA)}),kt&&ia(M,yt),ct}function Xt(M,N,B,K){if(typeof B=="object"&&B!==null&&B.type===q&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:t:{for(var ct=B.key;N!==null;){if(N.key===ct){if(ct=B.type,ct===q){if(N.tag===7){a(M,N.sibling),K=h(N,B.props.children),K.return=M,M=K;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Yg(ct)===N.type){a(M,N.sibling),K=h(N,B.props),Dl(K,B),K.return=M,M=K;break t}a(M,N);break}else n(M,N);N=N.sibling}B.type===q?(K=ea(B.props.children,M.mode,K,B.key),K.return=M,M=K):(K=au(B.type,B.key,B.props,null,M.mode,K),Dl(K,B),K.return=M,M=K)}return v(M);case U:t:{for(ct=B.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(M,N.sibling),K=h(N,B.children||[]),K.return=M,M=K;break t}else{a(M,N);break}else n(M,N);N=N.sibling}K=ph(B,M.mode,K),K.return=M,M=K}return v(M);case b:return ct=B._init,B=ct(B._payload),Xt(M,N,B,K)}if(se(B))return vt(M,N,B,K);if(L(B)){if(ct=L(B),typeof ct!="function")throw Error(s(150));return B=ct.call(B),pt(M,N,B,K)}if(typeof B.then=="function")return Xt(M,N,Au(B),K);if(B.$$typeof===rt)return Xt(M,N,uu(M,B),K);Su(M,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(M,N.sibling),K=h(N,B),K.return=M,M=K):(a(M,N),K=gh(B,M.mode,K),K.return=M,M=K),v(M)):a(M,N)}return function(M,N,B,K){try{Cl=0;var ct=Xt(M,N,B,K);return rs=null,ct}catch(ht){if(ht===_l||ht===hu)throw ht;var Ct=un(29,ht,null,M.mode);return Ct.lanes=K,Ct.return=M,Ct}finally{}}}var as=Qg(!0),Kg=Qg(!1),Rn=et(null),Zn=null;function er(e){var n=e.alternate;nt(Re,Re.current&1),nt(Rn,e),Zn===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(Zn=e)}function Xg(e){if(e.tag===22){if(nt(Re,Re.current),nt(Rn,e),Zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Zn=e)}}else nr()}function nr(){nt(Re,Re.current),nt(Rn,Rn.current)}function Di(e){st(Rn),Zn===e&&(Zn=null),st(Re)}var Re=et(0);function bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $h={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=dn(),h=Ji(l);h.payload=n,a!=null&&(h.callback=a),n=Wi(e,h,l),n!==null&&(mn(n,e,l),El(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=dn(),h=Ji(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Wi(e,h,l),n!==null&&(mn(n,e,l),El(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=dn(),l=Ji(a);l.tag=2,n!=null&&(l.callback=n),n=Wi(e,l,a),n!==null&&(mn(n,e,a),El(n,e,a))}};function $g(e,n,a,l,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!cl(a,l)||!cl(h,f):!0}function Zg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&$h.enqueueReplaceState(n,n.state,null)}function ca(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Jg(e){Ru(e)}function Wg(e){console.error(e)}function tp(e){Ru(e)}function wu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ep(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zh(e,n,a){return a=Ji(a),a.tag=3,a.payload={element:null},a.callback=function(){wu(e,n)},a}function np(e){return e=Ji(e),e.tag=3,e}function ip(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){ep(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){ep(n,a,l),typeof h!="function"&&(or===null?or=new Set([this]):or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function oT(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&gl(n,a,h,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return Zn===null?Af():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===wh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),bf(e,l,h)),!1;case 22:return a.flags|=65536,l===wh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),bf(e,l,h)),!1}throw Error(s(435,a.tag))}return bf(e,l,h),Af(),!1}if(kt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==vh&&(e=Error(s(422),{cause:l}),ml(Tn(e,a)))):(l!==vh&&(n=Error(s(423),{cause:l}),ml(Tn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Tn(l,a),h=Zh(e.stateNode,l,h),Ih(e,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,a),Ll===null?Ll=[f]:Ll.push(f),ue!==4&&(ue=2),n===null)return!0;l=Tn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Zh(a.stateNode,l,e),Ih(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=np(h),ip(h,e,a,l),Ih(a,h),!1}a=a.return}while(a!==null);return!1}var rp=Error(s(461)),xe=!1;function Be(e,n,a,l){n.child=e===null?Kg(n,null,a,l):as(n,e.child,a,l)}function ap(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return la(n),l=Mh(e,n,a,v,f,h),T=Lh(),e!==null&&!xe?(Uh(e,n,h),Ii(e,n,h)):(kt&&T&&yh(n),n.flags|=1,Be(e,n,l,h),n.child)}function sp(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!mh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,lp(e,n,f,l,h)):(e=au(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!sf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(v,l)&&e.ref===n.ref)return Ii(e,n,h)}return n.flags|=1,e=Ai(f,l),e.ref=n.ref,e.return=n,n.child=e}function lp(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(cl(f,l)&&e.ref===n.ref)if(xe=!1,n.pendingProps=l=f,sf(e,h))(e.flags&131072)!==0&&(xe=!0);else return n.lanes=e.lanes,Ii(e,n,h)}return Jh(e,n,a,l,h)}function op(e,n,a){var l=n.pendingProps,h=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return up(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&cu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):xh(),Xg(n);else return n.lanes=n.childLanes=536870912,up(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(cu(n,f.cachePool),lg(n,f),nr(),n.memoizedState=null):(e!==null&&cu(n,null),xh(),nr());return Be(e,n,h,a),n.child}function up(e,n,a,l){var h=Rh();return h=h===null?null:{parent:be._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&cu(n,null),xh(),Xg(n),e!==null&&gl(e,n,l,!0),null}function Cu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Jh(e,n,a,l,h){return la(n),a=Mh(e,n,a,l,void 0,h),l=Lh(),e!==null&&!xe?(Uh(e,n,h),Ii(e,n,h)):(kt&&l&&yh(n),n.flags|=1,Be(e,n,a,h),n.child)}function cp(e,n,a,l,h,f){return la(n),n.updateQueue=null,a=ug(n,l,a,h),og(e),l=Lh(),e!==null&&!xe?(Uh(e,n,f),Ii(e,n,f)):(kt&&l&&yh(n),n.flags|=1,Be(e,n,a,f),n.child)}function hp(e,n,a,l,h){if(la(n),n.stateNode===null){var f=Xa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Fe(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$h,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ch(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Fe(v):Xa,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&$h.enqueueReplaceState(f,f.state,null),Al(n,l,f,h),Tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,w=ca(a,T);f.props=w;var z=f.context,Y=a.contextType;v=Xa,typeof Y=="object"&&Y!==null&&(v=Fe(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==v)&&Zg(n,f,l,v),Zi=!1;var k=n.memoizedState;f.state=k,Al(n,l,f,h),Tl(),z=n.memoizedState,T||k!==z||Zi?(typeof Z=="function"&&(Xh(n,a,Z,l),z=n.memoizedState),(w=Zi||$g(n,a,w,l,k,z,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Dh(e,n),v=n.memoizedProps,Y=ca(a,v),f.props=Y,Z=n.pendingProps,k=f.context,z=a.contextType,w=Xa,typeof z=="object"&&z!==null&&(w=Fe(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||k!==w)&&Zg(n,f,l,w),Zi=!1,k=n.memoizedState,f.state=k,Al(n,l,f,h),Tl();var j=n.memoizedState;v!==Z||k!==j||Zi||e!==null&&e.dependencies!==null&&ou(e.dependencies)?(typeof T=="function"&&(Xh(n,a,T,l),j=n.memoizedState),(Y=Zi||$g(n,a,Y,l,k,j,w)||e!==null&&e.dependencies!==null&&ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=w,l=Y):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Cu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=as(n,e.child,null,h),n.child=as(n,null,a,h)):Be(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Ii(e,n,h),e}function fp(e,n,a,l){return dl(),n.flags|=256,Be(e,n,a,l),n.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tf(e){return{baseLanes:e,cachePool:Wm()}}function ef(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=wn),e}function dp(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?er(n):nr(),kt){var T=oe,w;if(w=T){t:{for(w=T,T=$n;w.nodeType!==8;){if(!T){T=null;break t}if(w=Ln(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:na!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},w=un(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,tn=n,oe=null,w=!0):w=!1}w||aa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zf(T)?n.lanes=32:n.lanes=536870912,null;Di(n)}return T=l.children,l=l.fallback,h?(nr(),h=n.mode,T=Du({mode:"hidden",children:T},h),l=ea(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=tf(a),h.childLanes=ef(e,v,a),n.memoizedState=Wh,l):(er(n),nf(n,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=rf(e,n,a)):n.memoizedState!==null?(nr(),n.child=e.child,n.flags|=128,n=null):(nr(),h=l.fallback,T=n.mode,l=Du({mode:"visible",children:l.children},T),h=ea(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,as(n,e.child,null,a),l=n.child,l.memoizedState=tf(a),l.childLanes=ef(e,v,a),n.memoizedState=Wh,n=h);else if(er(n),zf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),n=rf(e,n,a)}else if(xe||gl(e,n,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Hi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Ka(e,l),mn(v,e,l),rp;T.data==="$?"||Af(),n=rf(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,oe=Ln(T.nextSibling),tn=n,kt=!0,ra=null,$n=!1,e!==null&&(Sn[bn++]=Si,Sn[bn++]=bi,Sn[bn++]=na,Si=e.id,bi=e.overflow,na=n),n=nf(n,l.children),n.flags|=4096);return n}return h?(nr(),h=l.fallback,T=n.mode,w=e.child,z=w.sibling,l=Ai(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=Ai(z,h):(h=ea(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=e.child.memoizedState,T===null?T=tf(a):(w=T.cachePool,w!==null?(z=be._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Wm(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=ef(e,v,a),n.memoizedState=Wh,l):(er(n),a=e.child,e=a.sibling,a=Ai(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function nf(e,n){return n=Du({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Du(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rf(e,n,a){return as(n,e.child,null,a),e=nf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Th(e.return,n,a)}function af(e,n,a,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function gp(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Be(e,n,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mp(e,a,n);else if(e.tag===19)mp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(nt(Re,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),af(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}af(n,!0,a,null,f);break;case"together":af(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(gl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ai(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ai(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function sf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ou(e)))}function uT(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),$i(n,be,e.memoizedState.cache),dl();break;case 27:case 5:qi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:$i(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(a&n.child.childLanes)!==0?dp(e,n,a):(er(n),e=Ii(e,n,a),e!==null?e.sibling:null);er(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(gl(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return gp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,op(e,n,a);case 24:$i(n,be,e.memoizedState.cache)}return Ii(e,n,a)}function pp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)xe=!0;else{if(!sf(e,a)&&(n.flags&128)===0)return xe=!1,uT(e,n,a);xe=(e.flags&131072)!==0}else xe=!1,kt&&(n.flags&1048576)!==0&&Ym(n,lu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")mh(l)?(e=ca(l,e),n.tag=1,n=hp(null,n,l,e,a)):(n.tag=0,n=Jh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===St){n.tag=11,n=ap(null,n,l,e,a);break t}else if(h===O){n.tag=14,n=sp(null,n,l,e,a);break t}}throw n=Le(l)||l,Error(s(306,n,""))}}return n;case 0:return Jh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ca(l,n.pendingProps),hp(e,n,l,h,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Dh(e,n),Al(n,l,null,a);var v=n.memoizedState;if(l=v.cache,$i(n,be,l),l!==f.cache&&Ah(n,[be],a,!0),Tl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fp(e,n,l,a);break t}else if(l!==h){h=Tn(Error(s(424)),n),ml(h),n=fp(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Ln(e.firstChild),tn=n,kt=!0,ra=null,$n=!0,a=Kg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===h){n=Ii(e,n,a);break t}Be(e,n,l,a)}n=n.child}return n;case 26:return Cu(e,n),e===null?(a=Ey(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,e=n.pendingProps,l=qu(Et.current).createElement(a),l[Te]=n,l[me]=e,ke(l,a,e),ce(l),n.stateNode=l):n.memoizedState=Ey(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&kt&&(l=n.stateNode=yy(n.type,n.pendingProps,Et.current),tn=n,$n=!0,h=oe,hr(n.type)?(kf=h,oe=Ln(l.firstChild)):oe=h),Be(e,n,n.pendingProps.children,a),Cu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=oe)&&(l=PT(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,tn=n,oe=Ln(l.firstChild),$n=!1,h=!0):h=!1),h||aa(n)),qi(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,Uf(h,f)?l=null:v!==null&&Uf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Mh(e,n,eT,null,null,a),Gl._currentValue=h),Cu(e,n),Be(e,n,l,a),n.child;case 6:return e===null&&kt&&((e=a=oe)&&(a=BT(a,n.pendingProps,$n),a!==null?(n.stateNode=a,tn=n,oe=null,e=!0):e=!1),e||aa(n)),null;case 13:return dp(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=as(n,null,l,a):Be(e,n,l,a),n.child;case 11:return ap(e,n,n.type,n.pendingProps,a);case 7:return Be(e,n,n.pendingProps,a),n.child;case 8:return Be(e,n,n.pendingProps.children,a),n.child;case 12:return Be(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,$i(n,n.type,l.value),Be(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,la(n),h=Fe(h),l=l(h),n.flags|=1,Be(e,n,l,a),n.child;case 14:return sp(e,n,n.type,n.pendingProps,a);case 15:return lp(e,n,n.type,n.pendingProps,a);case 19:return gp(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=Du(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ai(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return op(e,n,a);case 24:return la(n),l=Fe(be),e===null?(h=Rh(),h===null&&(h=Jt,f=Sh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Ch(n),$i(n,be,h)):((e.lanes&a)!==0&&(Dh(e,n),Al(n,null,null,a),Tl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),$i(n,be,l)):(l=f.cache,$i(n,be,l),l!==h.cache&&Ah(n,[be],a,!0))),Be(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ni(e){e.flags|=4}function yp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ry(n)){if(n=Rn.current,n!==null&&((Lt&4194048)===Lt?Zn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==Zn))throw vl=wh,tg;e.flags|=8192}}function Iu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ys():536870912,e.lanes|=n,us|=n)}function Il(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function cT(e,n,a){var l=n.pendingProps;switch(_h(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(be),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fl(n)?Ni(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xm())),ie(n),null;case 26:return a=n.memoizedState,e===null?(Ni(n),a!==null?(ie(n),yp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ni(n),ie(n),yp(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ni(n),ie(n),n.flags&=-16777217),null;case 27:ui(n),a=Et.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=gt.current,fl(n)?Qm(n):(e=yy(h,l,a),n.stateNode=e,Ni(n))}return ie(n),null;case 5:if(ui(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(e=gt.current,fl(n))Qm(n);else{switch(h=qu(Et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Te]=n,e[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ni(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Et.current,fl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cy(e.nodeValue,a)),e||aa(n)}else e=qu(e).createTextNode(l),e[Te]=n,n.stateNode=e}return ie(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Te]=n}else dl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Xm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Iu(n,n.updateQueue),ie(n),null;case 4:return Bn(),e===null&&xf(n.stateNode.containerInfo),ie(n),null;case 10:return wi(n.type),ie(n),null;case 19:if(st(Re),h=n.memoizedState,h===null)return ie(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Il(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=bu(e),f!==null){for(n.flags|=128,Il(h,!1),e=f.updateQueue,n.updateQueue=e,Iu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Fm(a,e),a=a.sibling;return nt(Re,Re.current&1|2),n.child}e=e.sibling}h.tail!==null&&gn()>Ou&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304)}else{if(!l)if(e=bu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Iu(n,e),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*gn()-h.renderingStartTime>Ou&&a!==536870912&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=gn(),n.sibling=null,e=Re.current,nt(Re,l?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Di(n),Oh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Iu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&st(oa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(be),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function hT(e,n){switch(_h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wi(be),Bn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));dl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return st(Re),null;case 4:return Bn(),null;case 10:return wi(n.type),null;case 22:case 23:return Di(n),Oh(),e!==null&&st(oa),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wi(be),null;case 25:return null;default:return null}}function _p(e,n){switch(_h(n),n.tag){case 3:wi(be),Bn();break;case 26:case 27:case 5:ui(n);break;case 4:Bn();break;case 13:Di(n);break;case 19:st(Re);break;case 10:wi(n.type);break;case 22:case 23:Di(n),Oh(),e!==null&&st(oa);break;case 24:wi(be)}}function Nl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(n,n.return,T)}}function ir(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=a,z=T;try{z()}catch(Y){$t(h,w,Y)}}}l=l.next}while(l!==f)}}catch(Y){$t(n,n.return,Y)}}function vp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{sg(n,a)}catch(l){$t(e,e.return,l)}}}function Ep(e,n,a){a.props=ca(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){$t(e,n,l)}}function xl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){$t(e,n,h)}}function Jn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function Tp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function lf(e,n,a){try{var l=e.stateNode;OT(l,e.type,a,n),l[me]=n}catch(h){$t(e,e.return,h)}}function Ap(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hr(e.type)||e.tag===4}function of(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ju));else if(l!==4&&(l===27&&hr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(uf(e,n,a),e=e.sibling;e!==null;)uf(e,n,a),e=e.sibling}function Nu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&hr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Nu(e,n,a),e=e.sibling;e!==null;)Nu(e,n,a),e=e.sibling}function Sp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ke(n,l,a),n[Te]=e,n[me]=a}catch(f){$t(e,e.return,f)}}var xi=!1,fe=!1,cf=!1,bp=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function fT(e,n){if(e=e.containerInfo,Mf=Ku,e=Lm(e),lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,z=0,Y=0,Z=e,k=null;e:for(;;){for(var j;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==f||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(j=Z.firstChild)!==null;)k=Z,Z=j;for(;;){if(Z===e)break e;if(k===a&&++z===h&&(T=v),k===f&&++Y===l&&(w=v),(j=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=j}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Lf={focusedElem:e,selectionRange:a},Ku=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var vt=ca(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Bf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function Rp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:rr(e,a),l&4&&Nl(5,a);break;case 1:if(rr(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=ca(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&vp(a),l&512&&xl(a,a.return);break;case 3:if(rr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{sg(e,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&l&4&&Sp(a);case 26:case 5:rr(e,a),n===null&&l&4&&Tp(a),l&512&&xl(a,a.return);break;case 12:rr(e,a);break;case 13:rr(e,a),l&4&&Dp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=TT.bind(null,a),zT(e,a))));break;case 22:if(l=a.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||fe,h=xi;var f=fe;xi=l,(fe=n)&&!f?ar(e,a,(a.subtreeFlags&8772)!==0):rr(e,a),xi=h,fe=f}break;case 30:break;default:rr(e,a)}}function wp(e){var n=e.alternate;n!==null&&(e.alternate=null,wp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,nn=!1;function Oi(e,n,a){for(a=a.child;a!==null;)Cp(e,n,a),a=a.sibling}function Cp(e,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:fe||Jn(a,n),Oi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||Jn(a,n);var l=ne,h=nn;hr(a.type)&&(ne=a.stateNode,nn=!1),Oi(e,n,a),kl(a.stateNode),ne=l,nn=h;break;case 5:fe||Jn(a,n);case 6:if(l=ne,h=nn,ne=null,Oi(e,n,a),ne=l,nn=h,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ne!==null&&(nn?(e=ne,gy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Kl(e)):gy(ne,a.stateNode));break;case 4:l=ne,h=nn,ne=a.stateNode.containerInfo,nn=!0,Oi(e,n,a),ne=l,nn=h;break;case 0:case 11:case 14:case 15:fe||ir(2,a,n),fe||ir(4,a,n),Oi(e,n,a);break;case 1:fe||(Jn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ep(a,n,l)),Oi(e,n,a);break;case 21:Oi(e,n,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,Oi(e,n,a),fe=l;break;default:Oi(e,n,a)}}function Dp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kl(e)}catch(a){$t(n,n.return,a)}}function dT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bp),n;default:throw Error(s(435,e.tag))}}function hf(e,n){var a=dT(e);n.forEach(function(l){var h=AT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function cn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(hr(T.type)){ne=T.stateNode,nn=!1;break t}break;case 5:ne=T.stateNode,nn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Cp(f,v,h),ne=null,nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ip(n,e),n=n.sibling}var Mn=null;function Ip(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),l&4&&(ir(3,e,e.return),Nl(3,e),ir(5,e,e.return));break;case 1:cn(n,e),hn(e),l&512&&(fe||a===null||Jn(a,a.return)),l&64&&xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Mn;if(cn(n,e),hn(e),l&512&&(fe||a===null||Jn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[zr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,l,a),f[Te]=e,ce(f),l=f;break t;case"link":var v=Sy("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;case"meta":if(v=Sy("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Te]=e,ce(f),l=f}e.stateNode=l}else by(h,e.type,e.stateNode);else e.stateNode=Ay(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?by(h,e.type,e.stateNode):Ay(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&lf(e,e.memoizedProps,a.memoizedProps)}break;case 27:cn(n,e),hn(e),l&512&&(fe||a===null||Jn(a,a.return)),a!==null&&l&4&&lf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(cn(n,e),hn(e),l&512&&(fe||a===null||Jn(a,a.return)),e.flags&32){h=e.stateNode;try{yn(h,"")}catch(j){$t(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,lf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(cf=!0);break;case 6:if(cn(n,e),hn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){$t(e,e.return,j)}}break;case 3:if(Fu=null,h=Mn,Mn=Hu(n.containerInfo),cn(n,e),Mn=h,hn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(n.containerInfo)}catch(j){$t(e,e.return,j)}cf&&(cf=!1,Np(e));break;case 4:l=Mn,Mn=Hu(e.stateNode.containerInfo),cn(n,e),hn(e),Mn=l;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yf=gn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hf(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=xi,Y=fe;if(xi=z||h,fe=Y||w,cn(n,e),fe=Y,xi=z,hn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||xi||fe||ha(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var Z=w.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){$t(w,w.return,j)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(j){$t(w,w.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hf(e,a))));break;case 19:cn(n,e),hn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hf(e,l)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(Ap(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=of(e);Nu(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(yn(v,""),a.flags&=-33);var T=of(e);Nu(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=of(e);uf(e,z,w);break;default:throw Error(s(161))}}catch(Y){$t(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Np(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function rr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rp(e,n.alternate,n),n=n.sibling}function ha(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),ha(n);break;case 1:Jn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Ep(n,n.return,a),ha(n);break;case 27:kl(n.stateNode);case 26:case 5:Jn(n,n.return),ha(n);break;case 22:n.memoizedState===null&&ha(n);break;case 30:ha(n);break;default:ha(n)}e=e.sibling}}function ar(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ar(h,f,a),Nl(4,f);break;case 1:if(ar(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)ag(w[h],T)}catch(z){$t(l,l.return,z)}}a&&v&64&&vp(f),xl(f,f.return);break;case 27:Sp(f);case 26:case 5:ar(h,f,a),a&&l===null&&v&4&&Tp(f),xl(f,f.return);break;case 12:ar(h,f,a);break;case 13:ar(h,f,a),a&&v&4&&Dp(h,f);break;case 22:f.memoizedState===null&&ar(h,f,a),xl(f,f.return);break;case 30:break;default:ar(h,f,a)}n=n.sibling}}function ff(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&pl(a))}function df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e))}function Wn(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)xp(e,n,a,l),n=n.sibling}function xp(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,a,l),h&2048&&Nl(9,n);break;case 1:Wn(e,n,a,l);break;case 3:Wn(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&pl(e)));break;case 12:if(h&2048){Wn(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else Wn(e,n,a,l);break;case 13:Wn(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,a,l):Ol(e,n):f._visibility&2?Wn(e,n,a,l):(f._visibility|=2,ss(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&ff(v,n);break;case 24:Wn(e,n,a,l),h&2048&&df(n.alternate,n);break;default:Wn(e,n,a,l)}}function ss(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,T=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:ss(f,v,T,w,h),Nl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?ss(f,v,T,w,h):Ol(f,v):(Y._visibility|=2,ss(f,v,T,w,h)),h&&z&2048&&ff(v.alternate,v);break;case 24:ss(f,v,T,w,h),h&&z&2048&&df(v.alternate,v);break;default:ss(f,v,T,w,h)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&ff(l.alternate,l);break;case 24:Ol(a,l),h&2048&&df(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Vl=8192;function ls(e){if(e.subtreeFlags&Vl)for(e=e.child;e!==null;)Op(e),e=e.sibling}function Op(e){switch(e.tag){case 26:ls(e),e.flags&Vl&&e.memoizedState!==null&&JT(Mn,e.memoizedState,e.memoizedProps);break;case 5:ls(e);break;case 3:case 4:var n=Mn;Mn=Hu(e.stateNode.containerInfo),ls(e),Mn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,ls(e),Vl=n):ls(e));break;default:ls(e)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ml(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Lp(l,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mp(e),e=e.sibling}function Mp(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&ir(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,xu(e)):Ml(e);break;default:Ml(e)}}function xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Lp(l,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ir(8,n,n.return),xu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,xu(n));break;default:xu(n)}e=e.sibling}}function Lp(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:ir(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=e;Oe!==null;){l=Oe;var h=l.sibling,f=l.return;if(wp(l),l===a){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var mT={getCacheForType:function(e){var n=Fe(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},gT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,Lt=0,Ft=0,fn=null,sr=!1,os=!1,mf=!1,Vi=0,ue=0,lr=0,fa=0,gf=0,wn=0,us=0,Ll=null,rn=null,pf=!1,yf=0,Ou=1/0,Vu=null,or=null,ze=0,ur=null,cs=null,hs=0,_f=0,vf=null,Up=null,Ul=0,Ef=null;function dn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(F.T!==null){var e=Ja;return e!==0?e:Cf()}return Gi()}function Pp(){wn===0&&(wn=(Lt&536870912)===0||kt?Fs():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),wn}function mn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(fs(e,0),cr(e,Lt,wn,!1)),hi(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(fa|=a),ue===4&&cr(e,Lt,wn,!1)),ti(e))}function Bp(e,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Br(e,n),h=l?_T(e,n):Sf(e,n,!0),f=l;do{if(h===0){os&&!l&&cr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!pT(a)){h=Sf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Ll;var w=T.current.memoizedState.isDehydrated;if(w&&(fs(T,v).flags|=256),v=Sf(T,v,!1),v!==2){if(mf&&!w){T.errorRecoveryDisabledLanes|=f,fa|=f,h=4;break t}f=rn,rn=h,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){fs(e,0),cr(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:cr(l,n,wn,!sr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=yf+300-gn(),10<h)){if(cr(l,n,wn,!sr),Ia(l,0,!0)!==0)break t;l.timeoutHandle=dy(zp.bind(null,l,a,rn,Vu,pf,n,wn,fa,us,sr,f,2,-0,0),h);break t}zp(l,a,rn,Vu,pf,n,wn,fa,us,sr,f,0,-0,0)}}break}while(!0);ti(e)}function zp(e,n,a,l,h,f,v,T,w,z,Y,Z,k,j){if(e.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:ZT},Op(n),Z=WT(),Z!==null)){e.cancelPendingCommit=Z(Yp.bind(null,e,n,f,a,l,h,v,T,w,Y,1,k,j)),cr(e,f,v,!z);return}Yp(e,n,f,a,l,h,v,T,w)}function pT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(e,n,a,l){n&=~gf,n&=~fa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Ge(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&zn(e,a,n)}function Mu(){return(Gt&6)===0?(Pl(0),!1):!0}function Tf(){if(Dt!==null){if(Ft===0)var e=Dt.return;else e=Dt,Ri=sa=null,Ph(e),rs=null,Cl=0,e=Dt;for(;e!==null;)_p(e.alternate,e),e=e.return;Dt=null}}function fs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,MT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Tf(),Jt=e,Dt=a=Ai(e.current,null),Lt=n,Ft=0,fn=null,sr=!1,os=Br(e,n),mf=!1,us=wn=gf=fa=lr=ue=0,rn=Ll=null,pf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ge(l),f=1<<h;n|=e[h],l&=~f}return Vi=n,nu(),a}function kp(e,n){Rt=null,F.H=Tu,n===_l||n===hu?(n=ig(),Ft=3):n===tg?(n=ig(),Ft=4):Ft=n===rp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Dt===null&&(ue=1,wu(e,Tn(n,e.current)))}function jp(){var e=F.H;return F.H=Tu,e===null?Tu:e}function qp(){var e=F.A;return F.A=mT,e}function Af(){ue=4,sr||(Lt&4194048)!==Lt&&Rn.current!==null||(os=!0),(lr&134217727)===0&&(fa&134217727)===0||Jt===null||cr(Jt,Lt,wn,!1)}function Sf(e,n,a){var l=Gt;Gt|=2;var h=jp(),f=qp();(Jt!==e||Lt!==n)&&(Vu=null,fs(e,n)),n=!1;var v=ue;t:do try{if(Ft!==0&&Dt!==null){var T=Dt,w=fn;switch(Ft){case 8:Tf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var z=Ft;if(Ft=0,fn=null,ds(e,T,w,z),a&&os){v=0;break t}break;default:z=Ft,Ft=0,fn=null,ds(e,T,w,z)}}yT(),v=ue;break}catch(Y){kp(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Ri=sa=null,Gt=l,F.H=h,F.A=f,Dt===null&&(Jt=null,Lt=0,nu()),v}function yT(){for(;Dt!==null;)Hp(Dt)}function _T(e,n){var a=Gt;Gt|=2;var l=jp(),h=qp();Jt!==e||Lt!==n?(Vu=null,Ou=gn()+500,fs(e,n)):os=Br(e,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,ds(e,n,f,1);break;case 2:case 9:if(eg(f)){Ft=0,fn=null,Gp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:eg(f)?(Ft=0,fn=null,Gp(n)):(Ft=0,fn=null,ds(e,n,f,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var T=Dt;if(!v||Ry(v)){Ft=0,fn=null;var w=T.sibling;if(w!==null)Dt=w;else{var z=T.return;z!==null?(Dt=z,Lu(z)):Dt=null}break e}}Ft=0,fn=null,ds(e,n,f,5);break;case 6:Ft=0,fn=null,ds(e,n,f,6);break;case 8:Tf(),ue=6;break t;default:throw Error(s(462))}}vT();break}catch(Y){kp(e,Y)}while(!0);return Ri=sa=null,F.H=l,F.A=h,Gt=a,Dt!==null?0:(Jt=null,Lt=0,nu(),ue)}function vT(){for(;Dt!==null&&!js();)Hp(Dt)}function Hp(e){var n=pp(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,n===null?Lu(e):Dt=n}function Gp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=cp(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=cp(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Ph(n);default:_p(a,n),n=Dt=Fm(n,Vi),n=pp(a,n,Vi)}e.memoizedProps=e.pendingProps,n===null?Lu(e):Dt=n}function ds(e,n,a,l){Ri=sa=null,Ph(n),rs=null,Cl=0;var h=n.return;try{if(oT(e,h,n,a,Lt)){ue=1,wu(e,Tn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;ue=1,wu(e,Tn(a,e.current)),Dt=null;return}n.flags&32768?(kt||l===1?e=!0:os||(Lt&536870912)!==0?e=!1:(sr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fp(n,e)):Lu(n)}function Lu(e){var n=e;do{if((n.flags&32768)!==0){Fp(n,sr);return}e=n.return;var a=cT(n.alternate,n,Vi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);ue===0&&(ue=5)}function Fp(e,n){do{var a=hT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);ue=6,Dt=null}function Yp(e,n,a,l,h,f,v,T,w){e.cancelPendingCommit=null;do Uu();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=fh,Qs(e,a,f,v,T,w),e===Jt&&(Dt=Jt=null,Lt=0),cs=n,ur=e,hs=a,_f=f,vf=h,Up=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ST(Mr,function(){return Zp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=at.p,at.p=2,v=Gt,Gt|=4;try{fT(e,n,a)}finally{Gt=v,at.p=h,F.T=l}}ze=1,Qp(),Kp(),Xp()}}function Qp(){if(ze===1){ze=0;var e=ur,n=cs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Ip(n,e);var f=Lf,v=Lm(e.containerInfo),T=f.focusedElem,w=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Mm(T.ownerDocument.documentElement,T)){if(w!==null&&lh(T)){var z=w.start,Y=w.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var j=k.getSelection(),vt=T.textContent.length,pt=Math.min(w.start,vt),Xt=w.end===void 0?pt:Math.min(w.end,vt);!j.extend&&pt>Xt&&(v=Xt,Xt=pt,pt=v);var M=Vm(T,pt),N=Vm(T,Xt);if(M&&N&&(j.rangeCount!==1||j.anchorNode!==M.node||j.anchorOffset!==M.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var B=Z.createRange();B.setStart(M.node,M.offset),j.removeAllRanges(),pt>Xt?(j.addRange(B),j.extend(N.node,N.offset)):(B.setEnd(N.node,N.offset),j.addRange(B))}}}}for(Z=[],j=T;j=j.parentNode;)j.nodeType===1&&Z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var K=Z[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ku=!!Mf,Lf=Mf=null}finally{Gt=h,at.p=l,F.T=a}}e.current=n,ze=2}}function Kp(){if(ze===2){ze=0;var e=ur,n=cs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Rp(e,n.alternate,n)}finally{Gt=h,at.p=l,F.T=a}}ze=3}}function Xp(){if(ze===4||ze===3){ze=0,xo();var e=ur,n=cs,a=hs,l=Up;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,cs=ur=null,$p(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(or=null),Na(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=at.p,at.p=2,F.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{F.T=n,at.p=h}}(hs&3)!==0&&Uu(),ti(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ef?Ul++:(Ul=0,Ef=e):Ul=0,Pl(0)}}function $p(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,pl(n)))}function Uu(e){return Qp(),Kp(),Xp(),Zp()}function Zp(){if(ze!==5)return!1;var e=ur,n=_f;_f=0;var a=Na(hs),l=F.T,h=at.p;try{at.p=32>a?32:a,F.T=null,a=vf,vf=null;var f=ur,v=hs;if(ze=0,cs=ur=null,hs=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Mp(f.current),xp(f,f.current,v,a),Gt=T,Pl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{at.p=h,F.T=l,$p(e,n)}}function Jp(e,n,a){n=Tn(a,n),n=Zh(e.stateNode,n,2),e=Wi(e,n,2),e!==null&&(hi(e,2),ti(e))}function $t(e,n,a){if(e.tag===3)Jp(e,e,a);else for(;n!==null;){if(n.tag===3){Jp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){e=Tn(a,e),a=np(2),l=Wi(n,a,2),l!==null&&(ip(a,l,n,e),hi(l,2),ti(l));break}}n=n.return}}function bf(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new gT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(mf=!0,h.add(a),e=ET.bind(null,e,n,a),n.then(e,e))}function ET(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Lt&a)===a&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>gn()-yf?(Gt&2)===0&&fs(e,0):gf|=a,us===Lt&&(us=0)),ti(e)}function Wp(e,n){n===0&&(n=Ys()),e=Ka(e,n),e!==null&&(hi(e,n),ti(e))}function TT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Wp(e,a)}function AT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Wp(e,a)}function ST(e,n){return Or(e,n)}var Pu=null,ms=null,Rf=!1,Bu=!1,wf=!1,da=0;function ti(e){e!==ms&&e.next===null&&(ms===null?Pu=ms=e:ms=ms.next=e),Bu=!0,Rf||(Rf=!0,RT())}function Pl(e,n){if(!wf&&Bu){wf=!0;do for(var a=!1,l=Pu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ge(42|e)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,iy(l,f))}else f=Lt,f=Ia(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Br(l,f)||(a=!0,iy(l,f));l=l.next}while(a);wf=!1}}function bT(){ty()}function ty(){Bu=Rf=!1;var e=0;da!==0&&(VT()&&(e=da),da=0);for(var n=gn(),a=null,l=Pu;l!==null;){var h=l.next,f=ey(l,n);f===0?(l.next=null,a===null?Pu=h:a.next=h,h===null&&(ms=a)):(a=l,(e!==0||(f&3)!==0)&&(Bu=!0)),l=h}Pl(e)}function ey(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ge(f),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=Gs(T,n)):w<=n&&(e.expiredLanes|=T),f&=~T}if(n=Jt,a=Lt,a=Ia(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Vr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Br(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Vr(l),Na(a)){case 2:case 8:a=Ca;break;case 32:a=Mr;break;case 268435456:a=Da;break;default:a=Mr}return l=ny.bind(null,e),a=Or(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Vr(l),e.callbackPriority=2,e.callbackNode=null,2}function ny(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Uu()&&e.callbackNode!==a)return null;var l=Lt;return l=Ia(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Bp(e,l,n),ey(e,gn()),e.callbackNode!=null&&e.callbackNode===a?ny.bind(null,e):null)}function iy(e,n){if(Uu())return null;Bp(e,n,!0)}function RT(){LT(function(){(Gt&6)!==0?Or(qs,bT):ty()})}function Cf(){return da===0&&(da=Fs()),da}function ry(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ua(""+e)}function ay(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function wT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ry((h[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?ry(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Pa("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var w=v?ay(h,v):new FormData(h);Yh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?ay(h,v):new FormData(h),Yh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Df=0;Df<hh.length;Df++){var If=hh[Df],CT=If.toLowerCase(),DT=If[0].toUpperCase()+If.slice(1);Vn(CT,"on"+DT)}Vn(Bm,"onAnimationEnd"),Vn(zm,"onAnimationIteration"),Vn(km,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(F0,"onTransitionRun"),Vn(Y0,"onTransitionStart"),Vn(Q0,"onTransitionCancel"),Vn(jm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function sy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Y){Ru(Y)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,z=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Y){Ru(Y)}h.currentTarget=null,f=w}}}}function It(e,n){var a=n[Xs];a===void 0&&(a=n[Xs]=new Set);var l=e+"__bubble";a.has(l)||(ly(n,e,2,!1),a.add(l))}function Nf(e,n,a){var l=0;n&&(l|=4),ly(a,e,l,n)}var zu="_reactListening"+Math.random().toString(36).slice(2);function xf(e){if(!e[zu]){e[zu]=!0,$s.forEach(function(a){a!=="selectionchange"&&(IT.has(a)||Nf(a,!1,e),Nf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zu]||(n[zu]=!0,Nf("selectionchange",!1,n))}}function ly(e,n,a,l){switch(xy(n)){case 2:var h=nA;break;case 8:h=iA;break;default:h=Ff}a=h.bind(null,n,a,e),h=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Of(e,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=fi(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}T=T.parentNode}}l=l.return}jo(function(){var z=f,Y=_n(a),Z=[];t:{var k=qm.get(e);if(k!==void 0){var j=Pa,vt=e;switch(e){case"keypress":if(Fn(a)===0)break t;case"keydown":case"keyup":j=Ha;break;case"focusin":vt="focus",j=ka;break;case"focusout":vt="blur",j=ka;break;case"beforeblur":case"afterblur":j=ka;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Xo;break;case Bm:case zm:case km:j=ja;break;case jm:j=Zo;break;case"scroll":case"scrollend":j=qo;break;case"wheel":j=Ga;break;case"copy":case"cut":case"paste":j=qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=ol;break;case"toggle":case"beforetoggle":j=Wo}var pt=(n&4)!==0,Xt=!pt&&(e==="scroll"||e==="scrollend"),M=pt?k!==null?k+"Capture":null:k;pt=[];for(var N=z,B;N!==null;){var K=N;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||M===null||(K=Yr(N,M),K!=null&&pt.push(zl(N,K,B))),Xt)break;N=N.return}0<pt.length&&(k=new j(k,vt,null,a,Y),Z.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",k&&a!==pi&&(vt=a.relatedTarget||a.fromElement)&&(fi(vt)||vt[pn]))break t;if((j||k)&&(k=Y.window===Y?Y:(k=Y.ownerDocument)?k.defaultView||k.parentWindow:window,j?(vt=a.relatedTarget||a.toElement,j=z,vt=vt?fi(vt):null,vt!==null&&(Xt=c(vt),pt=vt.tag,vt!==Xt||pt!==5&&pt!==27&&pt!==6)&&(vt=null)):(j=null,vt=z),j!==vt)){if(pt=En,K="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=ol,K="onPointerLeave",M="onPointerEnter",N="pointer"),Xt=j==null?k:jn(j),B=vt==null?k:jn(vt),k=new pt(K,N+"leave",j,a,Y),k.target=Xt,k.relatedTarget=B,K=null,fi(Y)===z&&(pt=new pt(M,N+"enter",vt,a,Y),pt.target=B,pt.relatedTarget=Xt,K=pt),Xt=K,j&&vt)e:{for(pt=j,M=vt,N=0,B=pt;B;B=gs(B))N++;for(B=0,K=M;K;K=gs(K))B++;for(;0<N-B;)pt=gs(pt),N--;for(;0<B-N;)M=gs(M),B--;for(;N--;){if(pt===M||M!==null&&pt===M.alternate)break e;pt=gs(pt),M=gs(M)}pt=null}else pt=null;j!==null&&oy(Z,k,j,pt,!1),vt!==null&&Xt!==null&&oy(Z,Xt,vt,pt,!0)}}t:{if(k=z?jn(z):window,j=k.nodeName&&k.nodeName.toLowerCase(),j==="select"||j==="input"&&k.type==="file")var ct=Cm;else if(Se(k))if(Dm)ct=q0;else{ct=k0;var Ct=z0}else j=k.nodeName,!j||j.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&el(z.elementType)&&(ct=Cm):ct=j0;if(ct&&(ct=ct(e,z))){Ti(Z,ct,a,Y);break t}Ct&&Ct(e,k,z),e==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Ki(k,"number",k.value)}switch(Ct=z?jn(z):window,e){case"focusin":(Se(Ct)||Ct.contentEditable==="true")&&(Fa=Ct,oh=z,hl=null);break;case"focusout":hl=oh=Fa=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Um(Z,a,Y);break;case"selectionchange":if(G0)break;case"keydown":case"keyup":Um(Z,a,Y)}var ht;if(Kn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Vt?H(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Vt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Vt&&(ht=il()):(Gn=Y,Xi="value"in Gn?Gn.value:Gn.textContent,Vt=!0)),Ct=ku(z,yt),0<Ct.length&&(yt=new sl(yt,e,null,a,Y),Z.push({event:yt,listeners:Ct}),ht?yt.data=ht:(ht=it(a),ht!==null&&(yt.data=ht)))),(ht=m?Ae(e,a):Mt(e,a))&&(yt=ku(z,"onBeforeInput"),0<yt.length&&(Ct=new sl("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ct,listeners:yt}),Ct.data=ht)),wT(Z,e,z,a,Y)}sy(Z,n)})}function zl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ku(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yr(e,a),h!=null&&l.unshift(zl(e,h,f)),h=Yr(e,n),h!=null&&l.push(zl(e,h,f))),e.tag===3)return l;e=e.return}return[]}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oy(e,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||z===null||(w=z,h?(z=Yr(a,f),z!=null&&v.unshift(zl(a,z,w))):h||(z=Yr(a,f),z!=null&&v.push(zl(a,z,w)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var NT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function uy(e){return(typeof e=="string"?e:""+e).replace(NT,`
`).replace(xT,"")}function cy(e,n){return n=uy(n),uy(e)===n}function ju(){}function Kt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(e,""+l);break;case"className":qn(e,"class",l);break;case"tabIndex":qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(e,a,l);break;case"style":tl(e,l,f);break;case"data":if(n!=="object"){qn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ua(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ua(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ju);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ua(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":It("beforetoggle",e),It("toggle",e),Qi(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eh.get(a)||a,Qi(e,a,l))}}function Vf(e,n,a,l,h,f){switch(a){case"style":tl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?yn(e,l):(typeof l=="number"||typeof l=="bigint")&&yn(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[me]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Qi(e,a,l)}}}function ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,f,v,a,null)}}h&&Kt(e,n,"srcSet",a.srcSet,a,null),l&&Kt(e,n,"src",a.src,a,null);return;case"input":It("invalid",e);var T=f=v=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":w=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Kt(e,n,l,Y,a,null)}}Hr(e,f,T,w,z,v,h,!1),La(e);return;case"select":It("invalid",e),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(e,n,h,T,a,null)}n=f,a=v,e.multiple=!!l,n!=null?gi(e,!!l,n,!1):a!=null&&gi(e,!!l,a,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,n,v,T,a,null)}Gr(e,l,h,f),La(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,n,w,l,a,null)}return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<Bl.length;l++)It(Bl[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,z,l,a,null)}return;default:if(el(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Vf(e,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(e,n,T,l,a,null))}function OT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,z=null,Y=null;for(j in a){var Z=a[j];if(a.hasOwnProperty(j)&&Z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(j)||Kt(e,n,j,null,l,Z)}}for(var k in l){var j=l[k];if(Z=a[k],l.hasOwnProperty(k)&&(j!=null||Z!=null))switch(k){case"type":f=j;break;case"name":h=j;break;case"checked":z=j;break;case"defaultChecked":Y=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==Z&&Kt(e,n,k,j,l,Z)}}ln(e,v,T,w,z,Y,f,h);return;case"select":j=v=T=k=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(f)||Kt(e,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":k=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Kt(e,n,h,f,l,w)}n=T,a=v,l=j,k!=null?gi(e,!!a,k,!1):!!l!=!!a&&(n!=null?gi(e,!!a,n,!0):gi(e,!!a,a?[]:"",!1));return;case"textarea":j=k=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":k=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,n,v,h,l,f)}Yt(e,k,j);return;case"option":for(var vt in a)if(k=a[vt],a.hasOwnProperty(vt)&&k!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Kt(e,n,vt,null,l,k)}for(w in l)if(k=l[w],j=a[w],l.hasOwnProperty(w)&&k!==j&&(k!=null||j!=null))switch(w){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(e,n,w,k,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Kt(e,n,pt,null,l,k);for(z in l)if(k=l[z],j=a[z],l.hasOwnProperty(z)&&k!==j&&(k!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Kt(e,n,z,k,l,j)}return;default:if(el(n)){for(var Xt in a)k=a[Xt],a.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&Vf(e,n,Xt,void 0,l,k);for(Y in l)k=l[Y],j=a[Y],!l.hasOwnProperty(Y)||k===j||k===void 0&&j===void 0||Vf(e,n,Y,k,l,j);return}}for(var M in a)k=a[M],a.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&Kt(e,n,M,null,l,k);for(Z in l)k=l[Z],j=a[Z],!l.hasOwnProperty(Z)||k===j||k==null&&j==null||Kt(e,n,Z,k,l,j)}var Mf=null,Lf=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function hy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Uf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function VT(){var e=window.event;return e&&e.type==="popstate"?e===Pf?!1:(Pf=e,!0):(Pf=null,!1)}var dy=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,my=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof my<"u"?function(e){return my.resolve(null).then(e).catch(UT)}:dy;function UT(e){setTimeout(function(){throw e})}function hr(e){return e==="head"}function gy(e,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&kl(v.documentElement),a&2&&kl(v.body),a&4)for(a=v.head,kl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[zr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(f),Kl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Kl(n)}function Bf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),Yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function PT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function BT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function zf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function zT(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var kf=null;function py(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function yy(e,n,a){switch(n=qu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function kl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Yi(e)}var Cn=new Map,_y=new Set;function Hu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=at.d;at.d={f:kT,r:jT,D:qT,C:HT,L:GT,m:FT,X:QT,S:YT,M:KT};function kT(){var e=Mi.f(),n=Mu();return e||n}function jT(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?Bg(n):Mi.r(e)}var ps=typeof document>"u"?null:document;function vy(e,n,a){var l=ps;if(l&&typeof n=="string"&&n){var h=ge(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_y.has(h)||(_y.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",e),ce(n),l.head.appendChild(n)))}}function qT(e){Mi.D(e),vy("dns-prefetch",e,null)}function HT(e,n){Mi.C(e,n),vy("preconnect",e,n)}function GT(e,n,a){Mi.L(e,n,a);var l=ps;if(l&&e&&n){var h='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ge(a.imageSizes)+'"]')):h+='[href="'+ge(e)+'"]';var f=h;switch(n){case"style":f=ys(e);break;case"script":f=_s(e)}Cn.has(f)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Cn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(jl(f))||n==="script"&&l.querySelector(ql(f))||(n=l.createElement("link"),ke(n,"link",e),ce(n),l.head.appendChild(n)))}}function FT(e,n){Mi.m(e,n);var a=ps;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(e)}if(!Cn.has(f)&&(e=E({rel:"modulepreload",href:e},n),Cn.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ql(f)))return}l=a.createElement("link"),ke(l,"link",e),ce(l),a.head.appendChild(l)}}}function YT(e,n,a){Mi.S(e,n,a);var l=ps;if(l&&e){var h=Ze(l).hoistableStyles,f=ys(e);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(jl(f)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Cn.get(f))&&jf(e,a);var w=v=l.createElement("link");ce(w),ke(w,"link",e),w._p=new Promise(function(z,Y){w.onload=z,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function QT(e,n){Mi.X(e,n);var a=ps;if(a&&e){var l=Ze(a).hoistableScripts,h=_s(e),f=l.get(h);f||(f=a.querySelector(ql(h)),f||(e=E({src:e,async:!0},n),(n=Cn.get(h))&&qf(e,n),f=a.createElement("script"),ce(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function KT(e,n){Mi.M(e,n);var a=ps;if(a&&e){var l=Ze(a).hoistableScripts,h=_s(e),f=l.get(h);f||(f=a.querySelector(ql(h)),f||(e=E({src:e,async:!0,type:"module"},n),(n=Cn.get(h))&&qf(e,n),f=a.createElement("script"),ce(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ey(e,n,a,l){var h=(h=Et.current)?Hu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ys(a.href),a=Ze(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ys(a.href);var f=Ze(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(jl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),f||XT(h,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_s(a),a=Ze(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ys(e){return'href="'+ge(e)+'"'}function jl(e){return'link[rel="stylesheet"]['+e+"]"}function Ty(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function XT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),ce(n),e.head.appendChild(n))}function _s(e){return'[src="'+ge(e)+'"]'}function ql(e){return"script[async]"+e}function Ay(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),ke(l,"style",h),Gu(l,a.precedence,e),n.instance=l;case"stylesheet":h=ys(a.href);var f=e.querySelector(jl(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=Ty(a),(h=Cn.get(h))&&jf(l,h),f=(e.ownerDocument||e).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ke(f,"link",l),n.state.loading|=4,Gu(f,a.precedence,e),n.instance=f;case"script":return f=_s(a.src),(h=e.querySelector(ql(f)))?(n.instance=h,ce(h),h):(l=a,(h=Cn.get(f))&&(l=E({},a),qf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gu(l,a.precedence,e));return n.instance}function Gu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Fu=null;function Sy(e,n,a){if(Fu===null){var l=new Map,h=Fu=new Map;h.set(a,l)}else h=Fu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[zr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function by(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function $T(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hl=null;function ZT(){}function JT(e,n,a){if(Hl===null)throw Error(s(475));var l=Hl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ys(a.href),f=e.querySelector(jl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Yu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=e.ownerDocument||e,a=Ty(a),(h=Cn.get(h))&&jf(a,h),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ke(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Yu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function WT(){if(Hl===null)throw Error(s(475));var e=Hl;return e.stylesheets&&e.count===0&&Hf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Hf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Yu(){if(this.count--,this.count===0){if(this.stylesheets)Hf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qu=null;function Hf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qu=new Map,n.forEach(tA,e),Qu=null,Yu.call(e))}function tA(e,n){if(!(n.state.loading&4)){var a=Qu.get(e);if(a)var l=a.get(null);else{a=new Map,Qu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Yu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Gl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function eA(e,n,a,l,h,f,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function wy(e,n,a,l,h,f,v,T,w,z,Y,Z){return e=new eA(e,n,a,v,T,w,z,Z),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=Sh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ch(f),e}function Cy(e){return e?(e=Xa,e):Xa}function Dy(e,n,a,l,h,f){h=Cy(h),l.context===null?l.context=h:l.pendingContext=h,l=Ji(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Wi(e,l,n),a!==null&&(mn(a,e,n),El(a,e,n))}function Iy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Gf(e,n){Iy(e,n),(e=e.alternate)&&Iy(e,n)}function Ny(e){if(e.tag===13){var n=Ka(e,67108864);n!==null&&mn(n,e,67108864),Gf(e,67108864)}}var Ku=!0;function nA(e,n,a,l){var h=F.T;F.T=null;var f=at.p;try{at.p=2,Ff(e,n,a,l)}finally{at.p=f,F.T=h}}function iA(e,n,a,l){var h=F.T;F.T=null;var f=at.p;try{at.p=8,Ff(e,n,a,l)}finally{at.p=f,F.T=h}}function Ff(e,n,a,l){if(Ku){var h=Yf(l);if(h===null)Of(e,n,l,Xu,a),Oy(e,l);else if(aA(h,e,n,a,l))l.stopPropagation();else if(Oy(e,l),n&4&&-1<rA.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Nn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Ge(v);T.entanglements[1]|=w,v&=~w}ti(f),(Gt&6)===0&&(Ou=gn()+500,Pl(0))}}break;case 13:T=Ka(f,2),T!==null&&mn(T,f,2),Mu(),Gf(f,2)}if(f=Yf(l),f===null&&Of(e,n,l,Xu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Of(e,n,l,null,a)}}function Yf(e){return e=_n(e),Qf(e)}var Xu=null;function Qf(e){if(Xu=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Xu=e,null}function xy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xc()){case qs:return 2;case Ca:return 8;case Mr:case $c:return 32;case Da:return 268435456;default:return 32}default:return 32}}var Kf=!1,fr=null,dr=null,mr=null,Fl=new Map,Yl=new Map,gr=[],rA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oy(e,n){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function Ql(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&Ny(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function aA(e,n,a,l,h){switch(n){case"focusin":return fr=Ql(fr,e,n,a,l,h),!0;case"dragenter":return dr=Ql(dr,e,n,a,l,h),!0;case"mouseover":return mr=Ql(mr,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Fl.set(f,Ql(Fl.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Yl.set(f,Ql(Yl.get(f)||null,e,n,a,l,h)),!0}return!1}function Vy(e){var n=fi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Mo(e.priority,function(){if(a.tag===13){var l=dn();l=Hi(l);var h=Ka(a,l);h!==null&&mn(h,a,l),Gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Yf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);pi=l,a.target.dispatchEvent(l),pi=null}else return n=kn(a),n!==null&&Ny(n),e.blockedOn=a,!1;n.shift()}return!0}function My(e,n,a){$u(e)&&a.delete(n)}function sA(){Kf=!1,fr!==null&&$u(fr)&&(fr=null),dr!==null&&$u(dr)&&(dr=null),mr!==null&&$u(mr)&&(mr=null),Fl.forEach(My),Yl.forEach(My)}function Zu(e,n){e.blockedOn===n&&(e.blockedOn=null,Kf||(Kf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,sA)))}var Ju=null;function Ly(e){Ju!==e&&(Ju=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ju===e&&(Ju=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Qf(l||a)===null)continue;break}var f=kn(a);f!==null&&(e.splice(n,3),n-=3,Yh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Kl(e){function n(w){return Zu(w,e)}fr!==null&&Zu(fr,e),dr!==null&&Zu(dr,e),mr!==null&&Zu(mr,e),Fl.forEach(n),Yl.forEach(n);for(var a=0;a<gr.length;a++){var l=gr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<gr.length&&(a=gr[0],a.blockedOn===null);)Vy(a),a.blockedOn===null&&gr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[me]||null;if(typeof f=="function")v||Ly(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[me]||null)T=v.formAction;else if(Qf(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ly(a)}}}function Xf(e){this._internalRoot=e}Wu.prototype.render=Xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=dn();Dy(a,l,e,n,null,null)},Wu.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Dy(e.current,2,null,e,null,null),Mu(),n[pn]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<gr.length&&n!==0&&n<gr[a].priority;a++);gr.splice(a,0,e),a===0&&Vy(e)}};var Uy=t.version;if(Uy!=="19.1.0")throw Error(s(527,Uy,"19.1.0"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var lA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{le=tc.inject(lA),Ht=tc}catch{}}return $l.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=Jg,f=Wg,v=tp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=wy(e,1,!1,null,null,a,l,h,f,v,T,null),e[pn]=n.current,xf(e),new Xf(n)},$l.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",f=Jg,v=Wg,T=tp,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=wy(e,1,!0,n,a??null,l,h,f,v,T,w,z),n.context=Cy(null),a=n.current,l=dn(),l=Hi(l),h=Ji(l),h.callback=null,Wi(a,h,l),a=l,n.current.lanes=a,hi(n,a),ti(n),e[pn]=n.current,xf(e),new Wu(n)},$l.version="19.1.0",$l}var Yy;function yA(){if(Yy)return Jf.exports;Yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Jf.exports=pA(),Jf.exports}var _A=yA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qy="popstate";function vA(r={}){function t(s,o){let{pathname:c,search:d,hash:g}=s.location;return dd("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:uo(o)}return TA(t,i,null,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function si(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function EA(){return Math.random().toString(36).substring(2,10)}function Ky(r,t){return{usr:r.state,key:r.key,idx:t}}function dd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Vs(t):t,state:i,key:t&&t.key||s||EA()}}function uo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Vs(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function TA(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function R(){g="POP";let G=E(),tt=G==null?null:G-p;p=G,y&&y({action:g,location:X.location,delta:tt})}function S(G,tt){g="PUSH";let lt=dd(X.location,G,tt);p=E()+1;let rt=Ky(lt,p),St=X.createHref(lt);try{d.pushState(rt,"",St)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;o.location.assign(St)}c&&y&&y({action:g,location:X.location,delta:1})}function U(G,tt){g="REPLACE";let lt=dd(X.location,G,tt);p=E();let rt=Ky(lt,p),St=X.createHref(lt);d.replaceState(rt,"",St),c&&y&&y({action:g,location:X.location,delta:0})}function q(G){return AA(G)}let X={get action(){return g},get location(){return r(o,d)},listen(G){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,R),y=G,()=>{o.removeEventListener(Qy,R),y=null}},createHref(G){return t(o,G)},createURL:q,encodeLocation(G){let tt=q(G);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:S,replace:U,go(G){return d.go(G)}};return X}function AA(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uo(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Iv(r,t,i="/"){return SA(r,t,i,!1)}function SA(r,t,i,s){let o=typeof t=="string"?Vs(t):t,c=Pi(o.pathname||"/",i);if(c==null)return null;let d=Nv(r);bA(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=LA(c);g=VA(d[y],p,s)}return g}function Nv(r,t=[],i=[],s=""){let o=(c,d,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};y.relativePath.startsWith("/")&&(re(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=Li([s,y.relativePath]),E=i.concat(y);c.children&&c.children.length>0&&(re(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Nv(c.children,t,E,p)),!(c.path==null&&!c.index)&&t.push({path:p,score:xA(p,c.index),routesMeta:E})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let g of xv(c.path))o(c,d,g)}),t}function xv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=xv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function bA(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:OA(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var RA=/^:[\w-]+$/,wA=3,CA=2,DA=1,IA=10,NA=-2,Xy=r=>r==="*";function xA(r,t){let i=r.split("/"),s=i.length;return i.some(Xy)&&(s+=NA),t&&(s+=CA),i.filter(o=>!Xy(o)).reduce((o,c)=>o+(RA.test(c)?wA:c===""?DA:IA),s)}function OA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function VA(r,t,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",R=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),S=y.route;if(!R&&p&&i&&!s[s.length-1].route.index&&(R=pc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),d.push({params:o,pathname:Li([c,R.pathname]),pathnameBase:zA(Li([c,R.pathnameBase])),route:S}),R.pathnameBase!=="/"&&(c=Li([c,R.pathnameBase]))}return d}function pc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=MA(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:R},S)=>{if(E==="*"){let q=g[S]||"";d=c.slice(0,c.length-q.length).replace(/(.)\/+$/,"$1")}const U=g[S];return R&&!U?p[E]=void 0:p[E]=(U||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function MA(r,t=!1,i=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function LA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Pi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function UA(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Vs(r):r;return{pathname:i?i.startsWith("/")?i:PA(i,t):t,search:kA(s),hash:jA(o)}}function PA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function nd(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Ov(r){let t=BA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Vv(r,t,i,s=!1){let o;typeof r=="string"?o=Vs(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),nd("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),nd("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),nd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let R=t.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),R-=1;o.pathname=S.join("/")}g=R>=0?t[R]:"/"}let y=UA(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),zA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,jA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Mv=["POST","PUT","PATCH","DELETE"];new Set(Mv);var HA=["GET",...Mv];new Set(HA);var Ms=Q.createContext(null);Ms.displayName="DataRouter";var Mc=Q.createContext(null);Mc.displayName="DataRouterState";Q.createContext(!1);var Lv=Q.createContext({isTransitioning:!1});Lv.displayName="ViewTransition";var GA=Q.createContext(new Map);GA.displayName="Fetchers";var FA=Q.createContext(null);FA.displayName="Await";var oi=Q.createContext(null);oi.displayName="Navigation";var Ao=Q.createContext(null);Ao.displayName="Location";var ji=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var zd=Q.createContext(null);zd.displayName="RouteError";function YA(r,{relative:t}={}){re(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(oi),{hash:o,pathname:c,search:d}=bo(r,{relative:t}),g=c;return i!=="/"&&(g=c==="/"?i:Li([i,c])),s.createHref({pathname:g,search:d,hash:o})}function So(){return Q.useContext(Ao)!=null}function Nr(){return re(So(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ao).location}var Uv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pv(r){Q.useContext(oi).static||Q.useLayoutEffect(r)}function QA(){let{isDataRoute:r}=Q.useContext(ji);return r?s1():KA()}function KA(){re(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ms),{basename:t,navigator:i}=Q.useContext(oi),{matches:s}=Q.useContext(ji),{pathname:o}=Nr(),c=JSON.stringify(Ov(s)),d=Q.useRef(!1);return Pv(()=>{d.current=!0}),Q.useCallback((y,p={})=>{if(si(d.current,Uv),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Vv(y,JSON.parse(c),o,p.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Li([t,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[t,i,c,o,r])}Q.createContext(null);function bo(r,{relative:t}={}){let{matches:i}=Q.useContext(ji),{pathname:s}=Nr(),o=JSON.stringify(Ov(i));return Q.useMemo(()=>Vv(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function XA(r,t){return Bv(r,t)}function Bv(r,t,i,s){re(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(oi),{matches:c}=Q.useContext(ji),d=c[c.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",E=d&&d.route;{let tt=E&&E.path||"";zv(y,!E||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let R=Nr(),S;if(t){let tt=typeof t=="string"?Vs(t):t;re(p==="/"||tt.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),S=tt}else S=R;let U=S.pathname||"/",q=U;if(p!=="/"){let tt=p.replace(/^\//,"").split("/");q="/"+U.replace(/^\//,"").split("/").slice(tt.length).join("/")}let X=Iv(r,{pathname:q});si(E||X!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),si(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=t1(X&&X.map(tt=>Object.assign({},tt,{params:Object.assign({},g,tt.params),pathname:Li([p,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?p:Li([p,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),c,i,s);return t&&G?Q.createElement(Ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},G):G}function $A(){let r=a1(),t=qA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),i?Q.createElement("pre",{style:o},i):null,d)}var ZA=Q.createElement($A,null),JA=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Q.createElement(ji.Provider,{value:this.props.routeContext},Q.createElement(zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WA({routeContext:r,match:t,children:i}){let s=Q.useContext(Ms);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(ji.Provider,{value:r},i)}function t1(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i?.errors;if(c!=null){let y=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:E,errors:R}=i,S=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!R||R[p.route.id]===void 0);if(p.route.lazy||S){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((y,p,E)=>{let R,S=!1,U=null,q=null;i&&(R=c&&p.route.id?c[p.route.id]:void 0,U=p.route.errorElement||ZA,d&&(g<0&&E===0?(zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,q=null):g===E&&(S=!0,q=p.route.hydrateFallbackElement||null)));let X=t.concat(o.slice(0,E+1)),G=()=>{let tt;return R?tt=U:S?tt=q:p.route.Component?tt=Q.createElement(p.route.Component,null):p.route.element?tt=p.route.element:tt=y,Q.createElement(WA,{match:p,routeContext:{outlet:y,matches:X,isDataRoute:i!=null},children:tt})};return i&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?Q.createElement(JA,{location:i.location,revalidation:i.revalidation,component:U,error:R,children:G(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):G()},null)}function kd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(r){let t=Q.useContext(Ms);return re(t,kd(r)),t}function n1(r){let t=Q.useContext(Mc);return re(t,kd(r)),t}function i1(r){let t=Q.useContext(ji);return re(t,kd(r)),t}function jd(r){let t=i1(r),i=t.matches[t.matches.length-1];return re(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function r1(){return jd("useRouteId")}function a1(){let r=Q.useContext(zd),t=n1("useRouteError"),i=jd("useRouteError");return r!==void 0?r:t.errors?.[i]}function s1(){let{router:r}=e1("useNavigate"),t=jd("useNavigate"),i=Q.useRef(!1);return Pv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{si(i.current,Uv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var $y={};function zv(r,t,i){!t&&!$y[r]&&($y[r]=!0,si(!1,i))}Q.memo(l1);function l1({routes:r,future:t,state:i}){return Bv(r,void 0,i,t)}function md(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function o1({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){re(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Vs(i));let{pathname:y="/",search:p="",hash:E="",state:R=null,key:S="default"}=i,U=Q.useMemo(()=>{let q=Pi(y,d);return q==null?null:{location:{pathname:q,search:p,hash:E,state:R,key:S},navigationType:s}},[d,y,p,E,R,S,s]);return si(U!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Q.createElement(oi.Provider,{value:g},Q.createElement(Ao.Provider,{children:t,value:U}))}function u1({children:r,location:t}){return XA(gd(r),t)}function gd(r,t=[]){let i=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...t,o];if(s.type===Q.Fragment){i.push.apply(i,gd(s.props.children,c));return}re(s.type===md,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=gd(s.props.children,c)),i.push(d)}),i}var lc="get",oc="application/x-www-form-urlencoded";function Lc(r){return r!=null&&typeof r.tagName=="string"}function c1(r){return Lc(r)&&r.tagName.toLowerCase()==="button"}function h1(r){return Lc(r)&&r.tagName.toLowerCase()==="form"}function f1(r){return Lc(r)&&r.tagName.toLowerCase()==="input"}function d1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function m1(r,t){return r.button===0&&(!t||t==="_self")&&!d1(r)}var ec=null;function g1(){if(ec===null)try{new FormData(document.createElement("form"),0),ec=!1}catch{ec=!0}return ec}var p1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(r){return r!=null&&!p1.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):r}function y1(r,t){let i,s,o,c,d;if(h1(r)){let g=r.getAttribute("action");s=g?Pi(g,t):null,i=r.getAttribute("method")||lc,o=id(r.getAttribute("enctype"))||oc,c=new FormData(r)}else if(c1(r)||f1(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?Pi(y,t):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||lc,o=id(r.getAttribute("formenctype"))||id(g.getAttribute("enctype"))||oc,c=new FormData(g,r),!g1()){let{name:p,type:E,value:R}=r;if(E==="image"){let S=p?`${p}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else p&&c.append(p,R)}}else{if(Lc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=lc,s=null,o=oc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function _1(r,t,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:t&&Pi(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function v1(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function T1(r,t,i){let s=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await v1(c,i);return d.links?d.links():[]}return[]}));return R1(s.flat(1).filter(E1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Zy(r,t,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?t.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?t.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function A1(r,t,{includeHydrateFallback:i}={}){return S1(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function S1(r){return[...new Set(r)]}function b1(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function R1(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let c=JSON.stringify(b1(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function kv(){let r=Q.useContext(Ms);return qd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function w1(){let r=Q.useContext(Mc);return qd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hd=Q.createContext(void 0);Hd.displayName="FrameworkContext";function jv(){let r=Q.useContext(Hd);return qd(r,"You must render this element inside a <HydratedRouter> element"),r}function C1(r,t){let i=Q.useContext(Hd),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:R}=t,S=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let X=tt=>{tt.forEach(lt=>{d(lt.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return S.current&&G.observe(S.current),()=>{G.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let U=()=>{o(!0)},q=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Zl(g,U),onBlur:Zl(y,q),onMouseEnter:Zl(p,U),onMouseLeave:Zl(E,q),onTouchStart:Zl(R,U)}]:[!1,S,{}]}function Zl(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function D1({page:r,...t}){let{router:i}=kv(),s=Q.useMemo(()=>Iv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(N1,{page:r,matches:s,...t}):null}function I1(r){let{manifest:t,routeModules:i}=jv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return T1(r,t,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,t,i]),s}function N1({page:r,matches:t,...i}){let s=Nr(),{manifest:o,routeModules:c}=jv(),{basename:d}=kv(),{loaderData:g,matches:y}=w1(),p=Q.useMemo(()=>Zy(r,t,y,o,s,"data"),[r,t,y,o,s]),E=Q.useMemo(()=>Zy(r,t,y,o,s,"assets"),[r,t,y,o,s]),R=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,X=!1;if(t.forEach(tt=>{let lt=o.routes[tt.route.id];!lt||!lt.hasLoader||(!p.some(rt=>rt.route.id===tt.route.id)&&tt.route.id in g&&c[tt.route.id]?.shouldRevalidate||lt.hasClientLoader?X=!0:q.add(tt.route.id))}),q.size===0)return[];let G=_1(r,d,"data");return X&&q.size>0&&G.searchParams.set("_routes",t.filter(tt=>q.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[G.pathname+G.search]},[d,g,s,o,p,t,r,c]),S=Q.useMemo(()=>A1(E,o),[E,o]),U=I1(E);return Q.createElement(Q.Fragment,null,R.map(q=>Q.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...i})),S.map(q=>Q.createElement("link",{key:q,rel:"modulepreload",href:q,...i})),U.map(({key:q,link:X})=>Q.createElement("link",{key:q,...X})))}function x1(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var qv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qv&&(window.__reactRouterVersion="7.7.1")}catch{}function O1({basename:r,children:t,window:i}){let s=Q.useRef();s.current==null&&(s.current=vA({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),g=Q.useCallback(y=>{Q.startTransition(()=>d(y))},[d]);return Q.useLayoutEffect(()=>o.listen(g),[o,g]),Q.createElement(o1,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var Hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yc=Q.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:R,...S},U){let{basename:q}=Q.useContext(oi),X=typeof p=="string"&&Hv.test(p),G,tt=!1;if(typeof p=="string"&&X&&(G=p,qv))try{let C=new URL(window.location.href),x=p.startsWith("//")?new URL(C.protocol+p):new URL(p),V=Pi(x.pathname,q);x.origin===C.origin&&V!=null?p=V+x.search+x.hash:tt=!0}catch{si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let lt=YA(p,{relative:o}),[rt,St,ft]=C1(s,S),Ot=U1(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:R});function O(C){t&&t(C),C.defaultPrevented||Ot(C)}let b=Q.createElement("a",{...S,...ft,href:G||lt,onClick:tt||c?t:O,ref:x1(U,St),target:y,"data-discover":!X&&i==="render"?"true":void 0});return rt&&!X?Q.createElement(Q.Fragment,null,b,Q.createElement(D1,{page:lt})):b});yc.displayName="Link";var V1=Q.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let R=bo(d,{relative:p.relative}),S=Nr(),U=Q.useContext(Mc),{navigator:q,basename:X}=Q.useContext(oi),G=U!=null&&j1(R)&&g===!0,tt=q.encodeLocation?q.encodeLocation(R).pathname:R.pathname,lt=S.pathname,rt=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(lt=lt.toLowerCase(),rt=rt?rt.toLowerCase():null,tt=tt.toLowerCase()),rt&&X&&(rt=Pi(rt,X)||rt);const St=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let ft=lt===tt||!o&&lt.startsWith(tt)&&lt.charAt(St)==="/",Ot=rt!=null&&(rt===tt||!o&&rt.startsWith(tt)&&rt.charAt(tt.length)==="/"),O={isActive:ft,isPending:Ot,isTransitioning:G},b=ft?t:void 0,C;typeof s=="function"?C=s(O):C=[s,ft?"active":null,Ot?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let x=typeof c=="function"?c(O):c;return Q.createElement(yc,{...p,"aria-current":b,className:C,ref:E,style:x,to:d,viewTransition:g},typeof y=="function"?y(O):y)});V1.displayName="NavLink";var M1=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:c,method:d=lc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:R,...S},U)=>{let q=z1(),X=k1(g,{relative:p}),G=d.toLowerCase()==="get"?"get":"post",tt=typeof g=="string"&&Hv.test(g),lt=rt=>{if(y&&y(rt),rt.defaultPrevented)return;rt.preventDefault();let St=rt.nativeEvent.submitter,ft=St?.getAttribute("formmethod")||d;q(St||rt.currentTarget,{fetcherKey:t,method:ft,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:R})};return Q.createElement("form",{ref:U,method:G,action:X,onSubmit:s?y:lt,...S,"data-discover":!tt&&r==="render"?"true":void 0})});M1.displayName="Form";function L1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gv(r){let t=Q.useContext(Ms);return re(t,L1(r)),t}function U1(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=QA(),y=Nr(),p=bo(r,{relative:c});return Q.useCallback(E=>{if(m1(E,t)){E.preventDefault();let R=i!==void 0?i:uo(y)===uo(p);g(r,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,i,s,t,r,o,c,d])}var P1=0,B1=()=>`__${String(++P1)}__`;function z1(){let{router:r}=Gv("useSubmit"),{basename:t}=Q.useContext(oi),i=r1();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=y1(s,t);if(o.navigate===!1){let E=o.fetcherKey||B1();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function k1(r,{relative:t}={}){let{basename:i}=Q.useContext(oi),s=Q.useContext(ji);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...bo(r||".",{relative:t})},d=Nr();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(R=>R).forEach(R=>g.append("index",R));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Li([i,c.pathname])),uo(c)}function j1(r,{relative:t}={}){let i=Q.useContext(Lv);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Gv("useViewTransitionState"),o=bo(r,{relative:t});if(!i.isTransitioning)return!1;let c=Pi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Pi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return pc(o.pathname,d)!=null||pc(o.pathname,c)!=null}const q1=()=>{const r=Nr(),t=[{path:"/",label:"Dashboard",icon:"🏠"},{path:"/chat",label:"AI Chat",icon:"💬"}];return J.jsxs("nav",{className:"bg-slate-800 text-white shadow-lg",children:[J.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:J.jsxs("div",{className:"flex justify-between h-16",children:[J.jsxs("div",{className:"flex items-center",children:[J.jsx("h1",{className:"text-xl font-bold",children:"OneFlow Client Manager"}),J.jsx("div",{className:"hidden sm:ml-8 sm:flex sm:space-x-8",children:t.map(i=>J.jsxs(yc,{to:i.path,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${r.pathname===i.path?"border-blue-400 text-white":"border-transparent text-gray-300 hover:border-gray-400 hover:text-white"}`,children:[J.jsx("span",{className:"mr-2",children:i.icon}),i.label]},i.path))})]}),J.jsx("div",{className:"flex items-center",children:J.jsx("div",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold",children:"✓ OneFlow Connected"})})]})}),J.jsx("div",{className:"sm:hidden bg-slate-700",children:J.jsx("div",{className:"pt-2 pb-3 space-y-1",children:t.map(i=>J.jsxs(yc,{to:i.path,className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${r.pathname===i.path?"bg-slate-600 border-blue-400 text-white":"border-transparent text-gray-300 hover:bg-slate-600 hover:border-gray-300 hover:text-white"}`,children:[J.jsx("span",{className:"mr-2",children:i.icon}),i.label]},i.path))})})]})},H1=({client:r})=>{const t=s=>{switch(s){case"active":return"border-green-500 bg-green-50";case"expiring":return"border-red-500 bg-red-50";case"draft":return"border-blue-500 bg-blue-50";default:return"border-gray-300 bg-white"}},i=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"expiring":return"bg-red-100 text-red-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return J.jsxs("div",{className:`rounded-lg p-6 shadow-md border-l-4 ${t(r.contractStatus)}`,children:[J.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:r.name}),J.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:"📧"}),J.jsx("span",{children:r.email})]}),J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:"📞"}),J.jsx("span",{children:r.phone})]}),J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:"📄"}),J.jsx("span",{children:"Contract: "}),J.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-semibold uppercase ${i(r.contractStatus)}`,children:r.contractStatus==="expiring"?"Expiring Soon":r.contractStatus})]}),J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:"🗓️"}),J.jsx("span",{children:r.contractStatus==="draft"?"Pending Signature":`Expires: ${r.expiryDate}`})]}),J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:"🔍"}),J.jsxs("span",{children:["Service: ",r.service]})]}),r.lastCheck&&J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:r.contractStatus==="expiring"?"⚠️":"✅"}),J.jsx("span",{children:r.lastCheck})]}),r.oneflowStatus&&J.jsxs("div",{className:"flex items-center",children:[J.jsx("span",{className:"mr-2",children:"📋"}),J.jsxs("span",{children:["OneFlow Status: ",r.oneflowStatus]})]})]})]})},G1=[{name:"Acme Corporation",email:"contact@acme.com",phone:"(555) 123-4567",contractStatus:"active",expiryDate:"March 15, 2025",service:"SEO & Marketing",lastCheck:"Last SEO Check: January 15, 2025"},{name:"Tech Startup Inc",email:"hello@techstartup.com",phone:"(555) 987-6543",contractStatus:"expiring",expiryDate:"August 28, 2025",service:"Web Development",lastCheck:"SEO Check Due: August 1, 2025"},{name:"Global Solutions Ltd",email:"info@globalsolutions.com",phone:"(555) 456-7890",contractStatus:"draft",expiryDate:"Pending Signature",service:"Full Marketing Suite",oneflowStatus:"Awaiting Client"}],F1=[{type:"contract-signed",title:"Contract Signed!",message:"Acme Corporation contract executed via OneFlow",time:"2 hours ago",channel:"#contracts channel"},{type:"contract-expiring",title:"Contract Expiring Soon",message:"Tech Startup Inc contract expires in 30 days",time:"1 day ago",channel:"#account-management channel"},{type:"seo-reminder",title:"Monthly SEO Check",message:"Time to review Tech Startup Inc SEO status",time:"3 days ago",channel:"#seo-team channel"}],Y1=()=>{const[r,t]=Q.useState(""),[i,s]=Q.useState(""),[o,c]=Q.useState(""),d=G1.filter(p=>{const E=p.name.toLowerCase().includes(r.toLowerCase())||p.email.toLowerCase().includes(r.toLowerCase()),R=!i||p.contractStatus===i,S=!o||p.service.toLowerCase().includes(o.toLowerCase());return E&&R&&S}),g=()=>{alert(`Syncing with OneFlow API...
✓ Contract statuses updated
✓ New signatures detected
✓ Client data refreshed`)},y=p=>{switch(p){case"contract-signed":return"bg-green-50 border-green-400";case"contract-expiring":return"bg-red-50 border-red-400";case"seo-reminder":return"bg-blue-50 border-blue-400";default:return"bg-gray-50 border-gray-400"}};return J.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:J.jsxs("div",{className:"max-w-7xl mx-auto",children:[J.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[J.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Client Management Dashboard"}),J.jsx("p",{className:"text-gray-600",children:"Automated contract workflows and client relationship management"})]}),J.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 text-center",children:[J.jsx("span",{className:"text-green-800 font-semibold",children:"✓ OneFlow API Connected"}),J.jsx("span",{className:"text-gray-600 mx-2",children:"|"}),J.jsx("span",{className:"text-gray-600",children:"Last sync: 2 minutes ago"}),J.jsx("button",{onClick:g,className:"ml-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Sync Now"})]}),J.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:J.jsxs("div",{className:"flex flex-wrap gap-4",children:[J.jsx("input",{type:"text",placeholder:"Search clients...",value:r,onChange:p=>t(p.target.value),className:"flex-1 min-w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),J.jsxs("select",{value:i,onChange:p=>s(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[J.jsx("option",{value:"",children:"All Contracts"}),J.jsx("option",{value:"active",children:"Active"}),J.jsx("option",{value:"expiring",children:"Expiring Soon"}),J.jsx("option",{value:"draft",children:"Draft"})]}),J.jsxs("select",{value:o,onChange:p=>c(p.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[J.jsx("option",{value:"",children:"All Services"}),J.jsx("option",{value:"seo",children:"SEO"}),J.jsx("option",{value:"web",children:"Web Development"}),J.jsx("option",{value:"marketing",children:"Marketing"})]})]})}),J.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:d.map((p,E)=>J.jsx(H1,{client:p},E))}),J.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[J.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Slack Notifications"}),J.jsx("div",{className:"space-y-4",children:F1.map((p,E)=>J.jsxs("div",{className:`p-4 rounded-lg border-l-4 ${y(p.type)}`,children:[J.jsx("div",{className:"font-semibold text-gray-900",children:p.title}),J.jsx("div",{className:"text-gray-700 mt-1",children:p.message}),J.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Sent to ",p.channel," • ",p.time]})]},E))})]})]})})},Q1=({message:r})=>{const t=r.sender==="user";return J.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:J.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${t?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[J.jsx("p",{className:"text-sm whitespace-pre-wrap",children:r.content}),J.jsx("p",{className:`text-xs mt-1 ${t?"text-blue-100":"text-gray-500"}`,children:r.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},K1=()=>J.jsx("div",{className:"flex justify-start mb-4",children:J.jsx("div",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg rounded-bl-none",children:J.jsxs("div",{className:"flex space-x-1",children:[J.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),J.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),J.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),X1=({onSendMessage:r,disabled:t=!1})=>{const[i,s]=Q.useState(""),o=d=>{d.preventDefault(),i.trim()&&!t&&(r(i.trim()),s(""))},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),o(d))};return J.jsx("form",{onSubmit:o,className:"border-t bg-white p-4",children:J.jsxs("div",{className:"flex space-x-2",children:[J.jsx("textarea",{value:i,onChange:d=>s(d.target.value),onKeyPress:c,placeholder:"Type your message...",disabled:t,className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:1,style:{minHeight:"40px",maxHeight:"120px"}}),J.jsx("button",{type:"submit",disabled:!i.trim()||t,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Send"})]})})};var Jy;(function(r){r.STRING="string",r.NUMBER="number",r.INTEGER="integer",r.BOOLEAN="boolean",r.ARRAY="array",r.OBJECT="object"})(Jy||(Jy={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wy;(function(r){r.LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python"})(Wy||(Wy={}));var t_;(function(r){r.OUTCOME_UNSPECIFIED="outcome_unspecified",r.OUTCOME_OK="outcome_ok",r.OUTCOME_FAILED="outcome_failed",r.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(t_||(t_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=["user","model","function","system"];var n_;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(n_||(n_={}));var i_;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(i_||(i_={}));var r_;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(r_||(r_={}));var a_;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER"})(a_||(a_={}));var no;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.OTHER="OTHER"})(no||(no={}));var s_;(function(r){r.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",r.RETRIEVAL_QUERY="RETRIEVAL_QUERY",r.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",r.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",r.CLASSIFICATION="CLASSIFICATION",r.CLUSTERING="CLUSTERING"})(s_||(s_={}));var l_;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(l_||(l_={}));var o_;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(o_||(o_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class vs extends $e{constructor(t,i){super(t),this.response=i}}class Fv extends $e{constructor(t,i,s,o){super(t),this.status=i,this.statusText=s,this.errorDetails=o}}class vr extends $e{}class Yv extends $e{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="https://generativelanguage.googleapis.com",Z1="v1beta",J1="0.24.1",W1="genai-js";var _a;(function(r){r.GENERATE_CONTENT="generateContent",r.STREAM_GENERATE_CONTENT="streamGenerateContent",r.COUNT_TOKENS="countTokens",r.EMBED_CONTENT="embedContent",r.BATCH_EMBED_CONTENTS="batchEmbedContents"})(_a||(_a={}));class tS{constructor(t,i,s,o,c){this.model=t,this.task=i,this.apiKey=s,this.stream=o,this.requestOptions=c}toString(){var t,i;const s=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||Z1;let c=`${((i=this.requestOptions)===null||i===void 0?void 0:i.baseUrl)||$1}/${s}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function eS(r){const t=[];return r?.apiClient&&t.push(r.apiClient),t.push(`${W1}/${J1}`),t.join(" ")}async function nS(r){var t;const i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",eS(r.requestOptions)),i.append("x-goog-api-key",r.apiKey);let s=(t=r.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new vr(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,c]of s.entries()){if(o==="x-goog-api-key")throw new vr(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new vr(`Header name ${o} can only be set using the apiClient field`);i.append(o,c)}}return i}async function iS(r,t,i,s,o,c){const d=new tS(r,t,i,s,c);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},lS(c)),{method:"POST",headers:await nS(d),body:o})}}async function Ro(r,t,i,s,o,c={},d=fetch){const{url:g,fetchOptions:y}=await iS(r,t,i,s,o,c);return rS(g,y,d)}async function rS(r,t,i=fetch){let s;try{s=await i(r,t)}catch(o){aS(o,r)}return s.ok||await sS(s,r),s}function aS(r,t){let i=r;throw i.name==="AbortError"?(i=new Yv(`Request aborted when fetching ${t.toString()}: ${r.message}`),i.stack=r.stack):r instanceof Fv||r instanceof vr||(i=new $e(`Error fetching from ${t.toString()}: ${r.message}`),i.stack=r.stack),i}async function sS(r,t){let i="",s;try{const o=await r.json();i=o.error.message,o.error.details&&(i+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new Fv(`Error fetching from ${t.toString()}: [${r.status} ${r.statusText}] ${i}`,r.status,r.statusText,s)}function lS(r){const t={};if(r?.signal!==void 0||r?.timeout>=0){const i=new AbortController;r?.timeout>=0&&setTimeout(()=>i.abort(),r.timeout),r?.signal&&r.signal.addEventListener("abort",()=>{i.abort()}),t.signal=i.signal}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(r){return r.text=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),uc(r.candidates[0]))throw new vs(`${yr(r)}`,r);return oS(r)}else if(r.promptFeedback)throw new vs(`Text not available. ${yr(r)}`,r);return""},r.functionCall=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),uc(r.candidates[0]))throw new vs(`${yr(r)}`,r);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),u_(r)[0]}else if(r.promptFeedback)throw new vs(`Function call not available. ${yr(r)}`,r)},r.functionCalls=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),uc(r.candidates[0]))throw new vs(`${yr(r)}`,r);return u_(r)}else if(r.promptFeedback)throw new vs(`Function call not available. ${yr(r)}`,r)},r}function oS(r){var t,i,s,o;const c=[];if(!((i=(t=r.candidates)===null||t===void 0?void 0:t[0].content)===null||i===void 0)&&i.parts)for(const d of(o=(s=r.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.text&&c.push(d.text),d.executableCode&&c.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&c.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function u_(r){var t,i,s,o;const c=[];if(!((i=(t=r.candidates)===null||t===void 0?void 0:t[0].content)===null||i===void 0)&&i.parts)for(const d of(o=(s=r.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&c.push(d.functionCall);if(c.length>0)return c}const uS=[no.RECITATION,no.SAFETY,no.LANGUAGE];function uc(r){return!!r.finishReason&&uS.includes(r.finishReason)}function yr(r){var t,i,s;let o="";if((!r.candidates||r.candidates.length===0)&&r.promptFeedback)o+="Response was blocked",!((t=r.promptFeedback)===null||t===void 0)&&t.blockReason&&(o+=` due to ${r.promptFeedback.blockReason}`),!((i=r.promptFeedback)===null||i===void 0)&&i.blockReasonMessage&&(o+=`: ${r.promptFeedback.blockReasonMessage}`);else if(!((s=r.candidates)===null||s===void 0)&&s[0]){const c=r.candidates[0];uc(c)&&(o+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(o+=`: ${c.finishMessage}`))}return o}function co(r){return this instanceof co?(this.v=r,this):new co(r)}function cS(r,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(r,t||[]),o,c=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(S){s[S]&&(o[S]=function(U){return new Promise(function(q,X){c.push([S,U,q,X])>1||g(S,U)})})}function g(S,U){try{y(s[S](U))}catch(q){R(c[0][3],q)}}function y(S){S.value instanceof co?Promise.resolve(S.value.v).then(p,E):R(c[0][2],S)}function p(S){g("next",S)}function E(S){g("throw",S)}function R(S,U){S(U),c.shift(),c.length&&g(c[0][0],c[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function hS(r){const t=r.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=mS(t),[s,o]=i.tee();return{stream:dS(s),response:fS(o)}}async function fS(r){const t=[],i=r.getReader();for(;;){const{done:s,value:o}=await i.read();if(s)return Gd(gS(t));t.push(o)}}function dS(r){return cS(this,arguments,function*(){const i=r.getReader();for(;;){const{value:s,done:o}=yield co(i.read());if(o)break;yield yield co(Gd(s))}})}function mS(r){const t=r.getReader();return new ReadableStream({start(s){let o="";return c();function c(){return t.read().then(({value:d,done:g})=>{if(g){if(o.trim()){s.error(new $e("Failed to parse stream"));return}s.close();return}o+=d;let y=o.match(c_),p;for(;y;){try{p=JSON.parse(y[1])}catch{s.error(new $e(`Error parsing JSON response: "${y[1]}"`));return}s.enqueue(p),o=o.substring(y[0].length),y=o.match(c_)}return c()}).catch(d=>{let g=d;throw g.stack=d.stack,g.name==="AbortError"?g=new Yv("Request aborted when reading from the stream"):g=new $e("Error reading from the stream"),g})}}})}function gS(r){const t=r[r.length-1],i={promptFeedback:t?.promptFeedback};for(const s of r){if(s.candidates){let o=0;for(const c of s.candidates)if(i.candidates||(i.candidates=[]),i.candidates[o]||(i.candidates[o]={index:o}),i.candidates[o].citationMetadata=c.citationMetadata,i.candidates[o].groundingMetadata=c.groundingMetadata,i.candidates[o].finishReason=c.finishReason,i.candidates[o].finishMessage=c.finishMessage,i.candidates[o].safetyRatings=c.safetyRatings,c.content&&c.content.parts){i.candidates[o].content||(i.candidates[o].content={role:c.content.role||"user",parts:[]});const d={};for(const g of c.content.parts)g.text&&(d.text=g.text),g.functionCall&&(d.functionCall=g.functionCall),g.executableCode&&(d.executableCode=g.executableCode),g.codeExecutionResult&&(d.codeExecutionResult=g.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),i.candidates[o].content.parts.push(d)}o++}s.usageMetadata&&(i.usageMetadata=s.usageMetadata)}return i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(r,t,i,s){const o=await Ro(t,_a.STREAM_GENERATE_CONTENT,r,!0,JSON.stringify(i),s);return hS(o)}async function Kv(r,t,i,s){const c=await(await Ro(t,_a.GENERATE_CONTENT,r,!1,JSON.stringify(i),s)).json();return{response:Gd(c)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(r){if(r!=null){if(typeof r=="string")return{role:"system",parts:[{text:r}]};if(r.text)return{role:"system",parts:[r]};if(r.parts)return r.role?r:{role:"system",parts:r.parts}}}function ho(r){let t=[];if(typeof r=="string")t=[{text:r}];else for(const i of r)typeof i=="string"?t.push({text:i}):t.push(i);return pS(t)}function pS(r){const t={role:"user",parts:[]},i={role:"function",parts:[]};let s=!1,o=!1;for(const c of r)"functionResponse"in c?(i.parts.push(c),o=!0):(t.parts.push(c),s=!0);if(s&&o)throw new $e("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new $e("No content is provided for sending chat message.");return s?t:i}function yS(r,t){var i;let s={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(i=t?.cachedContent)===null||i===void 0?void 0:i.name,contents:[]};const o=r.generateContentRequest!=null;if(r.contents){if(o)throw new vr("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=r.contents}else if(o)s=Object.assign(Object.assign({},s),r.generateContentRequest);else{const c=ho(r);s.contents=[c]}return{generateContentRequest:s}}function h_(r){let t;return r.contents?t=r:t={contents:[ho(r)]},r.systemInstruction&&(t.systemInstruction=Xv(r.systemInstruction)),t}function _S(r){return typeof r=="string"||Array.isArray(r)?{content:ho(r)}:r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],vS={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function ES(r){let t=!1;for(const i of r){const{role:s,parts:o}=i;if(!t&&s!=="user")throw new $e(`First content should be with role 'user', got ${s}`);if(!e_.includes(s))throw new $e(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(e_)}`);if(!Array.isArray(o))throw new $e("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new $e("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const g of o)for(const y of f_)y in g&&(c[y]+=1);const d=vS[s];for(const g of f_)if(!d.includes(g)&&c[g]>0)throw new $e(`Content with role '${s}' can't contain '${g}' part`);t=!0}}function d_(r){var t;if(r.candidates===void 0||r.candidates.length===0)return!1;const i=(t=r.candidates[0])===null||t===void 0?void 0:t.content;if(i===void 0||i.parts===void 0||i.parts.length===0)return!1;for(const s of i.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="SILENT_ERROR";class TS{constructor(t,i,s,o={}){this.model=i,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,s?.history&&(ES(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,i={}){var s,o,c,d,g,y;await this._sendPromise;const p=ho(t),E={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,p]},R=Object.assign(Object.assign({},this._requestOptions),i);let S;return this._sendPromise=this._sendPromise.then(()=>Kv(this._apiKey,this.model,E,R)).then(U=>{var q;if(d_(U.response)){this._history.push(p);const X=Object.assign({parts:[],role:"model"},(q=U.response.candidates)===null||q===void 0?void 0:q[0].content);this._history.push(X)}else{const X=yr(U.response);X&&console.warn(`sendMessage() was unsuccessful. ${X}. Inspect response object for details.`)}S=U}).catch(U=>{throw this._sendPromise=Promise.resolve(),U}),await this._sendPromise,S}async sendMessageStream(t,i={}){var s,o,c,d,g,y;await this._sendPromise;const p=ho(t),E={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(g=this.params)===null||g===void 0?void 0:g.systemInstruction,cachedContent:(y=this.params)===null||y===void 0?void 0:y.cachedContent,contents:[...this._history,p]},R=Object.assign(Object.assign({},this._requestOptions),i),S=Qv(this._apiKey,this.model,E,R);return this._sendPromise=this._sendPromise.then(()=>S).catch(U=>{throw new Error(m_)}).then(U=>U.response).then(U=>{if(d_(U)){this._history.push(p);const q=Object.assign({},U.candidates[0].content);q.role||(q.role="model"),this._history.push(q)}else{const q=yr(U);q&&console.warn(`sendMessageStream() was unsuccessful. ${q}. Inspect response object for details.`)}}).catch(U=>{U.message!==m_&&console.error(U)}),S}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AS(r,t,i,s){return(await Ro(t,_a.COUNT_TOKENS,r,!1,JSON.stringify(i),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(r,t,i,s){return(await Ro(t,_a.EMBED_CONTENT,r,!1,JSON.stringify(i),s)).json()}async function bS(r,t,i,s){const o=i.requests.map(d=>Object.assign(Object.assign({},d),{model:t}));return(await Ro(t,_a.BATCH_EMBED_CONTENTS,r,!1,JSON.stringify({requests:o}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(t,i,s={}){this.apiKey=t,this._requestOptions=s,i.model.includes("/")?this.model=i.model:this.model=`models/${i.model}`,this.generationConfig=i.generationConfig||{},this.safetySettings=i.safetySettings||[],this.tools=i.tools,this.toolConfig=i.toolConfig,this.systemInstruction=Xv(i.systemInstruction),this.cachedContent=i.cachedContent}async generateContent(t,i={}){var s;const o=h_(t),c=Object.assign(Object.assign({},this._requestOptions),i);return Kv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),c)}async generateContentStream(t,i={}){var s;const o=h_(t),c=Object.assign(Object.assign({},this._requestOptions),i);return Qv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),c)}startChat(t){var i;return new TS(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},t),this._requestOptions)}async countTokens(t,i={}){const s=yS(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),i);return AS(this.apiKey,this.model,s,o)}async embedContent(t,i={}){const s=_S(t),o=Object.assign(Object.assign({},this._requestOptions),i);return SS(this.apiKey,this.model,s,o)}async batchEmbedContents(t,i={}){const s=Object.assign(Object.assign({},this._requestOptions),i);return bS(this.apiKey,this.model,t,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t){this.apiKey=t}getGenerativeModel(t,i){if(!t.model)throw new $e("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new g_(this.apiKey,t,i)}getGenerativeModelFromCachedContent(t,i,s){if(!t.name)throw new vr("Cached content must contain a `name` field.");if(!t.model)throw new vr("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(i?.[d]&&t[d]&&i?.[d]!==t[d]){if(d==="model"){const g=i.model.startsWith("models/")?i.model.replace("models/",""):i.model,y=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(g===y)continue}throw new vr(`Different value for "${d}" specified in modelParams (${i[d]}) and cachedContent (${t[d]})`)}const c=Object.assign(Object.assign({},i),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new g_(this.apiKey,c,s)}}const wS=new RS("AIzaSyBK5OxnfRvKimNxvtu-gPrR-6ALJtb3NxI"),CS=async r=>{try{return(await(await wS.getGenerativeModel({model:"gemini-pro"}).generateContent(r)).response).text()}catch(t){throw console.error("Error calling Gemini API:",t),new Error("Failed to get AI response. Please try again.")}},DS=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},IS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=c>>2,R=(c&3)<<4|g>>4;let S=(g&15)<<2|p>>6,U=p&63;y||(U=64,d||(S=64)),s.push(i[E],i[R],i[S],i[U])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray($v(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):IS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||R==null)throw new NS;const S=c<<2|g>>4;if(s.push(S),p!==64){const U=g<<4&240|p>>2;if(s.push(U),R!==64){const q=p<<6&192|R;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(r){const t=$v(r);return Zv.encodeByteArray(t,!0)},_c=function(r){return xS(r).replace(/\./g,"")},OS=function(r){try{return Zv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=()=>VS().__FIREBASE_DEFAULTS__,LS=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},US=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&OS(r[1]);return t&&JSON.parse(t)},Fd=()=>{try{return DS()||MS()||LS()||US()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},PS=r=>Fd()?.emulatorHosts?.[r],BS=r=>{const t=PS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Jv=()=>Fd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[_c(JSON.stringify(i)),_c(JSON.stringify(d)),""].join(".")}const io={};function qS(){const r={prod:[],emulator:[]};for(const t of Object.keys(io))io[t]?r.emulator.push(t):r.prod.push(t);return r}function HS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let y_=!1;function GS(r,t){if(typeof window>"u"||typeof document>"u"||!Yd(window.location.host)||io[r]===t||io[r]||y_)return;io[r]=t;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=qS().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{y_=!0,d()},S}function E(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function R(){const S=HS(s),U=i("text"),q=document.getElementById(U)||document.createElement("span"),X=i("learnmore"),G=document.getElementById(X)||document.createElement("a"),tt=i("preprendIcon"),lt=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const rt=S.element;g(rt),E(G,X);const St=p();y(lt,tt),rt.append(lt,q,G,St),document.body.appendChild(rt)}c?(q.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YS(){const r=Fd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KS(){try{return typeof indexedDB=="object"}catch{return!1}}function XS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="FirebaseError";class Ls extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=$S,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wv.prototype.create)}}class Wv{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?ZS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ls(o,g,s)}}function ZS(r,t){return r.replace(JS,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const JS=/\{\$([^}]+)}/g;function vc(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=t[o];if(__(c)&&__(d)){if(!vc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function __(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(r){return r&&r._delegate?r._delegate:r}class fo{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new zS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eb(t))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=ma){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ma){return this.instances.has(t)}getOptions(t=ma){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&t(c,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:tb(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ma){return this.component?this.component.multipleInstances?t:ma:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tb(r){return r===ma?void 0:r}function eb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const ib={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},rb=Pt.INFO,ab={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},sb=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=ab[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tE{constructor(t){this.name=t,this._logLevel=rb,this._logHandler=sb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?ib[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const lb=(r,t)=>t.some(i=>r instanceof i);let v_,E_;function ob(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ub(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,pd=new WeakMap,nE=new WeakMap,rd=new WeakMap,Qd=new WeakMap;function cb(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eE.set(i,r)}).catch(()=>{}),Qd.set(t,r),t}function hb(r){if(pd.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});pd.set(r,t)}let yd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return pd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||nE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fb(r){yd=r(yd)}function db(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(ad(this),t,...i);return nE.set(s,t.sort?t.sort():[t]),Er(s)}:ub().includes(r)?function(...t){return r.apply(ad(this),t),Er(eE.get(this))}:function(...t){return Er(r.apply(ad(this),t))}}function mb(r){return typeof r=="function"?db(r):(r instanceof IDBTransaction&&hb(r),lb(r,ob())?new Proxy(r,yd):r)}function Er(r){if(r instanceof IDBRequest)return cb(r);if(rd.has(r))return rd.get(r);const t=mb(r);return t!==r&&(rd.set(r,t),Qd.set(t,r)),t}const ad=r=>Qd.get(r);function gb(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Er(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Er(d.result),y.oldVersion,y.newVersion,Er(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const pb=["get","getKey","getAll","getAllKeys","count"],yb=["put","add","delete","clear"],sd=new Map;function T_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(sd.get(t))return sd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=yb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||pb.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return sd.set(t,c),c}fb(r=>({...r,get:(t,i,s)=>T_(t,i)||r.get(t,i,s),has:(t,i)=>!!T_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function vb(r){return r.getComponent()?.type==="VERSION"}const _d="@firebase/app",A_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new tE("@firebase/app"),Eb="@firebase/app-compat",Tb="@firebase/analytics-compat",Ab="@firebase/analytics",Sb="@firebase/app-check-compat",bb="@firebase/app-check",Rb="@firebase/auth",wb="@firebase/auth-compat",Cb="@firebase/database",Db="@firebase/data-connect",Ib="@firebase/database-compat",Nb="@firebase/functions",xb="@firebase/functions-compat",Ob="@firebase/installations",Vb="@firebase/installations-compat",Mb="@firebase/messaging",Lb="@firebase/messaging-compat",Ub="@firebase/performance",Pb="@firebase/performance-compat",Bb="@firebase/remote-config",zb="@firebase/remote-config-compat",kb="@firebase/storage",jb="@firebase/storage-compat",qb="@firebase/firestore",Hb="@firebase/ai",Gb="@firebase/firestore-compat",Fb="firebase",Yb="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="[DEFAULT]",Qb={[_d]:"fire-core",[Eb]:"fire-core-compat",[Ab]:"fire-analytics",[Tb]:"fire-analytics-compat",[bb]:"fire-app-check",[Sb]:"fire-app-check-compat",[Rb]:"fire-auth",[wb]:"fire-auth-compat",[Cb]:"fire-rtdb",[Db]:"fire-data-connect",[Ib]:"fire-rtdb-compat",[Nb]:"fire-fn",[xb]:"fire-fn-compat",[Ob]:"fire-iid",[Vb]:"fire-iid-compat",[Mb]:"fire-fcm",[Lb]:"fire-fcm-compat",[Ub]:"fire-perf",[Pb]:"fire-perf-compat",[Bb]:"fire-rc",[zb]:"fire-rc-compat",[kb]:"fire-gcs",[jb]:"fire-gcs-compat",[qb]:"fire-fst",[Gb]:"fire-fst-compat",[Hb]:"fire-vertex","fire-js":"fire-js",[Fb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,Kb=new Map,Ed=new Map;function S_(r,t){try{r.container.addComponent(t)}catch(i){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Tc(r){const t=r.name;if(Ed.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;Ed.set(t,r);for(const i of Ec.values())S_(i,r);for(const i of Kb.values())S_(i,r);return!0}function Xb(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $b(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Wv("app","Firebase",Zb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=Yb;function iE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:vd,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=Jv()),!i)throw Tr.create("no-options");const c=Ec.get(o);if(c){if(vc(i,c.options)&&vc(s,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new nb(o);for(const y of Ed.values())d.addComponent(y);const g=new Jb(i,s,d);return Ec.set(o,g),g}function tR(r=vd){const t=Ec.get(r);if(!t&&r===vd&&Jv())return iE();if(!t)throw Tr.create("no-app",{appName:r});return t}function bs(r,t,i){let s=Qb[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${t}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(d.join(" "));return}Tc(new fo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="firebase-heartbeat-database",nR=1,mo="firebase-heartbeat-store";let ld=null;function rE(){return ld||(ld=gb(eR,nR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(mo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),ld}async function iR(r){try{const i=(await rE()).transaction(mo),s=await i.objectStore(mo).get(aE(r));return await i.done,s}catch(t){if(t instanceof Ls)Bi.warn(t.message);else{const i=Tr.create("idb-get",{originalErrorMessage:t?.message});Bi.warn(i.message)}}}async function b_(r,t){try{const s=(await rE()).transaction(mo,"readwrite");await s.objectStore(mo).put(t,aE(r)),await s.done}catch(i){if(i instanceof Ls)Bi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i?.message});Bi.warn(s.message)}}}function aE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=1024,aR=30;class sR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new oR(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>aR){const o=uR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Bi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R_(),{heartbeatsToSend:i,unsentEntries:s}=lR(this._heartbeatsCache.heartbeats),o=_c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Bi.warn(t),""}}}function R_(){return new Date().toISOString().substring(0,10)}function lR(r,t=rR){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),w_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),w_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class oR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KS()?XS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iR(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return b_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function w_(r){return _c(JSON.stringify({version:2,heartbeats:r})).length}function uR(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){Tc(new fo("platform-logger",t=>new _b(t),"PRIVATE")),Tc(new fo("heartbeat",t=>new sR(t),"PRIVATE")),bs(_d,A_,r),bs(_d,A_,"esm2020"),bs("fire-js","")}cR("");var hR="firebase",fR="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(hR,fR,"app");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,sE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,b){function C(){}C.prototype=b.prototype,O.D=b.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(x,V,L){for(var D=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)D[Le-2]=arguments[Le];return b.prototype[V].apply(x,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,C){C||(C=0);var x=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)x[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;16>V;++V)x[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=O.g[0],C=O.g[1],V=O.g[2];var L=O.g[3],D=b+(L^C&(V^L))+x[0]+3614090360&4294967295;b=C+(D<<7&4294967295|D>>>25),D=L+(V^b&(C^V))+x[1]+3905402710&4294967295,L=b+(D<<12&4294967295|D>>>20),D=V+(C^L&(b^C))+x[2]+606105819&4294967295,V=L+(D<<17&4294967295|D>>>15),D=C+(b^V&(L^b))+x[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=b+(L^C&(V^L))+x[4]+4118548399&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(V^b&(C^V))+x[5]+1200080426&4294967295,L=b+(D<<12&4294967295|D>>>20),D=V+(C^L&(b^C))+x[6]+2821735955&4294967295,V=L+(D<<17&4294967295|D>>>15),D=C+(b^V&(L^b))+x[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=b+(L^C&(V^L))+x[8]+1770035416&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(V^b&(C^V))+x[9]+2336552879&4294967295,L=b+(D<<12&4294967295|D>>>20),D=V+(C^L&(b^C))+x[10]+4294925233&4294967295,V=L+(D<<17&4294967295|D>>>15),D=C+(b^V&(L^b))+x[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=b+(L^C&(V^L))+x[12]+1804603682&4294967295,b=C+(D<<7&4294967295|D>>>25),D=L+(V^b&(C^V))+x[13]+4254626195&4294967295,L=b+(D<<12&4294967295|D>>>20),D=V+(C^L&(b^C))+x[14]+2792965006&4294967295,V=L+(D<<17&4294967295|D>>>15),D=C+(b^V&(L^b))+x[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=b+(V^L&(C^V))+x[1]+4129170786&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^V&(b^C))+x[6]+3225465664&4294967295,L=b+(D<<9&4294967295|D>>>23),D=V+(b^C&(L^b))+x[11]+643717713&4294967295,V=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(V^L))+x[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=b+(V^L&(C^V))+x[5]+3593408605&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^V&(b^C))+x[10]+38016083&4294967295,L=b+(D<<9&4294967295|D>>>23),D=V+(b^C&(L^b))+x[15]+3634488961&4294967295,V=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(V^L))+x[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=b+(V^L&(C^V))+x[9]+568446438&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^V&(b^C))+x[14]+3275163606&4294967295,L=b+(D<<9&4294967295|D>>>23),D=V+(b^C&(L^b))+x[3]+4107603335&4294967295,V=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(V^L))+x[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=b+(V^L&(C^V))+x[13]+2850285829&4294967295,b=C+(D<<5&4294967295|D>>>27),D=L+(C^V&(b^C))+x[2]+4243563512&4294967295,L=b+(D<<9&4294967295|D>>>23),D=V+(b^C&(L^b))+x[7]+1735328473&4294967295,V=L+(D<<14&4294967295|D>>>18),D=C+(L^b&(V^L))+x[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=b+(C^V^L)+x[5]+4294588738&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^V)+x[8]+2272392833&4294967295,L=b+(D<<11&4294967295|D>>>21),D=V+(L^b^C)+x[11]+1839030562&4294967295,V=L+(D<<16&4294967295|D>>>16),D=C+(V^L^b)+x[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=b+(C^V^L)+x[1]+2763975236&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^V)+x[4]+1272893353&4294967295,L=b+(D<<11&4294967295|D>>>21),D=V+(L^b^C)+x[7]+4139469664&4294967295,V=L+(D<<16&4294967295|D>>>16),D=C+(V^L^b)+x[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=b+(C^V^L)+x[13]+681279174&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^V)+x[0]+3936430074&4294967295,L=b+(D<<11&4294967295|D>>>21),D=V+(L^b^C)+x[3]+3572445317&4294967295,V=L+(D<<16&4294967295|D>>>16),D=C+(V^L^b)+x[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=b+(C^V^L)+x[9]+3654602809&4294967295,b=C+(D<<4&4294967295|D>>>28),D=L+(b^C^V)+x[12]+3873151461&4294967295,L=b+(D<<11&4294967295|D>>>21),D=V+(L^b^C)+x[15]+530742520&4294967295,V=L+(D<<16&4294967295|D>>>16),D=C+(V^L^b)+x[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=b+(V^(C|~L))+x[0]+4096336452&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~V))+x[7]+1126891415&4294967295,L=b+(D<<10&4294967295|D>>>22),D=V+(b^(L|~C))+x[14]+2878612391&4294967295,V=L+(D<<15&4294967295|D>>>17),D=C+(L^(V|~b))+x[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=b+(V^(C|~L))+x[12]+1700485571&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~V))+x[3]+2399980690&4294967295,L=b+(D<<10&4294967295|D>>>22),D=V+(b^(L|~C))+x[10]+4293915773&4294967295,V=L+(D<<15&4294967295|D>>>17),D=C+(L^(V|~b))+x[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=b+(V^(C|~L))+x[8]+1873313359&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~V))+x[15]+4264355552&4294967295,L=b+(D<<10&4294967295|D>>>22),D=V+(b^(L|~C))+x[6]+2734768916&4294967295,V=L+(D<<15&4294967295|D>>>17),D=C+(L^(V|~b))+x[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=b+(V^(C|~L))+x[4]+4149444226&4294967295,b=C+(D<<6&4294967295|D>>>26),D=L+(C^(b|~V))+x[11]+3174756917&4294967295,L=b+(D<<10&4294967295|D>>>22),D=V+(b^(L|~C))+x[2]+718787259&4294967295,V=L+(D<<15&4294967295|D>>>17),D=C+(L^(V|~b))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var C=b-this.blockSize,x=this.B,V=this.h,L=0;L<b;){if(V==0)for(;L<=C;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<b;)if(x[V++]=O.charCodeAt(L++),V==this.blockSize){o(this,x),V=0;break}}else for(;L<b;)if(x[V++]=O[L++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var C=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=C&255,C/=256;for(this.u(O),O=Array(16),b=C=0;4>b;++b)for(var x=0;32>x;x+=8)O[C++]=this.g[b]>>>x&255;return O};function c(O,b){var C=g;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=b(O)}function d(O,b){this.h=b;for(var C=[],x=!0,V=O.length-1;0<=V;V--){var L=O[V]|0;x&&L==b||(C[V]=L,x=!1)}this.g=C}var g={};function y(O){return-128<=O&&128>O?c(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return G(p(-O));for(var b=[],C=1,x=0;O>=C;x++)b[x]=O/C|0,C*=4294967296;return new d(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return G(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(b,8)),x=R,V=0;V<O.length;V+=8){var L=Math.min(8,O.length-V),D=parseInt(O.substring(V,V+L),b);8>L?(L=p(Math.pow(b,L)),x=x.j(L).add(p(D))):(x=x.j(C),x=x.add(p(D)))}return x}var R=y(0),S=y(1),U=y(16777216);r=d.prototype,r.m=function(){if(X(this))return-G(this).m();for(var O=0,b=1,C=0;C<this.g.length;C++){var x=this.i(C);O+=(0<=x?x:4294967296+x)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(q(this))return"0";if(X(this))return"-"+G(this).toString(O);for(var b=p(Math.pow(O,6)),C=this,x="";;){var V=St(C,b).g;C=tt(C,V.j(b));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=V,q(C))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function q(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function X(O){return O.h==-1}r.l=function(O){return O=tt(this,O),X(O)?-1:q(O)?0:1};function G(O){for(var b=O.g.length,C=[],x=0;x<b;x++)C[x]=~O.g[x];return new d(C,~O.h).add(S)}r.abs=function(){return X(this)?G(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],x=0,V=0;V<=b;V++){var L=x+(this.i(V)&65535)+(O.i(V)&65535),D=(L>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);x=D>>>16,L&=65535,D&=65535,C[V]=D<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function tt(O,b){return O.add(G(b))}r.j=function(O){if(q(this)||q(O))return R;if(X(this))return X(O)?G(this).j(G(O)):G(G(this).j(O));if(X(O))return G(this.j(G(O)));if(0>this.l(U)&&0>O.l(U))return p(this.m()*O.m());for(var b=this.g.length+O.g.length,C=[],x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<O.g.length;V++){var L=this.i(x)>>>16,D=this.i(x)&65535,Le=O.i(V)>>>16,se=O.i(V)&65535;C[2*x+2*V]+=D*se,lt(C,2*x+2*V),C[2*x+2*V+1]+=L*se,lt(C,2*x+2*V+1),C[2*x+2*V+1]+=D*Le,lt(C,2*x+2*V+1),C[2*x+2*V+2]+=L*Le,lt(C,2*x+2*V+2)}for(x=0;x<b;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=b;x<2*b;x++)C[x]=0;return new d(C,0)};function lt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function rt(O,b){this.g=O,this.h=b}function St(O,b){if(q(b))throw Error("division by zero");if(q(O))return new rt(R,R);if(X(O))return b=St(G(O),b),new rt(G(b.g),G(b.h));if(X(b))return b=St(O,G(b)),new rt(G(b.g),b.h);if(30<O.g.length){if(X(O)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var C=S,x=b;0>=x.l(O);)C=ft(C),x=ft(x);var V=Ot(C,1),L=Ot(x,1);for(x=Ot(x,2),C=Ot(C,2);!q(x);){var D=L.add(x);0>=D.l(O)&&(V=V.add(C),L=D),x=Ot(x,1),C=Ot(C,1)}return b=tt(O,V.j(b)),new rt(V,b)}for(V=R;0<=O.l(b);){for(C=Math.max(1,Math.floor(O.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=p(C),D=L.j(b);X(D)||0<D.l(O);)C-=x,L=p(C),D=L.j(b);q(L)&&(L=S),V=V.add(L),O=tt(O,D)}return new rt(V,O)}r.A=function(O){return St(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)&O.i(x);return new d(C,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)|O.i(x);return new d(C,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),C=[],x=0;x<b;x++)C[x]=this.i(x)^O.i(x);return new d(C,this.h^O.h)};function ft(O){for(var b=O.g.length+1,C=[],x=0;x<b;x++)C[x]=O.i(x)<<1|O.i(x-1)>>>31;return new d(C,O.h)}function Ot(O,b){var C=b>>5;b%=32;for(var x=O.g.length-C,V=[],L=0;L<x;L++)V[L]=0<b?O.i(L+C)>>>b|O.i(L+C+1)<<32-b:O.i(L+C);return new d(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Ar=d}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lE,Jl,oE,cc,Td,uE,cE,hE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nc=="object"&&nc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,S.apply(null,arguments)}function U(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function q(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,H){for(var it=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)it[Vt-2]=arguments[Vt];return m.prototype[P].apply(A,it)}}function X(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function G(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const P=u.length||0,H=A.length||0;u.length=P+H;for(let it=0;it<H;it++)u[P+it]=A[it]}else u.push(A)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function St(u){return St[" "](u),u}St[" "]=function(){};var ft=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function Ot(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){g.setTimeout(()=>{throw u},0)}function D(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Le{constructor(){this.h=this.g=null}add(m,_){const A=se.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new tt(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,dt=!1,zt=new Le,I=()=>{const u=g.Promise.resolve(void 0);at=()=>{u.then(et)}};var et=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){L(_)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if(nt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{St(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}q(wt,nt);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,_,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=P,this.key=++Zt,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,_,A,P){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var it=Or(u,m,A,P);return-1<it?(m=u[it],_||(m.fa=!1)):(m=new Bn(m,this.src,H,!!A,P),m.fa=_,u.push(m)),m};function xr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,m,void 0),H;(H=0<=P)&&Array.prototype.splice.call(A,P,1),H&&(qi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Or(u,m,_,A){for(var P=0;P<u.length;++P){var H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==A)return P}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),js={};function xo(u,m,_,A,P){if(Array.isArray(m)){for(var H=0;H<m.length;H++)xo(u,m[H],_,A,P);return null}return _=Oo(_),u&&u[De]?u.K(m,_,p(A)?!!A.capture:!1,P):gn(u,m,_,!1,A,P)}function gn(u,m,_,A,P,H){if(!m)throw Error("Invalid event type");var it=p(P)?!!P.capture:!!P,Vt=Da(u);if(Vt||(u[Vr]=Vt=new ui(u)),_=Vt.add(m,_,A,it,H),_.proxy)return _;if(A=Xc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)gt||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Mr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xc(){function u(_){return m.call(u.src,u.listener,_)}const m=$c;return u}function qs(u,m,_,A,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)qs(u,m[H],_,A,P);else A=p(A)?!!A.capture:!!A,_=Oo(_),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=Or(H,_,A,P),-1<_&&(qi(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Da(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Or(m,_,A,P)),(_=-1<u?m[u]:null)&&Ca(_))}function Ca(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])xr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Mr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Da(m))?(xr(_,u),_.h==0&&(_.src=null,m[Vr]=null)):qi(u)}}}function Mr(u){return u in js?js[u]:js[u]="on"+u}function $c(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Ca(u),u=_.call(A,m)}return u}function Da(u){return u=u[Vr],u instanceof ui?u:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(u){return typeof u=="function"?u:(u[Hs]||(u[Hs]=function(m){return u.handleEvent(m)}),u[Hs])}function le(){st.call(this),this.i=new ui(this),this.M=this,this.F=null}q(le,st),le.prototype[De]=!0,le.prototype.removeEventListener=function(u,m,_,A){qs(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new nt(m,u);else if(m instanceof nt)m.target=m.target||u;else{var P=m;m=new nt(A,u),x(m,P)}if(P=!0,_)for(var H=_.length-1;0<=H;H--){var it=m.g=_[H];P=sn(it,A,!0,m)&&P}if(it=m.g=u,P=sn(it,A,!0,m)&&P,P=sn(it,A,!1,m)&&P,_)for(H=0;H<_.length;H++)it=m.g=_[H],P=sn(it,A,!1,m)&&P}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)qi(_[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},le.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function sn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,H=0;H<m.length;++H){var it=m[H];if(it&&!it.da&&it.capture==_){var Vt=it.listener,Ae=it.ha||it.src;it.fa&&xr(u.i,it),P=Vt.call(Ae,A)!==!1&&P}}return P&&!A.defaultPrevented}function Ge(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Vo(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Vo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zc extends st{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){st.call(this),this.h=u,this.g={}}q(Lr,st);var Ur=[];function Pr(u){Ot(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ca(m)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),Pr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Ia=g.JSON.parse,Br=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Gs(){}Gs.prototype.h=null;function Fs(u){return u.h||(u.h=u.i())}function Ys(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){nt.call(this,"d")}q(hi,nt);function Qs(){nt.call(this,"c")}q(Qs,nt);var zn={},Ks=null;function Hi(){return Ks=Ks||new le}zn.La="serverreachability";function Na(u){nt.call(this,zn.La,u)}q(Na,nt);function Gi(u){const m=Hi();Ht(m,new Na(m))}zn.STAT_EVENT="statevent";function Mo(u,m){nt.call(this,zn.STAT_EVENT,u),this.stat=m}q(Mo,nt);function ee(u){const m=Hi();Ht(m,new Mo(m,u))}zn.Ma="timingevent";function Te(u,m){nt.call(this,zn.Ma,u),this.size=m}q(Te,nt);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Xs(u,m,_,A,P,H){u.info(function(){if(u.g)if(H)for(var it="",Vt=H.split("&"),Ae=0;Ae<Vt.length;Ae++){var Mt=Vt[Ae].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Se=Ne.split("_");it=2<=Se.length&&Se[1]=="type"?it+(Ne+"="+Mt+"&"):it+(Ne+"=redacted&")}}else it=null;else it=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+_+`
`+it})}function Jc(u,m,_,A,P,H,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+it})}function Fi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zr(u,_)+(A?" "+A:"")})}function Lo(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function zr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return Nn(_)}catch{return m}}var Yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function jn(){}q(jn,Gs),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},kn=new jn;function Ze(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var $s={},xa={};function xn(u,m,_){u.L=1,u.v=Gr(ln(m)),u.m=_,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),kr(u),u.A=ln(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),nl(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ce,u.g=Zo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Zc(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ur[0]=P.toString()),P=Ur);for(var H=0;H<P.length;H++){var it=xo(_,P[H],A||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Gi(),Xs(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Se=En(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Ho(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ti?Gi(3):Gi(2)),Qi(this);var _=this.g.Z();this.X=_;e:if(Uo(this)){var A=Ho(this.g);u="";var P=A.length,H=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),qn(this);var it="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(H&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Jc(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ae=this.g;if((Vt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Vt)){var Mt=Vt;break e}}Mt=null}if(_=Mt)Fi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jr(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),qn(this);break t}}if(this.P){_=!0;let Pe;for(;!this.J&&this.C<it.length;)if(Pe=Po(this,it),Pe==xa){Se==4&&(this.s=4,ee(14),_=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==$s){this.s=4,ee(15),Fi(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else Fi(this.i,this.l,Pe,null),jr(this,Pe);if(Uo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||it.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Fi(this.i,this.l,it,"[Invalid Chunked Response]"),Ue(this),qn(this);else if(0<it.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),Jr(Ne),Ne.M=!0,ee(11))}}else Fi(this.i,this.l,it,null),jr(this,it);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?Ko(this.j,this):(this.o=!1,kr(this)))}else ih(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),qn(this)}}}catch{}finally{}};function Uo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Po(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?xa:(_=Number(m.substring(_,A)),isNaN(_)?$s:(A+=1,A+_>m.length?xa:(m=m.slice(A,A+_),u.C=A+_,m)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function kr(u){u.S=Date.now()+u.I,Bo(u,u.I)}function Bo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(S(u.ba,u),m)}function Qi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Lo(this.i,this.A),this.L!=2&&(Gi(),ee(17)),Ue(this),this.s=2,qn(this)):Bo(this,this.S-u)};function qn(u){u.j.G==0||u.J||Ko(u.j,u)}function Ue(u){Qi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function jr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Zs(_.h,u))){if(!u.K&&Zs(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ha(_),ja(_);else break t;ll(_),ee(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(S(_.Za,_),6e3));if(1>=Va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&Ha(_),!lt(m))for(P=_.Da.g.parse(m),m=0;m<P.length;m++){let Mt=P[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Se=Mt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Ti=Mt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(A=1.5*Ti,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Pe=u.g;if(Pe){const Xn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var H=A.h;H.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ma(H,H.h),H.h=null))}if(A.D){const ul=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(A.ya=ul,Yt(A.I,A.D,ul))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=u;if(A.qa=$o(A,A.J?A.ia:null,A.W),it.K){Je(A.h,it);var Vt=it,Ae=A.L;Ae&&(Vt.I=Ae),Vt.B&&(Qi(Vt),kr(Vt)),A.g=it}else Yo(A);0<_.i.length&&qa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ei(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ei(_,7):al(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Gi(4)}catch{}}var zo=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Va(u){return u.h?1:u.g?u.g.size:0}function Zs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ma(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=Js(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Js(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return X(u.i)}function Wc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function La(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Ws(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=La(u),A=Wc(u),P=A.length,H=0;H<P;H++)m.call(void 0,A[H],_&&_[H],u)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function th(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var H=u[_].substring(0,A);P=u[_].substring(A+1)}else H=u[_];m(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Hr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,_=new pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),gi(this,_),this.m=u.m}else u&&(m=String(u).match(qr))?(this.h=!1,Hr(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Ki(this,m[4]),this.l=yn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fr(m,tl,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fr(m,tl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Fr(_,_.charAt(0)=="/"?eh:el,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Fr(_,Ua)),u.join("")};function ln(u){return new ge(u)}function Hr(u,m,_){u.j=_?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,_){m instanceof pi?(u.i=m,jo(u.i,u.h)):(_||(m=Fr(m,nh)),u.i=new pi(m,u.h))}function Yt(u,m,_){u.i.set(m,_)}function Gr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,ko),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ko(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var tl=/[#\/\?@]/g,el=/[#\?:]/g,eh=/[#\?]/g,nh=/[#\?@]/g,Ua=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&th(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=pi.prototype,r.add=function(u,m){_n(this),this.i=null,u=Hn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function yi(u,m){_n(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return _n(u),m=Hn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(m,P,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const P=u[A];for(let H=0;H<P.length;H++)_.push(m[A])}return _},r.V=function(u){_n(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Hn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function nl(u,m,_){yi(u,m),0<_.length&&(u.i=null,u.g.set(Hn(u,m),X(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const H=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var P=H;it[A]!==""&&(P+="="+encodeURIComponent(String(it[A]))),u.push(P)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jo(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(yi(this,A),nl(this,P,_))},u)),u.j=m}function Yr(u,m){const _=new pn;if(g.Image){const A=new Image;A.onload=U(vn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=U(vn,_,"TestLoadImage: error",!1,m,A),A.onabort=U(vn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=U(vn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function On(u,m){const _=new pn,A=new AbortController,P=setTimeout(()=>{A.abort(),vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?vn(_,"TestPingServer: ok",!0,m):vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),vn(_,"TestPingServer: error",!1,m)})}function vn(u,m,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Qr(){this.g=new Br}function Gn(u,m,_){const A=_||"";try{Ws(u,function(P,H){let it=P;p(P)&&(it=Nn(P)),m.push(A+H+"="+encodeURIComponent(it))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}q(Xi,Gs),Xi.prototype.g=function(){return new vi(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(vi,le),r=vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Yn(this),this.readyState==3&&il(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},r.Qa=function(u){this.g&&(this.response=u,Fn(this))},r.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function rl(u){let m="";return Ot(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ie(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=rl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Yt(u,m,_))}function jt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(jt,le);var Pa=/^https?$/i,Kr=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Fs(this.o):Fs(kn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){qo(this,H);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Kr,m,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of _)this.g.setRequestHeader(H,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){qo(this,H)}};function qo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ba(u),Qn(u)}function Ba(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},r.bb=function(){za(this)};function za(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=it===0){var P=String(u.D).match(qr)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!Pa.test(P?P.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var H=2<En(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Ba(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Xr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function Xr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ia(m)}};function Ho(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ih(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(lt(u[A]))continue;var _=V(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ka(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$r("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$r("baseRetryDelayMs",5e3,u),this.cb=$r("retryDelaySeedMs",1e4,u),this.Wa=$r("forwardChannelMaxRetries",2,u),this.wa=$r("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ka.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){ee(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=$o(this,null,this.W),qa(this)};function al(u){if(Go(u),u.G==3){var m=u.U++,_=ln(u.I);if(Yt(_,"SID",u.K),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),Zr(u,_),m=new Ze(u,u.j,m),m.L=2,m.v=Gr(ln(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),kr(m)}Xo(u)}function ja(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Go(u){ja(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ha(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function qa(u){if(!Oa(u.h)&&!u.s){u.s=!0;var m=u.Ga;at||I(),dt||(at(),dt=!0),zt.add(m,u),u.B=0}}function rh(u,m){return Va(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(S(u.Ga,u,m),ol(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Ze(this,this.j,u);let H=this.o;if(this.S&&(H?(H=b(H),x(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Fo(this,P,m),_=ln(this.I),Yt(_,"RID",u),Yt(_,"CVER",22),this.D&&Yt(_,"X-HTTP-Session-Id",this.D),Zr(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(rl(H)))+"&"+m:this.m&&Ie(_,this.m,H)),Ma(this.h,P),this.Ua&&Yt(_,"TYPE","init"),this.P?(Yt(_,"$req",m),Yt(_,"SID","null"),P.T=!0,xn(P,_,null)):xn(P,_,m),this.G=2}}else this.G==3&&(u?sl(this,u):this.i.length==0||Oa(this.h)||sl(this))};function sl(u,m){var _;m?_=m.l:_=u.U++;const A=ln(u.I);Yt(A,"SID",u.K),Yt(A,"RID",_),Yt(A,"AID",u.T),Zr(u,A),u.m&&u.o&&Ie(A,u.m,u.o),_=new Ze(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Fo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ma(u.h,_),xn(_,A,m)}function Zr(u,m){u.H&&Ot(u.H,function(_,A){Yt(m,A,_)}),u.l&&Ws({},function(_,A){Yt(m,A,_)})}function Fo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?S(u.l.Na,u.l,u):null;t:{var P=u.i;let H=-1;for(;;){const it=["count="+_];H==-1?0<_?(H=P[0].g,it.push("ofs="+H)):H=0:it.push("ofs="+H);let Vt=!0;for(let Ae=0;Ae<_;Ae++){let Mt=P[Ae].g;const Ne=P[Ae].map;if(Mt-=H,0>Mt)H=Math.max(0,P[Ae].g-100),Vt=!1;else try{Gn(Ne,it,"req"+Mt+"_")}catch{A&&A(Ne)}}if(Vt){A=it.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function Yo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;at||I(),dt||(at(),dt=!0),zt.add(m,u),u.v=0}}function ll(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(S(u.Fa,u),ol(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Qo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),ja(this),Qo(this))};function Jr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Qo(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),Zr(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(ln(m)),_.m=null,_.P=!0,di(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ja(this),ll(this),ee(19))};function Ha(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ko(u,m){var _=null;if(u.g==m){Ha(u),Jr(u),u.g=null;var A=2}else if(Zs(u.h,m))_=m.D,Je(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=Hi(),Ht(A,new Te(A,_)),qa(u)}else Yo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&rh(u,m)||A==2&&ll(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function ol(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),A=u.Xa;const P=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Hr(A,"https"),Gr(A),P?Yr(A.toString(),_):On(A.toString(),_)}else ee(2);u.G=0,u.l&&u.l.sa(m),Xo(u),Go(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Xo(u){if(u.G=0,u.ka=[],u.l){const m=Js(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ka,m),G(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function $o(u,m,_){var A=_ instanceof ge?ln(_):new ge(_);if(A.g!="")m&&(A.g=m+"."+A.g),Ki(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var H=new ge(null);A&&Hr(H,A),m&&(H.g=m),P&&Ki(H,P),_&&(H.l=_),A=H}return _=u.D,m=u.ya,_&&m&&Yt(A,_,m),Yt(A,"VER",u.la),Zr(u,A),A}function Zo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Xi({eb:_})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}r=Jo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ga(){}Ga.prototype.g=function(u,m){return new We(u,m)};function We(u,m){le.call(this),this.g=new ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}q(We,le),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){al(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Nn(u),u=_);m.i.push(new zo(m.Ya++,u)),m.G==3&&qa(m)},We.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,We.aa.N.call(this)};function Wo(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}q(Wo,hi);function tu(){Qs.call(this),this.status=1}q(tu,Qs);function Kn(u){this.g=u}q(Kn,Jo),Kn.prototype.ua=function(){Ht(this.g,"a")},Kn.prototype.ta=function(u){Ht(this.g,new Wo(u))},Kn.prototype.sa=function(u){Ht(this.g,new tu)},Kn.prototype.ra=function(){Ht(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,hE=function(){return new Ga},cE=function(){return Hi()},uE=zn,Td={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,cc=Yi,fi.COMPLETE="complete",oE=fi,Ys.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",le.prototype.listen=le.prototype.K,Jl=Ys,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,lE=jt}).apply(typeof nc<"u"?nc:typeof self<"u"?self:typeof window<"u"?window:{});const D_="@firebase/firestore",I_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new tE("@firebase/firestore");function Es(){return Ea.logLevel}function ut(r,...t){if(Ea.logLevel<=Pt.DEBUG){const i=t.map(Kd);Ea.debug(`Firestore (${Us}): ${r}`,...i)}}function zi(r,...t){if(Ea.logLevel<=Pt.ERROR){const i=t.map(Kd);Ea.error(`Firestore (${Us}): ${r}`,...i)}}function Cs(r,...t){if(Ea.logLevel<=Pt.WARN){const i=t.map(Kd);Ea.warn(`Firestore (${Us}): ${r}`,...i)}}function Kd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,fE(r,s,i)}function fE(r,t,i){let s=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw zi(s),new Error(s)}function qt(r,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||fE(t,o,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ls{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class mR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class gR{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pa,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pa)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new dE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class pR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new pR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _R{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$b(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new N_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function Ad(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=t.charAt(s);if(o!==c)return od(o)===od(c)?Nt(o,c):od(o)?1:-1}return Nt(r.length,t.length)}const ER=55296,TR=57343;function od(r){const t=r.charCodeAt(0);return t>=ER&&t<=TR}function Ds(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__name__";class ei{constructor(t,i,s){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&_t(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ei?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=ei.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const s=ei.isNumericId(t),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(t).compare(ei.extractNumericId(i)):Ad(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ar.fromString(t.substring(4,t.length-2))}}class Wt extends ei{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ei{construct(t,i,s){return new qe(t,i,s)}static isValidIdentifier(t){return AR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x_}static keyField(){return new qe([x_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ot($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ot($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.path=t}static fromPath(t){return new mt(Wt.fromString(t))}static fromName(t){return new mt(Wt.fromString(t).popFirst(5))}static empty(){return new mt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,t,i){if(!i)throw new ot($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function SR(r,t,i,s){if(t===!0&&s===!0)throw new ot($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function O_(r){if(!mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function V_(r){if(mt.isDocumentKey(r))throw new ot($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function gE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function ro(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Uc(r);throw new ot($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,t){const i={typeString:r};return t&&(i.value=t),i}function wo(r,t){if(!gE(r))throw new ot($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const o=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ot($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=-62135596800,L_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*L_);return new te(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<M_)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(wo(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-M_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ee("string",te._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=-1;function bR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new br(o,mt.empty(),t)}function RR(r){return new br(r.readTime,r.key,go)}class br{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new br(Tt.min(),mt.empty(),go)}static max(){return new br(Tt.max(),mt.empty(),go)}}function wR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==CR)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,s)=>{i(t)})}static reject(t){return new W((i,s)=>{s(t)})}static waitFor(t){return new W((i,s)=>{let o=0,c=0,d=!1;t.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(t){let i=W.resolve(!1);for(const s of t)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new W((s,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(t[p]).next(E=>{d[p]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(t,i){return new W((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function IR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Bs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function Bc(r){return r==null}function Ac(r){return r===0&&1/r==-1/0}function NR(r){return typeof r=="number"&&Number.isInteger(r)&&!Ac(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="";function xR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=U_(t)),t=OR(r.get(i),t);return U_(t)}function OR(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case pE:i+="";break;default:i+=c}}return i}function U_(r){return r+pE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Aa(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function yE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ic(this.root,t,this.comparator,!0)}}class ic{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??je.RED,this.left=o??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new je(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(t){return new B_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class B_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Un([])}unionWith(t){let i=new Ce(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Un(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ds(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}}(t);return new He(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const VR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=VR.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function wr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="server_timestamp",EE="__type__",TE="__previous_value__",AE="__local_write_time__";function Zd(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===vE}function zc(r){const t=r.mapValue.fields[TE];return Zd(t)?zc(t):t}function po(r){const t=Rr(r.mapValue.fields[AE].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t,i,s,o,c,d,g,y,p,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Sc="(default)";class yo{constructor(t,i){this.projectId=t,this.database=i||Sc}static empty(){return new yo("","")}get isDefaultDatabase(){return this.database===Sc}isEqual(t){return t instanceof yo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__type__",LR="__max__",rc={mapValue:{}},bE="__vector__",bc="value";function Cr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zd(r)?4:PR(r)?9007199254740991:UR(r)?10:11:_t(28295,{value:r})}function li(r,t){if(r===t)return!0;const i=Cr(r);if(i!==Cr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return po(r).isEqual(po(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Rr(o.timestampValue),g=Rr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return wr(o.bytesValue).isEqual(wr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),g=de(c.doubleValue);return d===g?Ac(d)===Ac(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return Ds(r.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(P_(d)!==P_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!li(d[y],g[y])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function _o(r,t){return(r.values||[]).find(i=>li(i,t))!==void 0}function Is(r,t){if(r===t)return 0;const i=Cr(r),s=Cr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=de(c.integerValue||c.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return z_(r.timestampValue,t.timestampValue);case 4:return z_(po(r),po(t));case 5:return Ad(r.stringValue,t.stringValue);case 6:return function(c,d){const g=wr(c),y=wr(d);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Nt(g[p],y[p]);if(E!==0)return E}return Nt(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=Nt(de(c.latitude),de(d.latitude));return g!==0?g:Nt(de(c.longitude),de(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return k_(r.arrayValue,t.arrayValue);case 10:return function(c,d){const g=c.fields||{},y=d.fields||{},p=g[bc]?.arrayValue,E=y[bc]?.arrayValue,R=Nt(p?.values?.length||0,E?.values?.length||0);return R!==0?R:k_(p,E)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===rc.mapValue&&d===rc.mapValue)return 0;if(c===rc.mapValue)return 1;if(d===rc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let R=0;R<y.length&&R<E.length;++R){const S=Ad(y[R],E[R]);if(S!==0)return S;const U=Is(g[y[R]],p[E[R]]);if(U!==0)return U}return Nt(y.length,E.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function z_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Rr(r),s=Rr(t),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function k_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Is(i[o],s[o]);if(c)return c}return Nt(i.length,s.length)}function Ns(r){return Sd(r)}function Sd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Rr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return wr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Sd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Sd(i.fields[d])}`;return o+"}"}(r.mapValue):_t(61005,{value:r})}function hc(r){switch(Cr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zc(r);return t?16+hc(t):16;case 5:return 2*r.stringValue.length;case 6:return wr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+hc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Aa(s.fields,(c,d)=>{o+=c.length+hc(d)}),o}(r.mapValue);default:throw _t(13486,{value:r})}}function j_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function bd(r){return!!r&&"integerValue"in r}function Jd(r){return!!r&&"arrayValue"in r}function q_(r){return!!r&&"nullValue"in r}function H_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fc(r){return!!r&&"mapValue"in r}function UR(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===bE}function ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Aa(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=ao(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ao(r.arrayValue.values[i]);return t}return{...r}}function PR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ao(i)}setAll(t){let i=qe.emptyPath(),s={},o=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=ao(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Aa(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Dn(ao(this.value))}}function RE(r){const t=[];return Aa(r.fields,(i,s)=>{const o=new qe([i]);if(fc(s)){const c=RE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,s,o,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,Tt.min(),Tt.min(),Tt.min(),Dn.empty(),0)}static newFoundDocument(t,i,s,o){return new Xe(t,1,i,Tt.min(),s,o,0)}static newNoDocument(t,i){return new Xe(t,2,i,Tt.min(),Tt.min(),Dn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,Tt.min(),Tt.min(),Dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i){this.position=t,this.inclusive=i}}function G_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=Is(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function F_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!li(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,i="asc"){this.field=t,this.dir=i}}function BR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{}class ve extends wE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new kR(t,i,s):i==="array-contains"?new HR(t,s):i==="in"?new GR(t,s):i==="not-in"?new FR(t,s):i==="array-contains-any"?new YR(t,s):new ve(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new jR(t,s):new qR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Is(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Is(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends wE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Pn(t,i)}matches(t){return CE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(r){return r.op==="and"}function DE(r){return zR(r)&&CE(r)}function zR(r){for(const t of r.filters)if(t instanceof Pn)return!1;return!0}function Rd(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(DE(r))return r.filters.map(t=>Rd(t)).join(",");{const t=r.filters.map(i=>Rd(i)).join(",");return`${r.op}(${t})`}}function IE(r,t){return r instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)}(r,t):r instanceof Pn?function(s,o){return o instanceof Pn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&IE(d,o.filters[g]),!0):!1}(r,t):void _t(19439)}function NE(r){return r instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`}(r):r instanceof Pn?function(i){return i.op.toString()+" {"+i.getFilters().map(NE).join(" ,")+"}"}(r):"Filter"}class kR extends ve{constructor(t,i,s){super(t,i,s),this.key=mt.fromName(s.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jR extends ve{constructor(t,i){super(t,"in",i),this.keys=xE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class qR extends ve{constructor(t,i){super(t,"not-in",i),this.keys=xE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function xE(r,t){return(t.arrayValue?.values||[]).map(i=>mt.fromName(i.referenceValue))}class HR extends ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Jd(i)&&_o(i.arrayValue,this.value)}}class GR extends ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&_o(this.value.arrayValue,i)}}class FR extends ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!_o(this.value.arrayValue,i)}}class YR extends ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Jd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>_o(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,i=null,s=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Y_(r,t=null,i=[],s=[],o=null,c=null,d=null){return new QR(r,t,i,s,o,c,d)}function Wd(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Rd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Bc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ns(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ns(s)).join(",")),t.Te=i}return t.Te}function tm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!BR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!F_(r.startAt,t.startAt)&&F_(r.endAt,t.endAt)}function wd(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KR(r,t,i,s,o,c,d,g){return new zs(r,t,i,s,o,c,d,g)}function em(r){return new zs(r)}function Q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OE(r){return r.collectionGroup!==null}function so(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new vo(c,s))}),i.has(qe.keyField().canonicalString())||t.Ie.push(new vo(qe.keyField(),s))}return t.Ie}function ni(r){const t=At(r);return t.Ee||(t.Ee=XR(t,so(r))),t.Ee}function XR(r,t){if(r.limitType==="F")return Y_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new vo(o.field,c)});const i=r.endAt?new Rc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rc(r.startAt.position,r.startAt.inclusive):null;return Y_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Cd(r,t){const i=r.filters.concat([t]);return new zs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Dd(r,t,i){return new zs(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function kc(r,t){return tm(ni(r),ni(t))&&r.limitType===t.limitType}function VE(r){return`${Wd(ni(r))}|lt:${r.limitType}`}function Ts(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>NE(o)).join(", ")}]`),Bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ns(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ns(o)).join(",")),`Target(${s})`}(ni(r))}; limitType=${r.limitType})`}function jc(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):mt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of so(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=G_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,so(s),o)||s.endAt&&!function(d,g,y){const p=G_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,so(s),o))}(r,t)}function $R(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ME(r){return(t,i)=>{let s=!1;for(const o of so(r)){const c=ZR(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function ZR(r,t,i){const s=r.field.isKeyField()?mt.comparator(t.key,i.key):function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Is(y,p):_t(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Aa(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new ae(mt.comparator);function ki(){return JR}const LE=new ae(mt.comparator);function Wl(...r){let t=LE;for(const i of r)t=t.insert(i.key,i);return t}function UE(r){let t=LE;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function ga(){return lo()}function PE(){return lo()}function lo(){return new Sa(r=>r.toString(),(r,t)=>r.isEqual(t))}const WR=new ae(mt.comparator),tw=new Ce(mt.comparator);function xt(...r){let t=tw;for(const i of r)t=t.add(i);return t}const ew=new Ce(Nt);function nw(){return ew}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(t)?"-0":t}}function BE(r){return{integerValue:""+r}}function iw(r,t){return NR(t)?BE(t):nm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function rw(r,t,i){return r instanceof wc?function(o,c){const d={fields:{[EE]:{stringValue:vE},[AE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Zd(c)&&(c=zc(c)),c&&(d.fields[TE]=c),{mapValue:d}}(i,t):r instanceof Eo?kE(r,t):r instanceof To?jE(r,t):function(o,c){const d=zE(o,c),g=K_(d)+K_(o.Ae);return bd(d)&&bd(o.Ae)?BE(g):nm(o.serializer,g)}(r,t)}function aw(r,t,i){return r instanceof Eo?kE(r,t):r instanceof To?jE(r,t):i}function zE(r,t){return r instanceof Cc?function(s){return bd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class wc extends qc{}class Eo extends qc{constructor(t){super(),this.elements=t}}function kE(r,t){const i=qE(t);for(const s of r.elements)i.some(o=>li(o,s))||i.push(s);return{arrayValue:{values:i}}}class To extends qc{constructor(t){super(),this.elements=t}}function jE(r,t){let i=qE(t);for(const s of r.elements)i=i.filter(o=>!li(o,s));return{arrayValue:{values:i}}}class Cc extends qc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function K_(r){return de(r.integerValue||r.doubleValue)}function qE(r){return Jd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function sw(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof To&&o instanceof To?Ds(s.elements,o.elements,li):s instanceof Cc&&o instanceof Cc?li(s.Ae,o.Ae):s instanceof wc&&o instanceof wc}(r.transform,t.transform)}class lw{constructor(t,i){this.version=t,this.transformResults=i}}class Ui{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ui}static exists(t){return new Ui(void 0,t)}static updateTime(t){return new Ui(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Hc{}function HE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new FE(r.key,Ui.none()):new Co(r.key,r.data,Ui.none());{const i=r.data,s=Dn.empty();let o=new Ce(qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new ba(r.key,s,new Un(o.toArray()),Ui.none())}}function ow(r,t,i){r instanceof Co?function(o,c,d){const g=o.value.clone(),y=$_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,i):r instanceof ba?function(o,c,d){if(!dc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=$_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(GE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function oo(r,t,i,s){return r instanceof Co?function(c,d,g,y){if(!dc(c.precondition,d))return g;const p=c.value.clone(),E=Z_(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,t,i,s):r instanceof ba?function(c,d,g,y){if(!dc(c.precondition,d))return g;const p=Z_(c.fieldTransforms,y,d),E=d.data;return E.setAll(GE(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,i,s):function(c,d,g){return dc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,i)}function uw(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=zE(s.transform,o||null);c!=null&&(i===null&&(i=Dn.empty()),i.set(s.field,c))}return i||null}function X_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ds(s,o,(c,d)=>sw(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Co extends Hc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ba extends Hc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function GE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function $_(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);s.set(c.field,aw(d,g,i[o]))}return s}function Z_(r,t,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,rw(c,d,t))}return s}class FE extends Hc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cw extends Hc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&ow(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=oo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=oo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=PE();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=HE(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),xt())}isEqual(t){return this.batchId===t.batchId&&Ds(this.mutations,t.mutations,(i,s)=>X_(i,s))&&Ds(this.baseMutations,t.baseMutations,(i,s)=>X_(i,s))}}class im{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return WR}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new im(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function mw(r){switch(r){case $.OK:return _t(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function YE(r){if(r===void 0)return zi("GRPC error has no .code"),$.UNKNOWN;switch(r){case _e.OK:return $.OK;case _e.CANCELLED:return $.CANCELLED;case _e.UNKNOWN:return $.UNKNOWN;case _e.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case _e.INTERNAL:return $.INTERNAL;case _e.UNAVAILABLE:return $.UNAVAILABLE;case _e.UNAUTHENTICATED:return $.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case _e.NOT_FOUND:return $.NOT_FOUND;case _e.ALREADY_EXISTS:return $.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return $.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case _e.ABORTED:return $.ABORTED;case _e.OUT_OF_RANGE:return $.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return $.UNIMPLEMENTED;case _e.DATA_LOSS:return $.DATA_LOSS;default:return _t(39323,{code:r})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Ar([4294967295,4294967295],0);function J_(r){const t=gw().encode(r),i=new sE;return i.update(t),new Uint8Array(i.digest())}function W_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ar([i,s],0),new Ar([o,c],0)]}class rm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new to(`Invalid padding: ${i}`);if(s<0)throw new to(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new to(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ar.fromNumber(this.ge)}ye(t,i,s){let o=t.add(i.multiply(Ar.fromNumber(s)));return o.compare(pw)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=J_(t),[s,o]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new rm(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const i=J_(t),[s,o]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class to extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Do.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Gc(Tt.min(),o,new ae(Nt),ki(),xt())}}class Do{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Do(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,i,s,o){this.be=t,this.removedTargetIds=i,this.key=s,this.De=o}}class QE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class tv{constructor(){this.ve=0,this.Fe=ev(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),i=xt(),s=xt();return this.Fe.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:c})}}),new Do(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=ev()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ki(),this.Je=ac(),this.He=ac(),this.Ye=new ae(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(t){const i=t.targetId,s=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(wd(c))if(s===0){const d=new mt(c.path);this.et(i,d,Xe.newNoDocument(d,Tt.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=wr(s).toUint8Array()}catch(y){if(y instanceof _E)return Cs("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new rm(d,o,c)}catch(y){return Cs(y instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)}),o}Tt(t){const i=new Map;this.ze.forEach((c,d)=>{const g=this.ot(d);if(g){if(c.current&&wd(g.target)){const y=new mt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}});let s=xt();this.He.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(t));const o=new Gc(t,i,this.Ye,this.je,s);return this.je=ki(),this.Je=ac(),this.He=ac(),this.Ye=new ae(Nt),o}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new tv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ce(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ce(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tv),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function ac(){return new ae(mt.comparator)}function ev(){return new ae(mt.comparator)}const _w={asc:"ASCENDING",desc:"DESCENDING"},vw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ew={and:"AND",or:"OR"};class Tw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Id(r,t){return r.useProto3Json||Bc(t)?t:{value:t}}function Dc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function XE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Aw(r,t){return Dc(r,t.toTimestamp())}function ii(r){return qt(!!r,49232),Tt.fromTimestamp(function(i){const s=Rr(i);return new te(s.seconds,s.nanos)}(r))}function am(r,t){return Nd(r,t).canonicalString()}function Nd(r,t){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function $E(r){const t=Wt.fromString(r);return qt(e0(t),10190,{key:t.toString()}),t}function xd(r,t){return am(r.databaseId,t.path)}function ud(r,t){const i=$E(t);if(i.get(1)!==r.databaseId.projectId)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(JE(i))}function ZE(r,t){return am(r.databaseId,t)}function Sw(r){const t=$E(r);return t.length===4?Wt.emptyPath():JE(t)}function Od(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nv(r,t,i){return{name:xd(r,t),fields:i.value.mapValue.fields}}function bw(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(qt(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(p){const E=p.code===void 0?$.UNKNOWN:YE(p.code);return new ot(E,p.message||"")}(d);i=new KE(s,o,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=ud(r,s.document.name),c=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Tt.min(),g=new Dn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new mc(p,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=ud(r,s.document),c=s.readTime?ii(s.readTime):Tt.min(),d=Xe.newNoDocument(o,c),g=s.removedTargetIds||[];i=new mc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=ud(r,s.document),c=s.removedTargetIds||[];i=new mc([],c,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new dw(o,c),g=s.targetId;i=new QE(g,d)}}return i}function Rw(r,t){let i;if(t instanceof Co)i={update:nv(r,t.key,t.value)};else if(t instanceof FE)i={delete:xd(r,t.key)};else if(t instanceof ba)i={update:nv(r,t.key,t.data),updateMask:Mw(t.fieldMask)};else{if(!(t instanceof cw))return _t(16599,{Vt:t.type});i={verify:xd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof To)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Cc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Aw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)}(r,t.precondition)),i}function ww(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?ii(o.updateTime):ii(c);return d.isEqual(Tt.min())&&(d=ii(c)),new lw(d,o.transformResults||[])}(i,t))):[]}function Cw(r,t){return{documents:[ZE(r,t.path)]}}function Dw(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=ZE(r,o);const c=function(p){if(p.length!==0)return t0(Pn.create(p,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(E=>function(S){return{field:As(S.field),direction:xw(S.dir)}}(E))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Id(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ft:i,parent:o}}function Iw(r){let t=Sw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(R){const S=WE(R);return S instanceof Pn&&DE(S)?S.getFilters():[S]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(S=>function(q){return new vo(Ss(q.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(S))}(i.orderBy));let g=null;i.limit&&(g=function(R){let S;return S=typeof R=="object"?R.value:R,Bc(S)?null:S}(i.limit));let y=null;i.startAt&&(y=function(R){const S=!!R.before,U=R.values||[];return new Rc(U,S)}(i.startAt));let p=null;return i.endAt&&(p=function(R){const S=!R.before,U=R.values||[];return new Rc(U,S)}(i.endAt)),KR(t,o,d,c,g,"F",y,p)}function Nw(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ss(i.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ss(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ss(i.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ss(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(i){return ve.create(Ss(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Pn.create(i.compositeFilter.filters.map(s=>WE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(r):_t(30097,{filter:r})}function xw(r){return _w[r]}function Ow(r){return vw[r]}function Vw(r){return Ew[r]}function As(r){return{fieldPath:r.canonicalString()}}function Ss(r){return qe.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof ve?function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:As(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(i.field),op:Ow(i.op),value:i.value}}}(r):r instanceof Pn?function(i){const s=i.getFilters().map(o=>t0(o));return s.length===1?s[0]:{compositeFilter:{op:Vw(i.op),filters:s}}}(r):_t(54877,{filter:r})}function Mw(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,i,s,o,c=Tt.min(),d=Tt.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new _r(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t){this.yt=t}}function Uw(r){const t=Iw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.Cn=new Bw}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(br.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(br.min())}updateCollectionGroup(t,i,s){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class Bw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Ce(Wt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n0=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(n0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new xs(0)}static cr(){return new xs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="LruGarbageCollector",zw=1048576;function av([r,t],[i,s]){const o=Nt(r,i);return o===0?Nt(t,s):o}class kw{constructor(t){this.Ir=t,this.buffer=new Ce(av),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();av(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jw{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(rv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Bs(i)?ut(rv,"Ignoring IndexedDB error during garbage collection: ",i):await Ps(i)}await this.Vr(3e5)})}}class qw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Pc.ce);const s=new kw(i);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(iv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(s=R,g=Date.now(),this.removeTargets(t,s,i))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(p=Date.now(),Es()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}function Hw(r,t){return new qw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.changes=new Sa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&oo(s.mutation,o,Un.empty(),te.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=xt()){const o=ga();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let d=Wl();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=ga();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,xt()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,o){let c=ki();const d=lo(),g=function(){return lo()}();return i.forEach((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof ba)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),oo(E.mutation,p,E.mutation.getFieldMask(),te.now())):d.set(p.key,Un.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((p,E)=>d.set(p,E)),i.forEach((p,E)=>g.set(p,new Fw(E,d.get(p)??null))),g))}recalculateAndSaveOverlays(t,i){const s=lo();let o=new ae((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||Un.empty();E=g.applyToLocalView(p,E),s.set(y,E);const R=(o.get(g.batchId)||xt()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,R=PE();E.forEach(S=>{if(!c.has(S)){const U=HE(i.get(S),s.get(S));U!==null&&R.set(S,U),c=c.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(t,p,R))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):OE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):W.resolve(ga());let g=go,y=c;return d.next(p=>W.forEach(p,(E,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{y=y.insert(E,S)}))).next(()=>this.populateOverlays(t,p,c)).next(()=>this.computeViews(t,y,p,xt())).next(E=>({batchId:g,changes:UE(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(t,c).next(g=>W.forEach(g,y=>{const p=function(R,S){return new zs(S,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,s,o).next(E=>{E.forEach((R,S)=>{d=d.insert(R,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(d=>{c.forEach((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))});let g=Wl();return d.forEach((y,p)=>{const E=c.get(y);E!==void 0&&oo(E.mutation,p,Un.empty(),te.now()),jc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(o){return{name:o.name,query:Uw(o.bundledQuery),readTime:ii(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.overlays=new ae(mt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const s=ga();return W.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.St(t,i,c)}),W.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(t,i,s){const o=ga(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ae((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=ga(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=ga(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return W.resolve(g)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new fw(i,s));let c=this.qr.get(i);c===void 0&&(c=xt(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Qr=new Ce(Me.$r),this.Ur=new Ce(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Gr(new Me(t,i))}zr(t,i){t.forEach(s=>this.removeReference(s,i))}jr(t){const i=new mt(new Wt([])),s=new Me(i,t),o=new Me(i,t+1),c=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new Wt([])),s=new Me(i,t),o=new Me(i,t+1);let c=xt();return this.Ur.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new Me(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Me.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hw(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?$d:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Ce(Nt);return i.forEach(o=>{const c=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],g=>{s=s.add(g.Yr)})}),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;mt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new mt(c),0);let g=new Ce(Nt);return this.Zr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)},d),W.resolve(this.ti(g))}ti(t){const i=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,i){const s=new Me(i,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this.ri=t,this.docs=function(){return new ae(mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let s=ki();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xe.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=ki();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||wR(RR(E),s)<=0||(o.has(E.key)||jc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,s,o){_t(9500)}ii(t,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Jw(this)}getSize(t){return W.resolve(this.size)}}class Jw extends Gw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t){this.persistence=t,this.si=new Sa(i=>Wd(i),tm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new sm,this.targetCount=0,this.ai=xs.ur()}forEachTarget(t,i){return this.si.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new xs(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return W.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),W.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return W.resolve(s)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,i){this.ui={},this.overlays={},this.ci=new Pc(0),this.li=!1,this.li=!0,this.hi=new Xw,this.referenceDelegate=t(this),this.Pi=new Ww(this),this.indexManager=new Pw,this.remoteDocumentCache=function(o){return new Zw(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Lw(i),this.Ii=new Qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Kw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new $w(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){ut("MemoryPersistence","Starting transaction:",t);const o=new t2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(t,i){return W.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,i)))}}class t2 extends DR{constructor(t){super(),this.currentSequenceNumber=t}}class lm{constructor(t){this.persistence=t,this.Ri=new sm,this.Vi=null}static mi(t){return new lm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),W.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,s=>{const o=mt.fromPath(s);return this.gi(t,o).next(c=>{c||i.removeEntry(o,Tt.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Ic{constructor(t,i){this.persistence=t,this.pi=new Sa(s=>xR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Hw(this,i)}static mi(t,i){return new Ic(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}wr(t){let i=0;return this.pr(t,s=>{i++}).next(()=>i)}pr(t,i){return W.forEach(this.pi,(s,o)=>this.br(t,s,o).next(c=>c?W.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,d=>this.br(t,d,i).next(g=>{g||(s++,c.removeEntry(d,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=hc(t.data.value)),i}br(t,i,s){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=o}static As(t,i){let s=xt(),o=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new om(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QS()?8:IR(FS())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.ys(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(t,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new e2;return this.Ss(t,i,d).next(g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)})}).next(()=>c.result)}bs(t,i,s,o){return s.documentReadCount<this.fs?(Es()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ts(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Es()<=Pt.DEBUG&&ut("QueryEngine","Query:",Ts(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Es()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ts(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ni(i))):W.resolve())}ys(t,i){if(Q_(i))return W.resolve(null);let s=ni(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Dd(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(t,Dd(i,null,"F")):this.vs(t,p,i,y)}))})))}ws(t,i,s,o){return Q_(i)||o.isEqual(Tt.min())?W.resolve(null):this.ps.getDocuments(t,s).next(c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?W.resolve(null):(Es()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ts(i)),this.vs(t,d,i,bR(o,go)).next(g=>g))})}Ds(t,i){let s=new Ce(ME(t));return i.forEach((o,c)=>{jc(t,c)&&(s=s.add(c))}),s}Cs(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,s){return Es()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ts(i)),this.ps.getDocumentsMatchingQuery(t,i,br.min(),s)}vs(t,i,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="LocalStore",i2=3e8;class r2{constructor(t,i,s,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ae(Nt),this.xs=new Sa(c=>Wd(c),tm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Yw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function a2(r,t,i,s){return new r2(r,t,i,s)}async function r0(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=xt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Ls:p,removedBatchIds:d,addedBatchIds:g}))})})}function s2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,p,E){const R=p.batch,S=R.keys();let U=W.resolve();return S.forEach(q=>{U=U.next(()=>E.getEntry(y,q)).next(X=>{const G=p.docVersions.get(q);qt(G!==null,48541),X.version.compareTo(G)<0&&(R.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),E.addEntry(X)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(y,R))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=xt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function a0(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function l2(r,t){const i=At(r),s=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach((E,R)=>{const S=o.get(R);if(!S)return;g.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,R).next(()=>i.Pi.addMatchingKeys(c,E.addedDocuments,R)));let U=S.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?U=U.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(R,U),function(X,G,tt){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=i2?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0}(S,U,E)&&g.push(i.Pi.updateTargetData(c,U))});let y=ki(),p=xt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(o2(c,d,t.documentUpdates).next(E=>{y=E.ks,p=E.qs})),!s.isEqual(Tt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next(R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return W.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Ms=o,c))}function o2(r,t,i){let s=xt(),o=xt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=ki();return i.forEach((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ut(um,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{ks:d,qs:o}})}function u2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=$d),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function c2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,t).next(c=>c?(o=c,W.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new _r(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s})}async function Vd(r,t,i){const s=At(r),o=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Bs(d))throw d;ut(um,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function sv(r,t,i){const s=At(r);let o=Tt.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,E){const R=At(y),S=R.xs.get(E);return S!==void 0?W.resolve(R.Ms.get(S)):R.Pi.getTargetData(p,E)}(s,d,ni(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?c:xt())).next(g=>(h2(s,$R(t),g),{documents:g,Qs:c})))}function h2(r,t,i){let s=r.Os.get(t)||Tt.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(t,s)}class lv{constructor(){this.activeTargetIds=nw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class f2{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(ov,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Md(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="RestConnection",m2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Sc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,i,s,o,c){const d=Md(),g=this.zo(t,i.toUriEncodedString());ut(cd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(g),E=Yd(p);return this.Jo(t,g,y,s,E).then(R=>(ut(cd,`Received RPC '${t}' ${d}: `,R),R),R=>{throw Cs(cd,`RPC '${t}' ${d} failed with error: `,R,"url: ",g,"request:",s),R})}Ho(t,i,s,o,c,d){return this.Go(t,i,s,o,c)}jo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}zo(t,i){const s=m2[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class y2 extends g2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,o,c){const d=Md();return new Promise((g,y)=>{const p=new lE;p.setWithCredentials(!0),p.listenOnce(oE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cc.NO_ERROR:const R=p.getResponseJson();ut(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),g(R);break;case cc.TIMEOUT:ut(Qe,`RPC '${t}' ${d} timed out`),y(new ot($.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const S=p.getStatus();if(ut(Qe,`RPC '${t}' ${d} failed with status:`,S,"response text:",p.getResponseText()),S>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const q=U?.error;if(q&&q.status&&q.message){const X=function(tt){const lt=tt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(lt)>=0?lt:$.UNKNOWN}(q.status);y(new ot(X,q.message))}else y(new ot($.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ot($.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ut(Qe,`RPC '${t}' ${d} completed.`)}});const E=JSON.stringify(o);ut(Qe,`RPC '${t}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)})}T_(t,i,s){const o=Md(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=hE(),g=cE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ut(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,y);const R=d.createWebChannel(E,y);this.I_(R);let S=!1,U=!1;const q=new p2({Yo:G=>{U?ut(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(S||(ut(Qe,`Opening RPC '${t}' stream ${o} transport.`),R.open(),S=!0),ut(Qe,`RPC '${t}' stream ${o} sending:`,G),R.send(G))},Zo:()=>R.close()}),X=(G,tt,lt)=>{G.listen(tt,rt=>{try{lt(rt)}catch(St){setTimeout(()=>{throw St},0)}})};return X(R,Jl.EventType.OPEN,()=>{U||(ut(Qe,`RPC '${t}' stream ${o} transport opened.`),q.o_())}),X(R,Jl.EventType.CLOSE,()=>{U||(U=!0,ut(Qe,`RPC '${t}' stream ${o} transport closed`),q.a_(),this.E_(R))}),X(R,Jl.EventType.ERROR,G=>{U||(U=!0,Cs(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),q.a_(new ot($.UNAVAILABLE,"The operation could not be completed")))}),X(R,Jl.EventType.MESSAGE,G=>{if(!U){const tt=G.data[0];qt(!!tt,16349);const lt=tt,rt=lt?.error||lt[0]?.error;if(rt){ut(Qe,`RPC '${t}' stream ${o} received error:`,rt);const St=rt.status;let ft=function(b){const C=_e[b];if(C!==void 0)return YE(C)}(St),Ot=rt.message;ft===void 0&&(ft=$.INTERNAL,Ot="Unknown error status: "+St+" with message "+rt.message),U=!0,q.a_(new ot(ft,Ot)),R.close()}else ut(Qe,`RPC '${t}' stream ${o} received:`,tt),q.u_(tt)}}),X(g,uE.STAT_EVENT,G=>{G.stat===Td.PROXY?ut(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):G.stat===Td.NOPROXY&&ut(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.__()},0),q}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function hd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r){return new Tw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="PersistentStream";class l0{constructor(t,i,s,o,c,d,g,y){this.Mi=t,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{t(()=>{const o=new ot($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ut(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(ut(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _2 extends l0{constructor(t,i,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=bw(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ii(d.readTime):Tt.min()}(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=Od(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=wd(y)?{documents:Cw(c,y)}:{query:Dw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=XE(c,d.resumeToken);const p=Id(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Dc(c,d.snapshotVersion.toTimestamp());const p=Id(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const s=Nw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=Od(this.serializer),i.removeTarget=t,this.q_(i)}}class v2 extends l0{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=ww(t.writeResults,t.commitTime),s=ii(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=Od(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>Rw(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{}class T2 extends E2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(t,Nd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot($.UNKNOWN,c.toString())})}Ho(t,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,Nd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot($.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class A2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="RemoteStore";class S2{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Ra(this)&&(ut(Ta,"Restarting streams for network reachability change."),await async function(y){const p=At(y);p.Ea.add(4),await Io(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yc(p)}(this))})}),this.Ra=new A2(s,o)}}async function Yc(r){if(Ra(r))for(const t of r.da)await t(!0)}async function Io(r){for(const t of r.da)await t(!1)}function o0(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),dm(i)?fm(i):ks(i).O_()&&hm(i,t))}function cm(r,t){const i=At(r),s=ks(i);i.Ia.delete(t),s.O_()&&u0(i,t),i.Ia.size===0&&(s.O_()?s.L_():Ra(i)&&i.Ra.set("Unknown"))}function hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ks(r).Y_(t)}function u0(r,t){r.Va.Ue(t),ks(r).Z_(t)}function fm(r){r.Va=new yw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ks(r).start(),r.Ra.ua()}function dm(r){return Ra(r)&&!ks(r).x_()&&r.Ia.size>0}function Ra(r){return At(r).Ea.size===0}function c0(r){r.Va=void 0}async function b2(r){r.Ra.set("Online")}async function R2(r){r.Ia.forEach((t,i)=>{hm(r,t)})}async function w2(r,t){c0(r),dm(r)?(r.Ra.ha(t),fm(r)):r.Ra.set("Unknown")}async function C2(r,t,i){if(r.Ra.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(r,t)}catch(s){ut(Ta,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Nc(r,s)}else if(t instanceof mc?r.Va.Ze(t):t instanceof QE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Tt.min()))try{const s=await a0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),u0(c,y);const R=new _r(E.target,y,p,E.sequenceNumber);hm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){ut(Ta,"Failed to raise snapshot:",s),await Nc(r,s)}}async function Nc(r,t,i){if(!Bs(t))throw t;r.Ea.add(1),await Io(r),r.Ra.set("Offline"),i||(i=()=>a0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(Ta,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Yc(r)})}function h0(r,t){return t().catch(i=>Nc(r,i,t))}async function Qc(r){const t=At(r),i=Dr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$d;for(;D2(t);)try{const o=await u2(t.localStore,s);if(o===null){t.Ta.length===0&&i.L_();break}s=o.batchId,I2(t,o)}catch(o){await Nc(t,o)}f0(t)&&d0(t)}function D2(r){return Ra(r)&&r.Ta.length<10}function I2(r,t){r.Ta.push(t);const i=Dr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function f0(r){return Ra(r)&&!Dr(r).x_()&&r.Ta.length>0}function d0(r){Dr(r).start()}async function N2(r){Dr(r).ra()}async function x2(r){const t=Dr(r);for(const i of r.Ta)t.ea(i.mutations)}async function O2(r,t,i){const s=r.Ta.shift(),o=im.from(s,t,i);await h0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qc(r)}async function V2(r,t){t&&Dr(r).X_&&await async function(s,o){if(function(d){return mw(d)&&d!==$.ABORTED}(o.code)){const c=s.Ta.shift();Dr(s).B_(),await h0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Qc(s)}}(r,t),f0(r)&&d0(r)}async function hv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ut(Ta,"RemoteStore received new credentials");const s=Ra(i);i.Ea.add(3),await Io(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Yc(i)}async function M2(r,t){const i=At(r);t?(i.Ea.delete(2),await Yc(i)):t||(i.Ea.add(2),await Io(i),i.Ra.set("Unknown"))}function ks(r){return r.ma||(r.ma=function(i,s,o){const c=At(i);return c.sa(),new _2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:b2.bind(null,r),t_:R2.bind(null,r),r_:w2.bind(null,r),H_:C2.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),dm(r)?fm(r):r.Ra.set("Unknown")):(await r.ma.stop(),c0(r))})),r.ma}function Dr(r){return r.fa||(r.fa=function(i,s,o){const c=At(i);return c.sa(),new v2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:N2.bind(null,r),r_:V2.bind(null,r),ta:x2.bind(null,r),na:O2.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Qc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,g=new mm(t,i,d,o,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(r,t){if(zi("AsyncQueue",`${t}: ${r}`),Bs(r))return new ot($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{static emptySet(t){return new Rs(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=Wl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Rs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.ga=new ae(mt.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,s)=>{t.push(s)}),t}}class Os{constructor(t,i,s,o,c,d,g,y,p){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Os(t,i,Rs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class U2{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=dv(),c.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new ot($.ABORTED,"Firestore shutting down"))}}function dv(){return new Sa(r=>VE(r),kc)}async function P2(r,t){const i=At(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(s=2):(c=new L2,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=gm(d,`Initialization of query '${Ts(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&pm(i)}async function B2(r,t){const i=At(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function z2(r,t){const i=At(r);let s=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&pm(i)}function k2(r,t,i){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(t)}function pm(r){r.Ca.forEach(t=>{t.next()})}var Ld,mv;(mv=Ld||(Ld={})).Ma="default",mv.Cache="cache";class j2{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Os(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Os.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ld.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t){this.key=t}}class g0{constructor(t){this.key=t}}class q2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=ME(t),this.tu=new Rs(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new fv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,R)=>{const S=o.get(E),U=jc(this.query,R)?R:null,q=!!S&&this.mutatedKeys.has(S.key),X=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let G=!1;S&&U?S.data.isEqual(U.data)?q!==X&&(s.track({type:3,doc:U}),G=!0):this.su(S,U)||(s.track({type:2,doc:U}),G=!0,(y&&this.eu(U,y)>0||p&&this.eu(U,p)<0)&&(g=!0)):!S&&U?(s.track({type:0,doc:U}),G=!0):S&&!U&&(s.track({type:1,doc:S}),G=!0,(y||p)&&(g=!0)),G&&(U?(d=d.add(U),c=X?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((E,R)=>function(U,q){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:G})}};return X(U)-X(q)}(E.type,R.type)||this.eu(E.doc,R.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Os(this.query,t.tu,c,d,t.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return t.forEach(s=>{this.Xa.has(s)||i.push(new g0(s))}),this.Xa.forEach(s=>{t.has(s)||i.push(new m0(s))}),i}cu(t){this.Ya=t.Qs,this.Xa=xt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Os.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ym="SyncEngine";class H2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class G2{constructor(t){this.key=t,this.hu=!1}}class F2{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Sa(g=>VE(g),kc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(mt.comparator),this.Au=new Map,this.Ru=new sm,this.Vu={},this.mu=new Map,this.fu=xs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Y2(r,t,i=!0){const s=T0(r);let o;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await p0(s,t,i,!0),o}async function Q2(r,t){const i=T0(r);await p0(i,t,!0,!1)}async function p0(r,t,i,s){const o=await c2(r.localStore,ni(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await K2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&o0(r.remoteStore,o),g}async function K2(r,t,i,s,o){r.pu=(R,S,U)=>async function(X,G,tt,lt){let rt=G.view.ru(tt);rt.Cs&&(rt=await sv(X.localStore,G.query,!1).then(({documents:O})=>G.view.ru(O,rt)));const St=lt&&lt.targetChanges.get(G.targetId),ft=lt&&lt.targetMismatches.get(G.targetId)!=null,Ot=G.view.applyChanges(rt,X.isPrimaryClient,St,ft);return pv(X,G.targetId,Ot.au),Ot.snapshot}(r,R,S,U);const c=await sv(r.localStore,t,!0),d=new q2(t,c.Qs),g=d.ru(c.documents),y=Do.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);pv(r,i,p.au);const E=new H2(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),p.snapshot}async function X2(r,t,i){const s=At(r),o=s.Tu.get(t),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(d=>!kc(d,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&cm(s.remoteStore,o.targetId),Ud(s,o.targetId)}).catch(Ps)):(Ud(s,o.targetId),await Vd(s.localStore,o.targetId,!0))}async function $2(r,t){const i=At(r),s=i.Tu.get(t),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),cm(i.remoteStore,s.targetId))}async function Z2(r,t,i){const s=rC(r);try{const o=await function(d,g){const y=At(d),p=te.now(),E=g.reduce((U,q)=>U.add(q.key),xt());let R,S;return y.persistence.runTransaction("Locally write mutations","readwrite",U=>{let q=ki(),X=xt();return y.Ns.getEntries(U,E).next(G=>{q=G,q.forEach((tt,lt)=>{lt.isValidDocument()||(X=X.add(tt))})}).next(()=>y.localDocuments.getOverlayedDocuments(U,q)).next(G=>{R=G;const tt=[];for(const lt of g){const rt=uw(lt,R.get(lt.key).overlayedDocument);rt!=null&&tt.push(new ba(lt.key,rt,RE(rt.value.mapValue),Ui.exists(!0)))}return y.mutationQueue.addMutationBatch(U,p,tt,g)}).next(G=>{S=G;const tt=G.applyToLocalDocumentSet(R,X);return y.documentOverlayCache.saveOverlays(U,G.batchId,tt)})}).then(()=>({batchId:S.batchId,changes:UE(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ae(Nt)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p}(s,o.batchId,i),await No(s,o.changes),await Qc(s.remoteStore)}catch(o){const c=gm(o,"Failed to persist write");i.reject(c)}}async function y0(r,t){const i=At(r);try{const s=await l2(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Au.get(c);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qt(d.hu,14607):o.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))}),await No(i,s,t)}catch(s){await Ps(s)}}function gv(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let p=!1;y.queries.forEach((E,R)=>{for(const S of R.Sa)S.va(g)&&(p=!0)}),p&&pm(y)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function J2(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Au.get(t),c=o&&o.key;if(c){let d=new ae(mt.comparator);d=d.insert(c,Xe.newNoDocument(c,Tt.min()));const g=xt().add(c),y=new Gc(Tt.min(),new Map,new ae(Nt),d,g);await y0(s,y),s.du=s.du.remove(c),s.Au.delete(t),_m(s)}else await Vd(s.localStore,t,!1).then(()=>Ud(s,t,i)).catch(Ps)}async function W2(r,t){const i=At(r),s=t.batch.batchId;try{const o=await s2(i.localStore,t);v0(i,s,null),_0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await No(i,o)}catch(o){await Ps(o)}}async function tC(r,t,i){const s=At(r);try{const o=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next(R=>(qt(R!==null,37113),E=R.keys(),y.mutationQueue.removeMutationBatch(p,R))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(s.localStore,t);v0(s,t,i),_0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await No(s,o)}catch(o){await Ps(o)}}function _0(r,t){(r.mu.get(t)||[]).forEach(i=>{i.resolve()}),r.mu.delete(t)}function v0(r,t,i){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ud(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||E0(r,s)})}function E0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(cm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),_m(r))}function pv(r,t,i){for(const s of i)s instanceof m0?(r.Ru.addReference(s.key,t),eC(r,s)):s instanceof g0?(ut(ym,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||E0(r,s.key)):_t(19791,{wu:s})}function eC(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(ym,"New document in limbo: "+i),r.Eu.add(s),_m(r))}function _m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new G2(i)),r.du=r.du.insert(i,s),o0(r.remoteStore,new _r(ni(em(i.path)),s,"TargetPurposeLimboResolution",Pc.ce))}}async function No(r,t,i){const s=At(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,y)=>{d.push(s.pu(y,t,i).then(p=>{if((p||i)&&s.isPrimaryClient){const E=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(p){o.push(p);const E=om.As(y.targetId,p);c.push(E)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(y,p){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(p,S=>W.forEach(S.Es,U=>E.persistence.referenceDelegate.addReference(R,S.targetId,U)).next(()=>W.forEach(S.ds,U=>E.persistence.referenceDelegate.removeReference(R,S.targetId,U)))))}catch(R){if(!Bs(R))throw R;ut(um,"Failed to update sequence numbers: "+R)}for(const R of p){const S=R.targetId;if(!R.fromCache){const U=E.Ms.get(S),q=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(S,X)}}}(s.localStore,c))}async function nC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){ut(ym,"User change. New user:",t.toKey());const s=await r0(i.localStore,t);i.currentUser=t,function(c,d){c.mu.forEach(g=>{g.forEach(y=>{y.reject(new ot($.CANCELLED,d))})}),c.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await No(i,s.Ls)}}function iC(r,t){const i=At(r),s=i.Au.get(t);if(s&&s.hu)return xt().add(s.key);{let o=xt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function T0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=y0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=J2.bind(null,t),t.Pu.H_=z2.bind(null,t.eventManager),t.Pu.yu=k2.bind(null,t.eventManager),t}function rC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Fc(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return a2(this.persistence,new n2,t.initialUser,this.serializer)}Cu(t){return new i0(lm.mi,this.serializer)}Du(t){return new f2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class aC extends xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Ic,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jw(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new i0(s=>Ic.mi(s,i),this.serializer)}}class Pd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>gv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),await M2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new U2}()}createDatastore(t){const i=Fc(t.databaseInfo.databaseId),s=function(c){return new y2(c)}(t.databaseInfo);return function(c,d,g,y){return new T2(c,d,g,y)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,d,g){return new S2(s,o,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>gv(this.syncEngine,i,0),function(){return uv.v()?new uv:new d2}())}createSyncEngine(t,i){return function(o,c,d,g,y,p,E){const R=new F2(o,c,d,g,y,p);return E&&(R.gu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=At(i);ut(Ta,"RemoteStore shutting down."),s.Ea.add(5),await Io(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pd.provider={build:()=>new Pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class lC{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ut(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=gm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function fd(r,t){r.asyncQueue.verifyOperationInProgress(),ut(Ir,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await r0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await oC(r);ut(Ir,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>hv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>hv(t.remoteStore,o)),r._onlineComponents=t}async function oC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Ir,"Using user provided OfflineComponentProvider");try{await fd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Cs("Error using user provided cache. Falling back to memory cache: "+i),await fd(r,new xc)}}else ut(Ir,"Using default OfflineComponentProvider"),await fd(r,new aC(void 0));return r._offlineComponents}async function A0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Ir,"Using user provided OnlineComponentProvider"),await yv(r,r._uninitializedComponentsProvider._online)):(ut(Ir,"Using default OnlineComponentProvider"),await yv(r,new Pd))),r._onlineComponents}function uC(r){return A0(r).then(t=>t.syncEngine)}async function _v(r){const t=await A0(r),i=t.eventManager;return i.onListen=Y2.bind(null,t.syncEngine),i.onUnlisten=X2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Q2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=$2.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firestore.googleapis.com",Ev=!0;class Tv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b0,this.ssl=Ev}else this.host=t.host,this.ssl=t.ssl??Ev;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=n0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<zw)throw new ot($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}SR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S0(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Kc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dR;switch(s.type){case"firstParty":return new yR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=vv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),vv.delete(i),s.terminate())}(this),Promise.resolve()}}function cC(r,t,i,s={}){r=ro(r,Kc);const o=Yd(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(kS(`https://${g}`),GS("Firestore",!0)),c.host!==b0&&c.host!==g&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:s};if(!vc(y,d)&&(r._setSettings(y),s.mockUserToken)){let p,E;if(typeof s.mockUserToken=="string")p=s.mockUserToken,E=Ke.MOCK_USER;else{p=jS(s.mockUserToken,r._app?.options.projectId);const R=s.mockUserToken.sub||s.mockUserToken.user_id;if(!R)throw new ot($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(R)}r._authCredentials=new mR(new dE(p,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new wa(this.firestore,t,this._query)}}class we{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(wo(i,we._jsonSchema))return new we(t,s||null,new mt(Wt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Ee("string",we._jsonSchemaVersion),referencePath:Ee("string")};class Sr extends wa{constructor(t,i,s){super(t,i,em(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new mt(t))}withConverter(t){return new Sr(this.firestore,t,this._path)}}function R0(r,t,...i){if(r=va(r),mE("collection","path",t),r instanceof Kc){const s=Wt.fromString(t,...i);return V_(s),new Sr(r,null,s)}{if(!(r instanceof we||r instanceof Sr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return V_(s),new Sr(r.firestore,null,s)}}function hC(r,t,...i){if(r=va(r),arguments.length===1&&(t=Xd.newId()),mE("doc","path",t),r instanceof Kc){const s=Wt.fromString(t,...i);return O_(s),new we(r,null,new mt(s))}{if(!(r instanceof we||r instanceof Sr))throw new ot($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return O_(s),new we(r.firestore,r instanceof Sr?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="AsyncQueue";class Sv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s0(this,"async_queue_retry"),this._c=()=>{const s=hd();s&&ut(Av,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new pa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Bs(t))throw t;ut(Av,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",bv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=mm.createAndSchedule(this,t,i,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function bv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Oc extends Kc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new Sv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Sv(t),this._firestoreClient=void 0,await t}}}function fC(r,t){const i=typeof r=="object"?r:tR(),s=typeof r=="string"?r:Sc,o=Xb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=BS("firestore");c&&cC(o,...c)}return o}function w0(r){if(r._terminated)throw new ot($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dC(r),r._firestoreClient}function dC(r){const t=r._freezeSettings(),i=function(o,c,d,g){return new MR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,S0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new lC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this._byteString=t}static fromBase64String(t){try{return new In(He.fromBase64String(t))}catch(i){throw new ot($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new In(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(wo(t,In._jsonSchema))return In.fromBase64String(t.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:Ee("string",In._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(t){if(wo(t,ri._jsonSchema))return new ri(t.latitude,t.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Ee("string",ri._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(wo(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new ai(t.vectorValues);throw new ot($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Ee("string",ai._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^__.*__$/;class gC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new ba(t,this.data,this.fieldMask,i,this.fieldTransforms):new Co(t,this.data,i,this.fieldTransforms)}}function D0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Em{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Em({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Vc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(D0(this.Ac)&&mC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class pC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Fc(t)}Cc(t,i,s,o=!1){return new Em({Ac:t,methodName:i,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I0(r){const t=r._freezeSettings(),i=Fc(r._databaseId);return new pC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function yC(r,t,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);O0("Data must be an object, but it was:",d,s);const g=N0(s,d);let y,p;if(c.merge)y=new Un(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const R of c.mergeFields){const S=vC(t,R,i);if(!d.contains(S))throw new ot($.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);TC(E,S)||E.push(S)}y=new Un(E),p=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,p=d.fieldTransforms;return new gC(new Dn(g),y,p)}function _C(r,t,i,s=!1){return Tm(i,r.Cc(s?4:3,t))}function Tm(r,t){if(x0(r=va(r)))return O0("Unsupported field value:",t,r),N0(r,t);if(r instanceof C0)return function(s,o){if(!D0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=Tm(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=va(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Dc(o.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dc(o.serializer,c)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:XE(o.serializer,s._byteString)};if(s instanceof we){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:am(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return function(d,g){return{mapValue:{fields:{[SE]:{stringValue:bE},[bc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return nm(g.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Uc(s)}`)}(r,t)}function N0(r,t){const i={};return yE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Aa(r,(s,o)=>{const c=Tm(o,t.mc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function x0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof ri||r instanceof In||r instanceof we||r instanceof C0||r instanceof ai)}function O0(r,t,i){if(!x0(i)||!gE(i)){const s=Uc(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function vC(r,t,i){if((t=va(t))instanceof vm)return t._internalPath;if(typeof t=="string")return V0(r,t);throw Vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const EC=new RegExp("[~\\*/\\[\\]]");function V0(r,t,i){if(t.search(EC)>=0)throw Vc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vm(...t.split("."))._internalPath}catch{throw Vc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Vc(r,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ot($.INVALID_ARGUMENT,g+r+y)}function TC(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Am("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class AC extends M0{data(){return super.data()}}function Am(r,t){return typeof t=="string"?V0(r,t):t instanceof vm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sm{}class L0 extends Sm{}function bC(r,t,...i){let s=[];t instanceof Sm&&s.push(t),s=s.concat(i),function(c){const d=c.filter(y=>y instanceof Rm).length,g=c.filter(y=>y instanceof bm).length;if(d>1||d>0&&g>0)throw new ot($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class bm extends L0{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new bm(t,i,s)}_apply(t){const i=this._parse(t);return U0(t._query,i),new wa(t.firestore,t.converter,Cd(t._query,i))}_parse(t){const i=I0(t.firestore);return function(c,d,g,y,p,E,R){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Cv(R,E);const q=[];for(const X of R)q.push(wv(y,c,X));S={arrayValue:{values:q}}}else S=wv(y,c,R)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Cv(R,E),S=_C(g,d,R,E==="in"||E==="not-in");return ve.create(p,E,S)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Rm extends Sm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Rm(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Pn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)U0(d,y),d=Cd(d,y)}(t._query,i),new wa(t.firestore,t.converter,Cd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wm extends L0{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new wm(t,i)}_apply(t){const i=function(o,c,d){if(o.startAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ot($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vo(c,d)}(t._query,this._field,this._direction);return new wa(t.firestore,t.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new zs(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,i))}}function RC(r,t="asc"){const i=t,s=Am("orderBy",r);return wm._create(s,i)}function wv(r,t,i){if(typeof(i=va(i))=="string"){if(i==="")throw new ot($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(t)&&i.indexOf("/")!==-1)throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Wt.fromString(i));if(!mt.isDocumentKey(s))throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j_(r,new mt(s))}if(i instanceof we)return j_(r,i._key);throw new ot($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(i)}.`)}function Cv(r,t){if(!Array.isArray(r)||r.length===0)throw new ot($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function U0(r,t){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class wC{convertValue(t,i="none"){switch(Cr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(wr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Aa(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){const i=t.fields?.[bc].arrayValue?.values?.map(s=>de(s.doubleValue));return new ai(i)}convertGeoPoint(t){return new ri(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=zc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(po(t));default:return null}}convertTimestamp(t){const i=Rr(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);qt(e0(s),9688,{name:t});const o=new yo(s.get(1),s.get(3)),c=new mt(s.popFirst(5));return o.isEqual(i)||zi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class eo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ya extends M0{constructor(t,i,s,o,c,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(Am("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ya._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Ee("string",ya._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class gc extends ya{data(t={}){return super.data(t)}}class ws{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new eo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new gc(this._firestore,this._userDataWriter,s.key,s,new eo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new eo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:DC(g.type),doc:y,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ws._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Xd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}ws._jsonSchemaVersion="firestore/querySnapshot/1.0",ws._jsonSchema={type:Ee("string",ws._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class P0 extends wC{constructor(t){super(),this.firestore=t}convertBytes(t){return new In(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function IC(r,t){const i=ro(r.firestore,Oc),s=hC(r),o=CC(r.converter,t);return xC(i,[yC(I0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Ui.exists(!1))]).then(()=>s)}function NC(r,...t){r=va(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Rv(t[s])||(i=t[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Rv(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof we)d=ro(r.firestore,Oc),g=em(r._key.path),c={next:y=>{t[s]&&t[s](OC(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=ro(r,wa);d=ro(y.firestore,Oc),g=y._query;const p=new P0(d);c={next:E=>{t[s]&&t[s](new ws(d,p,y,E))},error:t[s+1],complete:t[s+2]},SC(r._query)}return function(p,E,R,S){const U=new sC(S),q=new j2(E,U,R);return p.asyncQueue.enqueueAndForget(async()=>P2(await _v(p),q)),()=>{U.Nu(),p.asyncQueue.enqueueAndForget(async()=>B2(await _v(p),q))}}(w0(d),g,o,c)}function xC(r,t){return function(s,o){const c=new pa;return s.asyncQueue.enqueueAndForget(async()=>Z2(await uC(s),o,c)),c.promise}(w0(r),t)}function OC(r,t,i){const s=i.docs.get(t._key),o=new P0(r);return new ya(r,o,t._key,s,new eo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Us=o})(Wb),Tc(new fo("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Oc(new gR(s.getProvider("auth-internal")),new _R(d,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(p.options.projectId,E)}(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),bs(D_,I_,t),bs(D_,I_,"esm2020")})();const VC={apiKey:"AIzaSyB9PgiVbPygVmhRDR109zlpPUYexJ9o_rc",authDomain:"projectmonday-c166d.firebaseapp.com",projectId:"projectmonday-c166d",storageBucket:"projectmonday-c166d.firebasestorage.app",messagingSenderId:"408773953381",appId:"1:408773953381:web:7f706bf6d45b38a611838c"},MC=iE(VC),B0=fC(MC),Dv=async r=>{try{return(await IC(R0(B0,"messages"),{...r,timestamp:te.now()})).id}catch(t){throw console.error("Error adding message: ",t),t}},LC=r=>{const t=bC(R0(B0,"messages"),RC("timestamp","asc"));return NC(t,i=>{const s=[];i.forEach(o=>{s.push({id:o.id,...o.data()})}),r(s)})},UC=()=>{const[r,t]=Q.useState([]),[i,s]=Q.useState(!1),[o,c]=Q.useState(null),d=Q.useRef(null),g=()=>{d.current?.scrollIntoView({behavior:"smooth"})};Q.useEffect(()=>{g()},[r,i]),Q.useEffect(()=>{const p=LC(E=>{const R=E.map(S=>({id:S.id||"",content:S.content,sender:S.sender,timestamp:S.timestamp.toDate()}));t(R)});return()=>p()},[]);const y=async p=>{if(p.trim()){c(null),s(!0);try{await Dv({content:p,sender:"user"});const E=await CS(p);await Dv({content:E,sender:"ai"})}catch(E){c(E instanceof Error?E.message:"An error occurred")}finally{s(!1)}}};return J.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[J.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.length===0&&J.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[J.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to AI Chat"}),J.jsx("p",{children:"Start a conversation with Gemini AI!"})]}),r.map(p=>J.jsx(Q1,{message:p},p.id)),i&&J.jsx(K1,{}),o&&J.jsx("div",{className:"text-center text-red-500 bg-red-50 p-3 rounded-lg",children:o}),J.jsx("div",{ref:d})]}),J.jsx(X1,{onSendMessage:y,disabled:i})]})},PC=()=>J.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[J.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:[J.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI Chat Assistant"}),J.jsx("p",{className:"text-gray-600 mt-1",children:"Get intelligent assistance with your OneFlow client management tasks • Powered by Google Gemini"})]}),J.jsx("div",{className:"flex-1 overflow-hidden",children:J.jsx(UC,{})})]});function BC(){return J.jsx(O1,{children:J.jsxs("div",{className:"min-h-screen bg-gray-50",children:[J.jsx(q1,{}),J.jsx("main",{className:"flex-1",style:{height:"calc(100vh - 64px)"},children:J.jsxs(u1,{children:[J.jsx(md,{path:"/",element:J.jsx(Y1,{})}),J.jsx(md,{path:"/chat",element:J.jsx(PC,{})})]})})]})})}_A.createRoot(document.getElementById("app")).render(J.jsx(Q.StrictMode,{children:J.jsx(BC,{})}));
